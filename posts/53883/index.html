<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.0//EN" "http://www.wapforum.org/DTD/xhtml-mobile10.dtd"><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=yes"><title>JavaScript——作用域 | Life &amp; Coding</title><link rel="icon" href="/blog/images/favicon.png"><link rel="stylesheet" href="/blog/nayo.min.css"></head><body><header class="header"><nav class="header-nav"><span class="iconfont icon-menu mobile-toggle"></span><div class="header-logo"><a href="/blog"><img class="header-logo-img" src="/blog/images/favicon.png"></a></div><div class="header-menu"><a class="header-menu-link" id="header-menu-home" href="/blog/"><i class="iconfont icon-home"></i></a><a class="header-menu-link" id="header-menu-archives" href="/blog/archives"><i class="iconfont icon-archives"></i></a><a class="header-menu-link" id="header-menu-tags" href="/blog/tags"><i class="iconfont icon-tags"></i></a><a class="header-menu-link" id="header-menu-about" href="/blog/about"><i class="iconfont icon-about"></i></a><a class="header-menu-link" id="header-menu-search"><i class="iconfont icon-search"></i></a></div></nav></header><div class="container"><section class="main"><article class="post"><div class="post-header"><p class="post-title">JavaScript——作用域</p><div class="meta-info"><span>Jan 22, 2019 </span><i class="iconfont icon-words"></i> <span>566 </span><span id="busuanzi_container_page_pv" style="display:none"><span id="busuanzi_value_page_pv"></span>次访问</span></div></div><div class="typo post-content slideDownMin"><h2 id="什么是作用域"><a href="#什么是作用域" class="headerlink" title="什么是作用域"></a>什么是作用域</h2><p>作用域是指程序源代码中定义变量的区域。<br>作用域规定了如何查找变量，也就是确定当前执行代码对变量的访问权限。<br>JavaScript 采用词法作用域(lexical scoping)，也就是静态作用域。</p><a id="more"></a><h2 id="静态作用域和动态作用域"><a href="#静态作用域和动态作用域" class="headerlink" title="静态作用域和动态作用域"></a>静态作用域和动态作用域</h2><ul><li>因为 JavaScript 采用的是词法作用域，函数的作用域在<strong>函数定义的时候</strong>就决定了。</li><li>而与词法作用域相对的是动态作用域，函数的作用域是在<strong>函数调用的时候</strong>才决定的。<br>（这里要划重点）</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var value = 1;</span><br><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">    console.log(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function bar() &#123;</span><br><span class="line">    var value = 2;</span><br><span class="line">    foo();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bar();</span><br></pre></td></tr></table></figure><ul><li><p>假设 JavaScript 采用静态作用域，让我们分析下执行过程：<br>执行 foo 函数，先从 foo 函数内部查找是否有局部变量 value，如果没有，就根据书写的位置，查找上面一层的代码，也就是 value 等于 1，所以结果会打印 1。</p></li><li><p>假设 JavaScript 采用动态作用域，让我们分析下执行过程：<br>执行 foo 函数，依然是从 foo 函数内部查找是否有局部变量 value。如果没有，就从调用函数的作用域，也就是 bar 函数内部查找 value 变量，所以结果会打印 2。</p></li></ul><p>JavaScript 采用的是静态作用域，所以这个例子的结果是 1。</p></div><div class="post-footer"><div class="post-footer-other"><span class="post-footer-item"><span class="donate-btn"><span class="iconfont icon-donate"></span></span><div id="donate-box" class="sildeUpMin"><span class="donate-cancel iconfont icon-cancel"></span><div class="donate-img-box"><img id="donate-qr-wechat" class="noLazyLoad donate-img" src="/blog/images/wechat.png" alt="No Donate Image!"> <img id="donate-qr-alipay" class="noLazyLoad donate-img" src="/blog/images/avatar.png" alt="No Donate Image!"></div><span class="donate-word"></span><div class="donate-list"><span class="iconfont icon-donate-wechat"></span> <span class="iconfont icon-donate-alipay"></span></div></div></span><span class="post-footer-item"><script id="-mob-share" src="http://f1.webshare.mob.com/code/mob-share.js?appkey=2837ebe4fd6c8"></script><span class="share-btn"><span class="iconfont icon-share"></span></span><div class="-mob-share sildeUpMin"><div class="-mob-inner"><a class="iconfont icon-share-qq -mob-share-link"></a> <a class="iconfont icon-share-weixin -mob-share-link"></a></div></div></span></div><div class="post-footer-meta"><i class="iconfont icon-tag"></i> <a class="tag-link" href="/blog/tags/JavaScript原理/">JavaScript原理</a></div></div><nav class="post-footer-nav"><div class="post-footer-link"><a href="/blog/posts/58701/" id="post-nav-newer" class="post-nav-link-wrap"><strong class="post-nav-caption">newer</strong> <a class="post-nav-title" href="/blog/posts/58701/">JavaScript——执行上下文栈</a></a></div><div class="post-footer-link"><a href="/blog/posts/568/" id="post-nav-older" class="post-nav-link-wrap"><strong class="post-nav-caption">older</strong> <a class="post-nav-title" href="/blog/posts/568/">JavaScript——原型与原型链</a></a></div></nav><div id="comment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@v1.1.8-beta/dist/Valine.min.js"></script><script>new Valine({av:AV,el:"#comment",notify:!1,verify:!1,app_id:"7kxu60nBeUEAJKLWktcgg0mz-9Nh9j0Va",app_key:"N40K3DuKj3WpLWwPJSbmuRyC",path:window.location.pathname,guest_info:["nick","mail"],placeholder:"ヾﾉ≧∀≦)o来啊，快活啊!"})</script></article><div class="toc-container"><div class="toc-sidebar"><p class="toc-title">Contents</p><div class="toc-list"><ol class="toc-inner"><li class="toc-inner-item toc-inner-level-2"><a class="toc-inner-link" href="#什么是作用域"><span class="toc-inner-text">什么是作用域</span></a></li><li class="toc-inner-item toc-inner-level-2"><a class="toc-inner-link" href="#静态作用域和动态作用域"><span class="toc-inner-text">静态作用域和动态作用域</span></a></li></ol></div></div></div></section></div><a id="backTop"><span><i class="iconfont icon-backtotop"></i></span></a><div class="search-container sildeUpMin"><div class="search-header"><input type="text" placeholder="Typing Something here." id="search-input" class="search-input"> <span class="search-cancel"><i class="iconfont icon-cancel"></i></span></div><div id="search-result" class="search-result"></div></div><div class="mobile-menu"><img class="mobile-menu-icon" src="/blog/images/favicon.png"> <a class="mobile-menu-link" href="/blog/">Home </a><a class="mobile-menu-link" href="/blog/archives">Archives </a><a class="mobile-menu-link" href="/blog/tags">Tags </a><a class="mobile-menu-link" href="/blog/about">About </a><a class="mobile-menu-link mobile-menu-search" href="#">Search</a></div><footer id="footer"><div class="footer-copyright">&copy; 2018- 2019 Keen King<br>Theme by <a href="https://github.com/Lemonreds/hexo-theme-Nayo" target="_blank">Nayo</a> <span id="busuanzi_container_site_pv">本站访客数<span id="busuanzi_value_site_pv"></span>人次</span></div><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></footer><script src="/blog/nayo.bundle.js"></script><script src="/blog/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/blog/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body></html>