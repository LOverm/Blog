<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Reactè·¯ç”±å®ˆå«å’Œå…¨å±€loadingæ§åˆ¶]]></title>
    <url>%2Fblog%2Fposts%2F25787%2F</url>
    <content type="text"><![CDATA[åœ¨å‰åç«¯åˆ†ç¦»çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šé‡åˆ°å®ç°å‰ç«¯è·¯ç”±æƒé™çš„éœ€æ±‚ä»¥åŠå…¨å±€ loading æ•ˆæœçš„éœ€æ±‚ï¼Œåœ¨ Vue é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è·¯ç”±å®ˆå« beforEachã€afterEach è¿™ä¸ªä¸¤ä¸ªé’©å­å‡½æ•°æ¥å®ç°è¿›å…¥ä¸€ä¸ªè·¯ç”±æ—¶çš„å…¨å±€ loading æ•ˆæœã€‚è€Œ vue-router ä¹Ÿæä¾›äº†çµæ´»çš„è·¯ç”±é…ç½®é¡¹å…è®¸æˆ‘ä»¬èµ‹äºˆè·¯ç”±æ›´å¤šçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æƒé™ç­‰ç­‰ã€‚åè§‚ react-router å¹¶æ²¡æœ‰ç›´æ¥æä¾›ç»™è¿™æ ·çš„ç»„ä»¶ã€‚è™½ç„¶è¯´ vue-router æœ¬èº«å°±æä¾›äº†çµæ´»çš„é…ç½®ï¼Œä½†æ˜¯ React é«˜é˜¶ç»„ä»¶ä¹Ÿèµ‹äºˆäº†æˆ‘ä»¬å¤§å±•èº«æ‰‹çš„æœºä¼šã€‚ å°è£…è·¯ç”±ç»„ä»¶1234567891011const App: React.FC = () =&gt; ( &lt;Provider store=&#123;store&#125;&gt; &lt;div className=&quot;App&quot;&gt; &lt;Switch&gt; &lt;AuthRoute config=&#123;RouteConfig&#125; /&gt; &lt;/Switch&gt; &lt;/div&gt; &lt;/Provider&gt;);export default withRouter(App); åœ¨æœ€å¤–éƒ¨æˆ‘ä»¬ä¸ä½¿ç”¨ react-router æä¾›çš„ Route çš„ç»„ä»¶ï¼Œè€Œæ˜¯ä½¿ç”¨æˆ‘ä»¬è‡ªå·±å°è£…çš„è·¯ç”±ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶æ¥å—ä¸€ä¸ª config å‚æ•°ï¼Œä¼ å…¥è·¯ç”±é…ç½®ï¼Œè¿™æ ·æˆ‘ä»¬ä¹Ÿå¯ä»¥åƒ vue ä¸­é‚£æ ·ç¼–å†™è·¯ç”±é…ç½®æ–‡ä»¶äº†ã€‚ è·¯ç”±é…ç½®æ–‡ä»¶å®šä¹‰å•ä¸ªè·¯ç”±é…ç½®çš„ç±»å‹ 12345export interface RouteItem &#123; path: string; component?: FC; auth?: boolean;&#125; æœ€å export å‡ºçš„è·¯ç”±é…ç½®ä¿¡æ¯ï¼Œå°±æ˜¯ç”± RouteItem ç»„æˆçš„æ•°ç»„ã€‚path ä»£è¡¨è·¯ç”±è·¯å¾„ï¼Œcomponent è¡¨ç¤ºå¯¹åº”çš„ç»„ä»¶ï¼Œauth è¡¨ç¤ºæ˜¯å¦éœ€è¦é‰´æƒï¼Œå¦‚æœæœ‰å¤šç§è§’è‰²çš„è¯ï¼Œé‚£ä¹ˆå°† auth è®¾ç½®æˆè§’è‰²åç§°ï¼Œåé¢å¢åŠ ä¸€ä¸‹åˆ¤æ–­æ–¹å¼ä¾¿å¯ã€‚ å…¨å±€ loading çš„ Redux è®¾è®¡æ—¢ç„¶è¦å®ç°å…¨å±€çš„ loadingï¼Œé‚£ä¹ˆä½¿ç”¨ redux æœ€åˆé€‚ä¸è¿‡äº†ã€‚è¿™é‡Œå°±ç›´æ¥è´´ä»£ç äº†ï¼Œredux çš„çŸ¥è¯†å°±ä¸ç»†è¯´äº†ã€‚ç”±äºä½¿ç”¨äº† combineReducersï¼Œæ‰€æœ‰æˆ‘ä»¬æŠŠ loading çš„çŠ¶æ€æ”¾åœ¨äº† app è¿™ä¸ª reducer ä¸­ã€‚actionTypes.ts 12345678const SET_LOADING = "SET_LOADING";export default &#123; /** * è®¾ç½®é¡µé¢çš„loadingçŠ¶æ€ */ SET_LOADING&#125;; app.action.ts 123456import actionTypes from "./actionTypes";export const setLoading = (newStatus: boolean) =&gt; (&#123; type: actionTypes.SET_LOADING, data: newStatus&#125;); app.reducer.ts 123456789101112131415161718import actionTypes from "./actionTypes";export interface AppState &#123; loading: boolean;&#125;const defaultState: AppState = &#123; loading: false&#125;;export default (state = defaultState, action: any) =&gt; &#123; switch (action.type) &#123; case actionTypes.SET_LOADING: return &#123; ...state, loading: action.data &#125;; default: return state; &#125;&#125;; å®ç° AuthRoute ç»„ä»¶ç”±äº AuthRoute ç»„ä»¶æ”¾åœ¨äº† Switch ç»„ä»¶å†…éƒ¨ï¼ŒReact Router è¿˜è‡ªåŠ¨ä¸º AuthRoute æ³¨å…¥äº† location å±æ€§ï¼Œå½“åœ°å€æ çš„è·¯ç”±å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°±ä¼šè§¦å‘ location å±æ€§å¯¹è±¡ä¸Šçš„ pathname å±æ€§å‘ç”Ÿå˜åŒ–ï¼Œæˆ‘ä»¬æ ¹æ®è¿™ä¸ªå˜åŒ–ï¼Œå†å»åŒ¹é…å…ˆå‰å†™å¥½çš„è·¯ç”±é…ç½®è·å¾—ç›¸åº”çš„ç»„ä»¶é‡æ–°æ¸²æŸ“å°±å¯ä»¥äº†ã€‚ å®ç°å…¨å±€ loadingæˆ‘ä»¬åªéœ€è¦åœ¨ Route ç»„ä»¶çš„å¤–éƒ¨åŒ…è£¹ä¸€å±‚ Spin ç»„ä»¶å°±å¯ä»¥äº†ï¼Œspin ç»„ä»¶çš„ loading çŠ¶æ€å°±æ˜¯ redux ä¸­çš„ loadingï¼Œå¦‚æœéœ€è¦æ ¹æ®ç½‘ç»œè¯·æ±‚æ¥å†³å®š loading æ—¶é—´ï¼Œåªéœ€è¦åœ¨ç›¸åº”çš„ç»„ä»¶é‡Œè®¾ç½® loading çš„å€¼å°±å¯ä»¥äº†ï¼Œä¸ºäº†æ–¹ä¾¿çœ‹æ•ˆæœï¼Œæˆ‘è¿™é‡Œå°±ç›´æ¥ç”¨å®šæ—¶å™¨äº†ã€‚ ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556const AuthRoute: React.FC&lt;any&gt; = props =&gt; &#123; const dispatch = useDispatch(); const loading: boolean = useSelector((state: Store) =&gt; state.app.loading); const &#123; pathname &#125; = props.location; const isLogin = localStorage.getItem(&quot;user_token&quot;); let timer = 0; useEffect(() =&gt; &#123; window.scrollTo(0, 0); dispatch(setLoading(true)); clearTimeout(timer); timer = window.setTimeout(() =&gt; &#123; dispatch(setLoading(false)); &#125;, 1000); &#125;, [pathname]); const targetRouterConfig: RouteItem = props.config.find( (v: RouteItem) =&gt; v.path === pathname ); if (targetRouterConfig &amp;&amp; !targetRouterConfig.auth &amp;&amp; !isLogin) &#123; const &#123; component &#125; = targetRouterConfig; return &lt;Route exact path=&#123;pathname&#125; component=&#123;component&#125; /&gt;; &#125; if (isLogin) &#123; // å¦‚æœæ˜¯ç™»é™†çŠ¶æ€ï¼Œæƒ³è¦è·³è½¬åˆ°ç™»é™†ï¼Œé‡å®šå‘åˆ°ä¸»é¡µ if (pathname === &quot;/login&quot;) &#123; return &lt;Redirect to=&quot;/&quot; /&gt;; &#125; // å¦‚æœè·¯ç”±åˆæ³•ï¼Œå°±è·³è½¬åˆ°ç›¸åº”çš„è·¯ç”± if (targetRouterConfig) &#123; return ( &lt;Spin tip=&quot;Loading&quot; size=&quot;large&quot; spinning=&#123;loading&#125; // indicator=&#123;&lt;Icon type=&quot;loading&quot; style=&#123;&#123; fontSize: 24 &#125;&#125; spin /&gt;&#125; style=&#123;&#123; maxHeight: &quot;none&quot; &#125;&#125; &gt; &lt;Route path=&#123;pathname&#125; component=&#123;targetRouterConfig.component&#125; /&gt; &lt;/Spin&gt; ); &#125; // å¦‚æœè·¯ç”±ä¸åˆæ³•ï¼Œé‡å®šå‘åˆ° 404 é¡µé¢ return &lt;Redirect to=&quot;/404&quot; /&gt;; &#125; // éç™»é™†çŠ¶æ€ä¸‹ï¼Œå½“è·¯ç”±åˆæ³•æ—¶ä¸”éœ€è¦æƒé™æ ¡éªŒæ—¶ï¼Œè·³è½¬åˆ°ç™»é™†é¡µé¢ï¼Œè¦æ±‚ç™»é™† if (targetRouterConfig &amp;&amp; targetRouterConfig.auth) &#123; return &lt;Redirect to=&quot;/login&quot; /&gt;; &#125; // éç™»é™†çŠ¶æ€ä¸‹ï¼Œè·¯ç”±ä¸åˆæ³•æ—¶ï¼Œé‡å®šå‘è‡³ 404 return &lt;Redirect to=&quot;/404&quot; /&gt;;&#125;;export default AuthRoute;]]></content>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React Fiberè°ƒåº¦æœºåˆ¶]]></title>
    <url>%2Fblog%2Fposts%2F35045%2F</url>
    <content type="text"><![CDATA[Fiber çš„ä½¿å‘½æˆ‘ä»¬éƒ½çŸ¥é“ JavaScript æ˜¯å•çº¿ç¨‹çš„ï¼ŒåŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªä»»åŠ¡è¿è¡Œã€‚ç„¶è€Œæµè§ˆå™¨é™¤äº†æ‰§è¡Œ JavaScript è¿˜æœ‰å¾ˆå¤šäº‹æƒ…è¦åšï¼Œæ¯”å¦‚äº‹ä»¶å¤„ç†ã€ç•Œé¢æ¸²æŸ“å’Œç»˜åˆ¶ã€ç½‘ç»œèµ„æºçš„åŠ è½½å’Œå¤„ç†ç­‰ç­‰ã€‚æ‰€ä»¥å½“ä¸€ä¸ª JavaScript ä»»åŠ¡é•¿æ—¶é—´å æ® CPU æ—¶ï¼Œåé¢ä»€ä¹ˆäº‹æƒ…å°±éƒ½åšä¸äº†äº†ï¼Œè¿™æ—¶é¡µé¢å°±ä¼šéå¸¸çš„å¡é¡¿ï¼Œç”¨æˆ·çš„ä½“éªŒä¼šå¾ˆå·®ã€‚ åœ¨ React ä¸­æ¸²æŸ“æ—¶ä¼šé€’å½’æ¯”å¯¹ VirtualDOM æ ‘ï¼Œæ‰¾å‡ºéœ€è¦å˜åŠ¨çš„èŠ‚ç‚¹ï¼Œç„¶ååŒæ­¥æ›´æ–°å®ƒä»¬, ä¸€æ°”å‘µæˆã€‚è¿™ä¸ªè¿‡ç¨‹ React ç§°ä¸º Reconcilationã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒReact ä¼šé•¿æ—¶é—´å ç”¨æµè§ˆå™¨çš„èµ„æºï¼Œå¯¼è‡´ç”¨æˆ·è§¦å‘çš„äº‹ä»¶å¾—ä¸åˆ°å“åº”å’Œæ‰å¸§ã€‚React çš„ Fiber æ¶æ„å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œç”Ÿã€‚ ä¸ºäº†ç»™ç”¨æˆ·åˆ¶é€ ä¸€ç§åº”ç”¨å¾ˆå¿«çš„â€™å‡è±¡â€™ï¼Œæˆ‘ä»¬ä¸èƒ½è®©ä¸€ä¸ªç¨‹åºé•¿æœŸéœ¸å ç€èµ„æº. ä½ å¯ä»¥å°†æµè§ˆå™¨çš„æ¸²æŸ“ã€å¸ƒå±€ã€ç»˜åˆ¶ã€èµ„æºåŠ è½½(ä¾‹å¦‚ HTML è§£æ)ã€äº‹ä»¶å“åº”ã€è„šæœ¬æ‰§è¡Œè§†ä½œæ“ä½œç³»ç»Ÿçš„â€™è¿›ç¨‹â€™ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡æŸäº›è°ƒåº¦ç­–ç•¥åˆç†åœ°åˆ†é… CPU èµ„æºï¼Œä»è€Œæé«˜æµè§ˆå™¨çš„ç”¨æˆ·å“åº”é€Ÿç‡, åŒæ—¶å…¼é¡¾ä»»åŠ¡æ‰§è¡Œæ•ˆç‡ã€‚ æ‰€ä»¥ React é€šè¿‡ Fiber æ¶æ„ï¼Œè®©è‡ªå·±çš„ Reconcilation è¿‡ç¨‹å˜æˆå¯è¢«ä¸­æ–­ã€‚ é€‚æ—¶åœ°è®©å‡º CPU æ‰§è¡Œæƒï¼Œè®©æµè§ˆå™¨èƒ½å¤ŸåŠæ—¶åœ°å“åº”ç”¨æˆ·çš„äº¤äº’ã€‚ ä½•ä¸º Fiberfiber åœ¨è‹±æ–‡ä¸­çš„æ„æ€æ˜¯â€œçº¤ç»´â€ã€‚åœ¨ React ä¸­ï¼Œå®ƒæ›´åƒæ˜¯ä¸€ç§æ•°æ®ç»“æ„æˆ–è€…æ‰§è¡Œå•å…ƒï¼Œæ¯å½“æ‰§è¡Œå®Œä¸€ä¸ªæ‰§è¡Œå•å…ƒï¼ŒReact å°±ä¼šæ£€æŸ¥ç°åœ¨è¿˜å‰©ä¸‹å¤šå°‘æ—¶é—´ï¼Œå¦‚æœæ²¡æœ‰æ—¶é—´å°±æŠŠæ§åˆ¶æƒäº¤å‡ºå»ã€‚Chrome æµè§ˆå™¨æä¾›äº†ä¸€ä¸ªæ¥å£â€”â€”requestIdleCallback requestIdleCallbacké¡µé¢æ˜¯ä¸€å¸§ä¸€å¸§ç»˜åˆ¶å‡ºæ¥çš„ï¼Œå½“æ¯ç§’ç»˜åˆ¶çš„å¸§æ•°ï¼ˆFPSï¼‰è¾¾åˆ° 60 æ—¶ï¼Œé¡µé¢æ˜¯æµç•…çš„ï¼Œå°äºè¿™ä¸ªå€¼æ—¶ï¼Œç”¨æˆ·ä¼šæ„Ÿè§‰åˆ°å¡é¡¿ã€‚1s60 å¸§ï¼Œæ‰€ä»¥æ¯ä¸€å¸§åˆ†åˆ°çš„æ—¶é—´æ˜¯ 1000/60 â‰ˆ 16 msã€‚æ‰€ä»¥æˆ‘ä»¬ä¹¦å†™ä»£ç æ—¶åŠ›æ±‚ä¸è®©ä¸€å¸§çš„å·¥ä½œé‡è¶…è¿‡ 16msã€‚æµè§ˆå™¨åœ¨ 1 å¸§çš„æ—¶é—´å†…éœ€è¦å®Œæˆå¦‚ä¸‹çš„å·¥ä½œï¼š å¤„ç†ç”¨æˆ·çš„äº¤äº’ JS è§£ææ‰§è¡Œ å¸§å¼€å§‹ã€‚çª—å£å°ºå¯¸å˜æ›´ï¼Œé¡µé¢æ»šå»ç­‰çš„å¤„ç† requestAnimationFrame å¸ƒå±€ ç»˜åˆ¶ä¸Šé¢å…­ä¸ªæ­¥éª¤å®Œæˆåæ²¡è¶…è¿‡ 16 msï¼Œè¯´æ˜æ—¶é—´æœ‰å¯Œä½™ï¼Œæ­¤æ—¶å°±ä¼šæ‰§è¡Œ requestIdleCallback é‡Œæ³¨å†Œçš„ä»»åŠ¡ã€‚æ­¤å¤–å¦‚æœæµè§ˆå™¨æ¯ä¸€å¸§éƒ½è¢«å®‰æ’æ»¡äº†ï¼ŒrequestIdleCallback æ³¨å†Œçš„ä»»åŠ¡æœ‰å¯èƒ½æ°¸è¿œä¸ä¼šæ‰§è¡Œã€‚æ­¤æ—¶å¯é€šè¿‡è®¾ç½® timeout æ¥ä¿è¯æ‰§è¡Œã€‚ ç›®å‰ requestIdleCallback ç›®å‰åªæœ‰ Chrome æ”¯æŒã€‚æ‰€ä»¥ç›®å‰ React è‡ªå·±å®ç°äº†ä¸€ä¸ª ã€‚å®ƒåˆ©ç”¨ MessageChannel æ¨¡æ‹Ÿå°†å›è°ƒå»¶è¿Ÿåˆ°ç»˜åˆ¶æ“ä½œä¹‹åæ‰§è¡Œã€‚ ä»»åŠ¡ä¼˜å…ˆçº§ä¸Šé¢è¯´äº†ï¼Œä¸ºäº†é¿å…ä»»åŠ¡è¢«é¥¿æ­»ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´. è¿™ä¸ªè¶…æ—¶æ—¶é—´ä¸æ˜¯æ­»çš„ï¼Œä½ä¼˜å…ˆçº§çš„å¯ä»¥æ…¢æ…¢ç­‰å¾…, é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡åº”è¯¥ç‡å…ˆè¢«æ‰§è¡Œ. ç›®å‰ React é¢„å®šä¹‰äº† 5 ä¸ªä¼˜å…ˆçº§ï¼š Immediate(-1) - è¿™ä¸ªä¼˜å…ˆçº§çš„ä»»åŠ¡ä¼šåŒæ­¥æ‰§è¡Œ, æˆ–è€…è¯´è¦é©¬ä¸Šæ‰§è¡Œä¸”ä¸èƒ½ä¸­æ–­ UserBlocking(250ms) è¿™äº›ä»»åŠ¡ä¸€èˆ¬æ˜¯ç”¨æˆ·äº¤äº’çš„ç»“æœ, éœ€è¦å³æ—¶å¾—åˆ°åé¦ˆ Normal (5s) åº”å¯¹å“ªäº›ä¸éœ€è¦ç«‹å³æ„Ÿå—åˆ°çš„ä»»åŠ¡ï¼Œä¾‹å¦‚ç½‘ç»œè¯·æ±‚ Low (10s) è¿™äº›ä»»åŠ¡å¯ä»¥æ”¾åï¼Œä½†æ˜¯æœ€ç»ˆåº”è¯¥å¾—åˆ°æ‰§è¡Œ. ä¾‹å¦‚åˆ†æé€šçŸ¥ Idle (æ²¡æœ‰è¶…æ—¶æ—¶é—´) ä¸€äº›æ²¡æœ‰å¿…è¦åšçš„ä»»åŠ¡ (e.g. æ¯”å¦‚éšè—çš„å†…å®¹), å¯èƒ½ä¼šè¢«é¥¿æ­» é‚£ä¹ˆå¦‚æœæˆ‘ä»¬ä½¿ç”¨ setState äº†æ¥æ›´æ–°ç»„ä»¶ï¼Œè¿™ä¸ªå¾…æ›´æ–°çš„ä»»åŠ¡ä¼šè¢«æ”¾è¿›æ›´æ–°é˜Ÿåˆ—ä¸­ï¼Œç„¶åé€šè¿‡ requestIdleCallback è¯·æ±‚æµè§ˆå™¨è°ƒåº¦ã€‚å¦‚æœå½“å‰ä½™æœ‰æ—¶é—´ï¼Œå°±ä¼šä»æ›´æ–°é˜Ÿåˆ—å¾ªç¯å¼¹å‡ºä»»åŠ¡æ¥æ‰§è¡Œï¼Œæ¯æ‰§è¡Œå®Œä¸€ä¸ªä»»åŠ¡å°±ä¼šåˆ¤æ–­ä¸€ä¸‹æ—¶é—´æ˜¯å¦å……è¶³ï¼Œå¦‚æœå……è¶³å°±è¿›è¡Œæ‰§è¡Œä¸‹ä¸€ä¸ªæ‰§è¡Œå•å…ƒï¼Œåä¹‹åˆ™åœæ­¢æ‰§è¡Œï¼Œä¿å­˜ç°åœºï¼Œç­‰ä¸‹ä¸€æ¬¡æœ‰æ‰§è¡Œæƒæ—¶æ¢å¤ã€‚ Fiber çš„æ•°æ®ç»“æ„åœ¨ react16 ä¹‹å‰ï¼ŒReconciliation æ˜¯åŒæ­¥çš„ã€é€’å½’æ‰§è¡Œçš„ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯åŸºäºå‡½æ•°â€™è°ƒç”¨æ ˆâ€˜çš„ Reconciliation ç®—æ³•ã€‚åªä¸è¿‡è¿™ç§ä¾èµ–äºè°ƒç”¨æ ˆçš„æ–¹å¼ä¸èƒ½éšæ„ä¸­æ–­ã€ä¹Ÿå¾ˆéš¾è¢«æ¢å¤, ä¸åˆ©äºå¼‚æ­¥å¤„ç†ã€‚ React ç›®å‰çš„åšæ³•æ˜¯é‡‡ç”¨é“¾è¡¨çš„æ•°æ®ç»“æ„ï¼Œæ¯ä¸ª VirtualDOM èŠ‚ç‚¹å†…éƒ¨ç°åœ¨ä½¿ç”¨Fiberè¡¨ç¤ºã€‚å…³é”®å±æ€§å¦‚ä¸‹ï¼š 12345678910111213const Fiber = &#123; tag: HOST_COMPONENT, type: "div", return: parentFiber, // æŒ‡å‘çˆ¶èŠ‚ç‚¹ child: childFiber, // æŒ‡å‘å­èŠ‚ç‚¹ sibling: null, // æŒ‡å‘å…„å¼ŸèŠ‚ç‚¹ alternate: currentFiber, stateNode: document.createElement("div") | instance, props: &#123; children: [], className: "foo" &#125;, partialState: null, effectTag: PLACEMENT, effects: []&#125;; return å­˜å‚¨çš„æ˜¯å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼ˆå…ƒç´ ï¼‰ï¼Œchild å­˜å‚¨çš„æ˜¯ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ï¼ˆå…ƒç´ ï¼‰ï¼Œsibling å­˜å‚¨çš„æ˜¯ä»–å³è¾¹ç¬¬ä¸€ä¸ªçš„å…„å¼ŸèŠ‚ç‚¹ï¼ˆå…ƒç´ ï¼‰ã€‚alternate ä¿å­˜æ˜¯å½“æ›´æ–°å‘ç”Ÿæ—¶å€™åŒä¸€ä¸ªèŠ‚ç‚¹å¸¦æœ‰æ–°çš„ props å’Œ state ç”Ÿæˆçš„æ–° fiber èŠ‚ç‚¹ã€‚ é‚£ä¹ˆè™šæ‹Ÿ dom çš„å­˜å‚¨ç»“æ„ç”¨é“¾è¡¨çš„å½¢å¼æè¿°äº†æ•´æ£µæ ‘ã€‚ ä¸¾ä¸ª ğŸŒ°ï¼š æ‰€ä»¥æ•´ä¸ª Fiber Diff çš„å¤§è‡´è¿‡ç¨‹å¦‚ä¸‹ï¼šç¢°åˆ°ä¸€ä¸ªèŠ‚ç‚¹å’Œ alternate æ¯”è¾ƒå¹¶è®°å½•ä¸‹éœ€è¦æ›´æ–°çš„ä¸œè¥¿ï¼Œå¹¶æŠŠè¿™äº›æ›´æ–°æäº¤åˆ°å½“å‰èŠ‚ç‚¹çš„çˆ¶äº²ã€‚å½“éå†å®Œè¿™é¢—æ ‘çš„æ—¶å€™ï¼Œå†é€šè¿‡ return å›æº¯åˆ°æ ¹èŠ‚ç‚¹ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­æŠŠæ‰€æœ‰çš„æ›´æ–°å…¨éƒ¨å¸¦åˆ°æ ¹èŠ‚ç‚¹ï¼Œå†ä¸€æ¬¡æ›´æ–°åˆ°çœŸå®çš„ dom ä¸­å»ã€‚ è¿™ä¸ªéå†çš„è¿‡ç¨‹æ˜¯å¯ä»¥ä¸­æ–­çš„ï¼Œç”±äºæ˜¯é“¾è¡¨ç»“æ„ï¼Œreact åªéœ€ç”¨ä¸€ä¸ªå˜é‡å­˜å‚¨ä¸€ä¸‹æš‚åœçš„èŠ‚ç‚¹ï¼Œç­‰ä¸‹ä¸€æ¬¡æµè§ˆå™¨æœ‰ç©ºä½™æ—¶é—´çš„æ—¶å€™ï¼Œå†ç»§ç»­æ‰§è¡Œ diffã€‚ æºç åˆ†ææœ€åä»æºç è§’åº¦æ¥æ¢³ç†ä¸€ä¸‹æ•´ä¸ª setState çš„è¿‡ç¨‹ï¼š setState å…ˆæŠŠæ­¤æ¬¡æ›´æ–°æ”¾åˆ°æ›´æ–°é˜Ÿåˆ— updateQueue é‡Œé¢ï¼Œç„¶åè°ƒç”¨è°ƒåº¦å™¨å¼€å§‹åšæ›´æ–°ä»»åŠ¡ã€‚ 1234// react/srs/ReactBaseClasses.jsComponent.prototype.setState = function(partialState, callback) &#123; this.updater.enqueueSetState(this, partialState, callback, "setState");&#125;; 123456// react-reconciler/src/ReactFiberClassComponent.jsenqueueSetState(inst, payload, callback) &#123; ...... enqueueUpdate(fiber, update); scheduleWork(fiber, expirationTime); // å¼€å§‹è¿›è¡Œè°ƒåº¦ &#125;, ç„¶åä¼šæ‰§è¡Œåˆ° workLoop è¿™ä¸ªå‡½æ•°ï¼Œå…¶ä¸­ workInProgress å­˜å‚¨çš„å°±æ˜¯ä¸€ä¸ª Fiber èŠ‚ç‚¹çš„ alternate å±æ€§ã€‚å¦‚æœ workInProgress å­˜åœ¨å°±è¡¨ç¤ºä¸Šæ¬¡ä»»åŠ¡ä¸­æ–­äº†ï¼Œéœ€è¦ç»§ç»­è°ƒåº¦æ‰§è¡Œã€‚ï¼ˆWIP æ ‘å°±æ˜¯ä¸€ä¸ªç¼“å†²ï¼Œå®ƒåœ¨ Reconciliation å®Œæ¯•åä¸€æ¬¡æ€§æäº¤ç»™æµè§ˆå™¨è¿›è¡Œæ¸²æŸ“ã€‚å®ƒå¯ä»¥å‡å°‘å†…å­˜åˆ†é…å’Œåƒåœ¾å›æ”¶ï¼ŒWIP çš„èŠ‚ç‚¹ä¸å®Œå…¨æ˜¯æ–°çš„ï¼Œæ¯”å¦‚æŸé¢—å­æ ‘ä¸éœ€è¦å˜åŠ¨ï¼ŒReact ä¼šå…‹éš†å¤ç”¨æ—§æ ‘ä¸­çš„å­æ ‘ã€‚åŒç¼“å­˜æŠ€æœ¯è¿˜æœ‰å¦å¤–ä¸€ä¸ªé‡è¦çš„åœºæ™¯å°±æ˜¯å¼‚å¸¸çš„å¤„ç†ï¼Œæ¯”å¦‚å½“ä¸€ä¸ªèŠ‚ç‚¹æŠ›å‡ºå¼‚å¸¸ï¼Œä»ç„¶å¯ä»¥ç»§ç»­æ²¿ç”¨æ—§æ ‘çš„èŠ‚ç‚¹ï¼Œé¿å…æ•´æ£µæ ‘æŒ‚æ‰ã€‚ï¼‰ 12345function workLoopSync() &#123; while (workInProgress !== null) &#123; workInProgress = performUnitOfWork(workInProgress); &#125;&#125; å¯ä»¥çœ‹åˆ° performUnitOfWork çš„é€»è¾‘å°±æ˜¯å¯¹å½“å‰èŠ‚ç‚¹çš„ fiber èŠ‚ç‚¹å’Œ fiber èŠ‚ç‚¹çš„ alternate å±æ€§è¿›è¡Œ diff è®¡ç®—ï¼Œä¹Ÿæ˜¯æ—§æ ‘å’Œæ–°æ ‘çš„ diffã€‚diff å®Œçœ‹çœ‹æœ‰æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œå¦‚æœæ²¡æœ‰å­èŠ‚ç‚¹åˆ™æŠŠæ›´æ–°å…ˆæäº¤åˆ°çˆ¶èŠ‚ç‚¹ã€‚ç„¶åå†çœ‹æœ‰æ²¡æœ‰å…„å¼ŸèŠ‚ç‚¹ï¼Œå¦‚æœæœ‰åˆ™è¿”å›å‡ºå»å½“ä½œä¸‹æ¬¡éå†çš„èŠ‚ç‚¹ã€‚å¦‚æœè¿˜æ˜¯æ²¡æœ‰ï¼Œè¯´æ˜æ•´ä¸ª fiber æ ‘å·²ç»éå†å®Œäº†ï¼Œåˆ™è¿›å…¥åˆ°å›æº¯è¿‡ç¨‹ï¼ŒæŠŠæ‰€æœ‰çš„æ›´æ–°éƒ½é›†ä¸­åˆ°æ ¹èŠ‚ç‚¹è¿›è¡Œæ›´æ–°çœŸå® domã€‚ï¼ˆå…·ä½“çš„ diff ç®—æ³•è¿‡ç¨‹ç­‰ä¸‹ä¸€ç¯‡åšå®¢å†å†™ï¼‰ 12345678910111213141516171819202122232425262728function performUnitOfWork(unitOfWork: Fiber): Fiber | null &#123; // The current, flushed, state of this fiber is the alternate. Ideally // nothing should rely on this, but relying on it here means that we don't // need an additional field on the work in progress. const current = unitOfWork.alternate; startWorkTimer(unitOfWork); setCurrentDebugFiberInDEV(unitOfWork); let next; if (enableProfilerTimer &amp;&amp; (unitOfWork.mode &amp; ProfileMode) !== NoMode) &#123; startProfilerTimer(unitOfWork); next = beginWork(current, unitOfWork, renderExpirationTime); stopProfilerTimerIfRunningAndRecordDelta(unitOfWork, true); &#125; else &#123; next = beginWork(current, unitOfWork, renderExpirationTime); &#125; resetCurrentDebugFiberInDEV(); unitOfWork.memoizedProps = unitOfWork.pendingProps; if (next === null) &#123; // If this doesn't spawn new work, complete the current work. next = completeUnitOfWork(unitOfWork); &#125; ReactCurrentOwner.current = null; return next;&#125;]]></content>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é¢è¯•å¸¸é—®çš„æ“ä½œç³»ç»ŸçŸ¥è¯†]]></title>
    <url>%2Fblog%2Fposts%2F17609%2F</url>
    <content type="text"><![CDATA[è¿›ç¨‹è¿›ç¨‹æ˜¯å…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†åˆä¸Šè¿è¡Œçš„è¿‡ç¨‹ï¼Œå®ƒæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ã€‚ç³»ç»Ÿåˆ©ç”¨è¿›ç¨‹æ§åˆ¶å—æ¥ç®¡ç†å’Œæ§åˆ¶è¿›ç¨‹ çº¿ç¨‹çº¿ç¨‹æ˜¯ç¨‹åºä¸­çš„ä¸€ä¸ªæ‰§è¡Œæµï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ä¸“æœ‰å¯„å­˜å™¨(æ ˆæŒ‡é’ˆã€ç¨‹åºè®¡æ•°å™¨ç­‰)ï¼Œä½†ä»£ç åŒºæ˜¯å…±äº«çš„ï¼Œå³ä¸åŒçš„çº¿ç¨‹å¯ä»¥æ‰§è¡ŒåŒæ ·çš„å‡½æ•°ã€‚ å¤šçº¿ç¨‹å¤šçº¿ç¨‹æ˜¯æŒ‡ç¨‹åºä¸­åŒ…å«å¤šä¸ªæ‰§è¡Œæµï¼Œå³åœ¨ä¸€ä¸ªç¨‹åºä¸­å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªä¸åŒçš„çº¿ç¨‹æ¥æ‰§è¡Œä¸åŒçš„ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯è¯´å…è®¸å•ä¸ªç¨‹åºåˆ›å»ºå¤šä¸ªå¹¶è¡Œæ‰§è¡Œçš„çº¿ç¨‹æ¥å®Œæˆå„è‡ªçš„ä»»åŠ¡ã€‚ ä¼˜ç‚¹å¯ä»¥æé«˜ CPU çš„åˆ©ç”¨ç‡ã€‚åœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­ï¼Œä¸€ä¸ªçº¿ç¨‹å¿…é¡»ç­‰å¾…çš„æ—¶å€™ï¼ŒCPU å¯ä»¥è¿è¡Œå…¶å®ƒçš„çº¿ç¨‹è€Œä¸æ˜¯ç­‰å¾…ï¼Œè¿™æ ·å°±å¤§å¤§æé«˜äº†ç¨‹åºçš„æ•ˆç‡ã€‚ ç¼ºç‚¹ çº¿ç¨‹ä¹Ÿæ˜¯ç¨‹åºï¼Œæ‰€ä»¥çº¿ç¨‹éœ€è¦å ç”¨å†…å­˜ï¼Œçº¿ç¨‹è¶Šå¤šå ç”¨å†…å­˜ä¹Ÿè¶Šå¤šï¼› å¤šçº¿ç¨‹éœ€è¦åè°ƒå’Œç®¡ç†ï¼Œæ‰€ä»¥éœ€è¦ CPU æ—¶é—´è·Ÿè¸ªçº¿ç¨‹ï¼› çº¿ç¨‹ä¹‹é—´å¯¹å…±äº«èµ„æºçš„è®¿é—®ä¼šç›¸äº’å½±å“ï¼Œå¿…é¡»è§£å†³ç«ç”¨å…±äº«èµ„æºçš„é—®é¢˜ï¼› çº¿ç¨‹å¤ªå¤šä¼šå¯¼è‡´æ§åˆ¶å¤ªå¤æ‚ï¼Œæœ€ç»ˆå¯èƒ½é€ æˆå¾ˆå¤š Bugï¼› è¿›ç¨‹å’Œçº¿ç¨‹çº¿ç¨‹ç›¸å¯¹äºè¿›ç¨‹çš„ä¼˜ç‚¹ï¼š å¼€é”€å° èµ„æºå…±äº«æ€§å¥½ã€‚ çº¿ç¨‹ç›¸å¯¹äºè¿›ç¨‹çš„ç¼ºç‚¹ï¼š å…±äº«èµ„æºéœ€è¦è€—è´¹ä¸€å®šçš„é”èµ„æºï¼ŒåŒæ­¥ç›¸å¯¹å¤æ‚ã€‚ ä¸€ä¸ªçº¿ç¨‹å´©æºƒå¯èƒ½å¯¼è‡´æ•´ä¸ªè¿›ç¨‹å´©æºƒï¼Œè¿™ä¸ªå½“ç„¶æ˜¯è‡ªå·±çš„åº”ç”¨ç¨‹åºæœ‰é—®é¢˜ è¿›ç¨‹é—´é€šä¿¡ ç®¡é“ æ¶ˆæ¯é˜Ÿåˆ— ä¿¡å·é‡ å…±äº«å†…å­˜ æœªå®Œå¾…ç»­â€¦..]]></content>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµ…æV8å¼•æ“åƒåœ¾å›æ”¶æœºåˆ¶]]></title>
    <url>%2Fblog%2Fposts%2F44235%2F</url>
    <content type="text"><![CDATA[ä¸ºä»€ä¹ˆéœ€è¦åƒåœ¾å›æ”¶JavaScript å’Œ Java ä¸€æ ·ç”±åƒåœ¾å›æ”¶æœºåˆ¶è¿›è¡Œè‡ªåŠ¨å†…å­˜ç®¡ç†ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬å¼€å‘è€…ä¸éœ€è¦åƒ C/C++ ç¨‹åºå‘˜é‚£æ ·åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™æ—¶åˆ»å…³æ³¨å†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾é—®é¢˜ã€‚äº‹å®ä¸Šï¼Œåœ¨æµè§ˆå™¨ä¸­è¿›è¡Œå¼€å‘æ—¶ï¼Œå‡ ä¹å¾ˆå°‘æœ‰äººèƒ½é‡åˆ°åƒåœ¾å›æ”¶å¯¹åº”ç”¨ç¨‹åºæ€§èƒ½å½±å“çš„æƒ…å†µã€‚ç„¶è€Œåœ¨ Node ç¯å¢ƒä¸‹ï¼Œå¯¹äºæ€§èƒ½æ•æ„Ÿçš„æœåŠ¡ç«¯ç¨‹åºï¼Œå†…å­˜ç®¡ç†å’Œåƒåœ¾å›æ”¶çŠ¶å†µå¥½åéƒ½ä¼šå¯¹æœåŠ¡äº§ç”Ÿå½±å“ã€‚ Node ä¸ V8æˆ‘ä»¬éƒ½çŸ¥é“ Google çš„ Chrome æµè§ˆå™¨ä»¥å…¶æ€§èƒ½ä¼˜å¼‚æˆä¸ºç„¦ç‚¹ï¼ŒChrome èƒŒåçš„æˆåŠŸç¦»ä¸å¼€ JavaScript å¼•æ“ V8ã€‚V8 çš„æ€§èƒ½ä¼˜åŠ¿ä½¿å¾—ä½¿ç”¨ JavaScript ç¼–å†™é«˜æ€§èƒ½åå°æœåŠ¡ç¨‹åºæˆä¸ºå¯èƒ½ï¼Œåœ¨è¿™æ ·çš„å¥‘æœºä¸‹ï¼ŒNode çš„åˆ›å§‹äºº Ryan Dahl é€‰æ‹©äº† V8 ï¼Œåœ¨äº‹ä»¶é©±åŠ¨ï¼Œéé˜»å¡ I/O æ¨¡å‹çš„è®¾è®¡ä¸‹å®ç°äº† Nodeã€‚ V8 çš„å†…å­˜é™åˆ¶åœ¨ä¸€èˆ¬çš„åç«¯å¼€å‘è¯­è¨€ä¸­ï¼Œåœ¨åŸºæœ¬çš„å†…å­˜ä½¿ç”¨ä¸Šæ²¡æœ‰ä»€ä¹ˆé™åˆ¶ï¼Œç„¶è€Œåœ¨ Node ä¸­é€šè¿‡ JavaScript ä½¿ç”¨å†…å­˜å°±ä¼šå‘ç°åªèƒ½ä½¿ç”¨éƒ¨åˆ†å†…å­˜ï¼Œ64 ä½æ“ä½œç³»ç»Ÿä¸‹çº¦ä¸º 1.4GBï¼Œ32 ä½ç³»ç»Ÿä¸‹çº¦ä¸º 0.7GBã€‚è¿™ç§å†…å­˜é™åˆ¶ï¼Œåœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹ä½¿ç”¨èµ·æ¥ç»°ç»°æœ‰ä½™ï¼Œä½†æ˜¯åœ¨æœåŠ¡ç«¯å´é™åˆ¶äº†å¼€å‘è€…éšå¿ƒæ‰€æ¬²ä½¿ç”¨å¤§å†…å­˜çš„æƒ³æ³•ã€‚ åƒåœ¾å›æ”¶æœºåˆ¶å†…å­˜åˆ†ä»£åœ¨ V8 ä¸­ï¼Œä¸»è¦å°†å†…å­˜åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€ç”Ÿä»£ä¸¤ç§ï¼Œæ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡ä¸ºå­˜æ´»æ—¶é—´è¾ƒçŸ­çš„å¯¹è±¡ï¼Œè€ç”Ÿä»£ä¸­çš„å¯¹è±¡ä¸ºå­˜æ´»æ—¶é—´è¾ƒé•¿æˆ–å¸¸é©»å†…å­˜çš„å¯¹è±¡ã€‚ æ–°ç”Ÿä»£ç®—æ³•æ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡ä¸€èˆ¬å­˜æ´»æ—¶é—´è¾ƒçŸ­ï¼Œä½¿ç”¨ Scavenge GC ç®—æ³•ã€‚åœ¨æ–°ç”Ÿä»£ç©ºé—´ä¸­ï¼Œå†…å­˜ç©ºé—´åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œåˆ†åˆ«ä¸º From ç©ºé—´å’Œ To ç©ºé—´ã€‚åœ¨è¿™ä¸¤ä¸ªç©ºé—´ä¸­ï¼Œå¿…å®šæœ‰ä¸€ä¸ªç©ºé—´æ˜¯ä½¿ç”¨çš„ï¼Œå¦ä¸€ä¸ªç©ºé—´æ˜¯ç©ºé—²çš„ã€‚æ–°åˆ†é…çš„å¯¹è±¡ä¼šè¢«æ”¾å…¥ From ç©ºé—´ä¸­ï¼Œå½“ From ç©ºé—´è¢«å æ»¡æ—¶ï¼Œæ–°ç”Ÿä»£ GC å°±ä¼šå¯åŠ¨äº†ã€‚ç®—æ³•ä¼šæ£€æŸ¥ From ç©ºé—´ä¸­å­˜æ´»çš„å¯¹è±¡å¹¶å¤åˆ¶åˆ° To ç©ºé—´ä¸­ï¼Œå¦‚æœæœ‰å¤±æ´»çš„å¯¹è±¡å°±ä¼šé”€æ¯ã€‚å½“å¤åˆ¶å®Œæˆåå°† From ç©ºé—´å’Œ To ç©ºé—´äº’æ¢ï¼Œè¿™æ · GC å°±ç»“æŸäº†ã€‚å½“ä¸€ä¸ªå¯¹è±¡ç»è¿‡å¤šæ¬¡å¤åˆ¶ä¾ç„¶å­˜æ´»æ—¶ï¼Œå®ƒå°†ä¼šè¢«è®¤ä¸ºæ˜¯ç”Ÿå‘½å‘¨æœŸè¾ƒé•¿çš„å¯¹è±¡ï¼Œè¿™ç§å¯¹è±¡éšåä¼šè¢«ç§»åŠ¨åˆ°è€ç”Ÿä»£ä¸­ï¼Œé‡‡ç”¨æ–°çš„ç®—æ³•ç®¡ç†ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºæ™‹å‡ã€‚æ™‹å‡çš„æ¡ä»¶ä¸»è¦æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯å¯¹è±¡æ˜¯å¦ç»è¿‡ Scavenge å›æ”¶ï¼Œä¸€ä¸ªæ˜¯ To ç©ºé—´çš„å†…å­˜å æ¯”è¶…è¿‡é™åˆ¶ã€‚ è€ç”Ÿä»£ç®—æ³•V8 åœ¨è€ç”Ÿä»£ä¸­ä¸»è¦é‡‡ç”¨Mark-Sweepå’ŒMark-Compactç›¸ç»“åˆæ–¹å¼è¿›è¡Œåƒåœ¾å›æ”¶Mark-Sweep æ˜¯æ ‡è®°æ¸…é™¤çš„æ„æ€ï¼Œå®ƒåˆ†ä¸ºæ ‡è®°å’Œæ¸…é™¤ä¸¤ä¸ªé˜¶æ®µã€‚Mark-Sweep åœ¨æ ‡è®°é˜¶æ®µéå†å †ä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œå¹¶æ ‡è®°æ´»ç€çš„å¯¹è±¡ï¼Œåœ¨éšåçš„æ¸…é™¤é˜¶æ®µä¸­ï¼Œåªæ¸…é™¤æ²¡æœ‰è¢«æ ‡è®°çš„å¯¹è±¡ã€‚Mark-Sweep æœ€å¤§çš„é—®é¢˜æ˜¯åœ¨ä¸€æ¬¡æ ‡è®°æ¸…é™¤å›æ”¶åï¼Œå†…å­˜ç©ºé—´ä¼šå‡ºç°ä¸è¿ç»­çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯å†…å­˜ç¢ç‰‡ã€‚å½“å‡ºç°éœ€è¦åˆ†é…ä¸€ä¸ªå¤§å¯¹è±¡çš„æƒ…å†µï¼Œæ‰€æœ‰çš„ç¢ç‰‡ç©ºé—´éƒ½æ— æ³•å®Œæˆæ­¤æ¬¡åˆ†é…ï¼Œå°±ä¼šæå‰è§¦å‘åƒåœ¾å›æ”¶ï¼Œè€Œè¿™æ˜¯ä¸å¿…è¦çš„ã€‚Mark-Compact æ˜¯æ ‡è®°æ•´ç†çš„æ„æ€ï¼Œå®ƒåœ¨å¯¹è±¡è¢«æ ‡è®°æ­»äº¡åï¼Œåœ¨æ•´ç†çš„è¿‡ç¨‹ä¸­ï¼Œå°†æ´»ç€çš„å¯¹è±¡å¾€ä¸€ç«¯ç§»åŠ¨ï¼Œç§»åŠ¨å®Œæˆåï¼Œæ¸…ç†æ‰è¾¹ç•Œå¤–çš„å†…å­˜ã€‚]]></content>
      <tags>
        <tag>JavaScriptåŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®ç°ä¸€ä¸ªå°å°çš„è¾“å‡ºç‰¹æ•ˆ]]></title>
    <url>%2Fblog%2Fposts%2F25817%2F</url>
    <content type="text"><![CDATA[ç©¶ç«Ÿæ˜¯ä»€ä¹ˆæ•ˆæœå‘¢ï¼Ÿ æ˜¾è€Œæ˜“è§ï¼Œè¿™ä¸ªæ•ˆæœå°±æ˜¯åœ¨å…‰æ ‡å‰é¢ä¾æ¬¡æ’å…¥å­—æ¯ï¼Œæ¯ä¸ªå­—æ¯çš„é¢œè‰²éšæœºã€‚æˆ‘ä»¬å…ˆæå‰å†™å¥½ä¸€äº›é¢œè‰²çš„æ ·å¼ï¼Œcolor0â€¦.16ï¼Œç„¶åä½¿ç”¨éšæœºæ•°ä½¿ç”¨å°±å¯ä»¥äº†ã€‚å¯ä»¥åœ¨ CodeOpen ä¸Šç›´æ¥æŸ¥çœ‹ DOM ç»“æ„123&lt;div class=&quot;content&quot;&gt; &lt;span id=&quot;jsblink&quot; class=&quot;blink&quot;&gt;|&lt;/span&gt;&lt;/div&gt; å¾ˆç®€å•çš„ä¸€ä¸ª dom ç»“æ„ï¼Œid ä¸º jsblink çš„ span æ ‡ç­¾æ˜¯ä¸€ä¸ªé—ªåŠ¨çš„å…‰æ ‡ä½¿ç”¨ css3 åŠ¨ç”»å®ç°ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314.blink &#123; animation: blink 1s infinite steps(1, start); font-size: 30px;&#125;@keyframes blink &#123; 0%, 100% &#123; color: #fff; &#125; 50% &#123; color: #000; &#125;&#125; å®ç°é€»è¾‘æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ª output å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ª string å‚æ•°ï¼Œé¦–å…ˆæˆ‘ä»¬å…ˆè®²å‚æ•°æŒ‰æ¯ä¸ªå­—ç¬¦åˆ†è§£æˆä¸€ä¸ªæ•°ç»„ï¼Œç„¶åå°†æ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´ ä½œä¸ºä¸€ä¸ª span æ ‡ç­¾çš„å†…å®¹ï¼ˆå¦‚æœæ˜¯/n é‚£ä¹ˆå°±æ˜¯ br æ ‡ç­¾ï¼‰ï¼Œå°†è¿™ä¸ªæ ‡ç­¾æ’å…¥åˆ° jsblink è¿™ä¸ª span æ ‡ç­¾çš„å‰é¢ã€‚é‚£ä¹ˆå¦‚ä½•å°†ä¸€ä¸ª dom å…ƒç´ æ’å…¥åˆ°å¦ä¸€ä¸ª dom å…ƒç´ çš„å‰é¢å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬ç”¨åˆ° html5 çš„ä¸€ä¸ª APIâ€”â€”insertBeforeï¼Œå®ƒçš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ å¥½äº†ä¸‹é¢è´´ä»£ç  123456789101112131415161718192021222324function output(str) &#123; var arr = str.split(&apos;&apos;) var parent = document.getElementsByClassName(&apos;content&apos;)[0] setInterval(() =&gt; &#123; if (arr.length != 0) &#123; var blink = document.getElementById(&apos;jsblink&apos;) if (arr[0] == &apos;/n&apos;) &#123; var newEl = document.createElement(&apos;br&apos;) parent.insertBefore(newEl, blink) &#125; else &#123; var newEl = document.createElement(&apos;span&apos;) var num = Math.floor(Math.random() * 16) var color = &apos;color&apos; + num newEl.classList.add(&apos;word&apos;) newEl.classList.add(color) newEl.innerText = arr[0] parent.insertBefore(newEl, blink) &#125; arr.shift() &#125; &#125;, 500) &#125; output(&apos;Hello World!&apos;)]]></content>
      <tags>
        <tag>2019æ˜¥æ‹›</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€ç¯‡ç®€å•æ˜“æ‡‚çš„Vueå“åº”å¼åŸç†ä»‹ç»]]></title>
    <url>%2Fblog%2Fposts%2F30111%2F</url>
    <content type="text"><![CDATA[å‰è¨€æœ€è¿‘åœ¨å­¦ä¹  Vue çš„æºç ï¼ŒVue å“åº”å¼åŸç†åœ¨é¢è¯•ä¸­ä¹Ÿæ˜¯ç»å¸¸ä¼šè¢«é—®åˆ°çš„ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨è·Ÿç€æ…•è¯¾ç½‘é»„è€å¸ˆå­¦ä¹ æºç çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°æºç æœ‰ç‚¹éš¾æ‡‚ï¼ˆå“­ï¼‰ã€‚æœ€è¿‘åœ¨ç½‘ä¸Šçœ‹äº†å‡ ç‰‡ä»‹ç»å“åº”å¼åŸç†çš„æ–‡ç« ï¼Œåœ¨è¿™é‡Œä»¥ä¸€ç§é€šä¿—æ˜“æ‡‚çš„æ–¹å¼è®°å½•ä¸€ä¸‹ã€‚ ä»€ä¹ˆæ˜¯å“åº”å¼åŸç†æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒVue.js æ˜¯ç”±æ•°æ®é©±åŠ¨ UI å˜åŒ–çš„æ¡†æ¶ï¼Œä¹Ÿå³æ˜¯è¯´ï¼Œæ•°æ®å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œè§†å›¾ä¼šé‡æ–°æ¸²æŸ“ï¼ŒåŒ¹é…æ›´æ–°ä¸ºæœ€æ–°çš„å€¼ã€‚è¿™å°±æ˜¯å“åº”å¼ï¼Œåªè¦åœ¨ Vue å®ä¾‹ä¸­å£°æ˜è¿‡çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°æ®å°±æ˜¯å“åº”å¼çš„ã€‚æˆ‘ä»¬å¯ä»¥æå‡ºä¸‰ä¸ªé—®é¢˜ï¼š Vue æ˜¯æ€ä¹ˆçŸ¥é“æ•°æ®æ”¹å˜ï¼Ÿ Vue åœ¨æ•°æ®æ”¹å˜æ—¶ï¼Œæ€ä¹ˆçŸ¥é“é€šçŸ¥å“ªäº›è§†å›¾æ›´æ–°ï¼Ÿ Vue åœ¨æ•°æ®æ”¹å˜æ—¶ï¼Œè§†å›¾æ€ä¹ˆçŸ¥é“ä»€ä¹ˆæ—¶å€™æ›´æ–°ï¼Ÿåœ¨ Vue ä¸­å¯¹åº”ç€ä¸‰ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆå…³é”®è¯åˆ†åˆ«æ˜¯ Object.defineProperty ä¾èµ–æ”¶é›† æ´¾å‘æ›´æ–°ã€‚æˆ‘ä»¬ä¸€ä¸€è§£é‡Šè¿™ä¸‰ä¸ªå…³é”®è¯ã€‚ Object.definePropertyè¿™ä¸ªæ–¹æ³•ï¼Œæ˜¯ Vue å“åº”å¼ç³»ç»Ÿçš„ç²¾é«“ï¼Œéª¨é«“ï¼Œè„‘é«“ï¼ˆæ ¸å¿ƒå‘ï¼ï¼‰ä½¿ç”¨ Object.defineProperty å¯ä»¥ä¸ºå¯¹è±¡ä¸­çš„æ¯ä¸€ä¸ªå±æ€§ï¼Œè®¾ç½® get å’Œ set æ–¹æ³•ã€‚get å’Œ set åˆä»–å–µæ˜¯ä»€ä¹ˆé¬¼ï¼Ÿget å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå½“å±æ€§è¢«è®¿é—®æ—¶ï¼Œä¼šè§¦å‘ get å‡½æ•°set å€¼åŒæ ·æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå½“å±æ€§è¢«èµ‹å€¼æ—¶ï¼Œä¼šè§¦å‘ set å‡½æ•°ç°åœ¨å¯ä»¥è§£ç­”ç¬¬ä¸€ä¸ªé—®é¢˜äº†ï¼šåœ¨ Vue ä¸­ï¼Œå±æ€§çš„ set æ–¹æ³•è¢«åšäº†æ‰‹è„šï¼Œå½“æ•°æ®æ”¹å˜æ—¶ï¼Œè§¦å‘å±æ€§çš„ set æ–¹æ³•ï¼Œä¾¿èƒ½çŸ¥é“æ•°æ®å‘ç”Ÿäº†æ”¹å˜ã€‚ ä¾èµ–æ”¶é›†ç®€å•çš„è¯´ï¼Œdata ä¸­çš„æ¯ä¸€ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œä¿å­˜ç€è°ä¾èµ–ï¼ˆä½¿ç”¨ï¼‰ç€ä»–ã€‚æ¯”å¦‚é¡µé¢ A ä¸­çš„&lt;div&gt;&lt;/div&gt;ï¼Œæ­¤æ—¶é¡µé¢ A å°±å­˜åœ¨äº name çš„åå®«ä¸­ï¼Œå®é™…ä¸Šï¼Œä¼šä¾èµ– name çš„åœ°æ–¹ï¼Œä¸åªæ˜¯é¡µé¢ï¼Œè¿˜ä¼šæœ‰ computedï¼Œwatch ç­‰ç­‰ã€‚è¿™å°±æ˜¯ä¾èµ–æ”¶é›†ï¼ŒæŠŠä¾èµ–äº†æˆ‘ï¼ˆä½¿ç”¨äº†æˆ‘çš„ä¸œè¥¿ï¼‰ï¼Œç»Ÿç»Ÿä¿å­˜èµ·æ¥ã€‚ å®é™…ä¸Šï¼Œåœ¨ Vue ä¸­ï¼Œname å±æ€§ï¼Œä½¿ç”¨äº† ä¸€ä¸ª dep ä¿å­˜äº†é¡µé¢ A è¿™ä¸ªä¾èµ–ï¼Œè€Œä¿å­˜çš„å®é™…ä¸Šæ˜¯é¡µé¢ A çš„ Watcherã€‚æ¯ä¸ª Vue å®ä¾‹éƒ½ä¼šæ‹¥æœ‰ä¸€ä¸ªä¸“å±çš„ watcherï¼Œå¯ç”¨äºå®ä¾‹æ›´æ–°ã€‚ æ€»ç»“ä¸€ä¸‹ï¼š data ä¸­æ¯ä¸ªå£°æ˜çš„å±æ€§ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ª ä¸“å±çš„ä¾èµ–æ”¶é›†å™¨ subs å½“é¡µé¢ä½¿ç”¨åˆ°æŸä¸ªå±æ€§æ—¶ï¼Œé¡µé¢çš„ watcher å°±ä¼šè¢«æ”¾åˆ°ä¾èµ–æ”¶é›†å™¨ subs ä¸­ é‚£ä¹ˆä»€ä¹ˆæ—¶å€™è¿›è¡Œä¾èµ–æ”¶é›†å‘¢ï¼Ÿé‚£å°±æ˜¯é€šè¿‡ä¸Šé¢è®²çš„ get å‡½æ•°å•¦ï¼å½“é¡µé¢è¯»å–äº† name æ—¶ï¼Œå°±ä¼šè§¦å‘ name çš„ get å‡½æ•°ï¼Œæ­¤æ—¶ name å°±ä¼šä¿å­˜é¡µé¢çš„ watcher äº†ï½ æ´¾å‘æ›´æ–°æ´¾å‘æ›´æ–°å°±æ˜¯åœ¨æ•°æ®æ”¹å˜ä¹‹åé€šçŸ¥æ‰€æœ‰çš„ä¾èµ–è¿›è¡Œæ›´æ–°ï¼Œä¸Šé¢æˆ‘ä»¬äº†è§£åˆ°æ¯ä¸€ä¸ªé¡µé¢éƒ½ä¼šä¿å­˜ä¸€ä¸ªä¾èµ–æ”¶é›†å™¨ subsï¼Œè¿™ä¸ªä¾èµ–æ”¶é›†å™¨å°±æ˜¯ç”¨æ¥åœ¨æ•°æ®å˜åŒ–æ—¶é€šçŸ¥æ›´æ–°çš„ã€‚ å•¥æ—¶å€™æ´¾å‘æ›´æ–°å‘¢ï¼Ÿè¿˜æ˜¯ä»¥ä¸Šé¢çš„ä¾‹å­å½“ name æ”¹å˜çš„æ—¶å€™ï¼Œname ä¼šéå†è‡ªå·±çš„ä¾èµ–æ”¶é›†å™¨ subsï¼Œé€ä¸ªé€šçŸ¥ watcherï¼Œè®© watcher å®Œæˆæ›´æ–°è¿™é‡Œ name ä¼šé€šçŸ¥é¡µé¢ Aï¼Œé¡µé¢ A é‡æ–°è¯»å–æ–°çš„ name ï¼Œç„¶åå®Œæˆæ¸²æŸ“ æ€»ç»“ Object.defineProperty - get ï¼Œç”¨äº ä¾èµ–æ”¶é›† Object.defineProperty - setï¼Œç”¨äº ä¾èµ–æ›´æ–° æ¯ä¸ª data å£°æ˜çš„å±æ€§ï¼Œéƒ½æ‹¥æœ‰ä¸€ä¸ªçš„ä¸“å±ä¾èµ–æ”¶é›†å™¨ subs ä¾èµ–æ”¶é›†å™¨ subs ä¿å­˜çš„ä¾èµ–æ˜¯ watcher watcher å¯ç”¨äº è¿›è¡Œè§†å›¾æ›´æ–°]]></content>
      <tags>
        <tag>Vue.js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ï¼ˆé¢ç»ï¼‰è…¾è®¯ä¸€é¢]]></title>
    <url>%2Fblog%2Fposts%2F37539%2F</url>
    <content type="text"><![CDATA[ç”µè¯æ¥äº†ï¼å‰å¤©ä¸‹åˆæŠ•äº†è…¾è®¯çš„ç®€å†ï¼Œè¿™ä¸¤å¤©ç­‰ç”µè¯ç­‰å¾—æˆ‘ç„¦æ€¥çš„å•Šï¼ä»Šå¤©ä¸‹åˆæ­£åœ¨ä¸Šå°±ä¸šæŒ‡å¯¼ï¼Œçªç„¶æ”¶åˆ°äº†å¹¿ä¸œæ·±åœ³çš„ç”µè¯ï¼Œæ¥å¬ä¹‹åæœç„¶æ˜¯è…¾è®¯çš„é¢è¯•å®˜ï¼Œç„¶åçº¦äº† 3 ç‚¹åŠçš„é¢è¯•ã€‚å¥½äº†ä¸å¤šè¯´ï¼Œä¸Šé¢ç­‹ï¼ é¢è¯•å¼€å§‹ï¼é¢è¯•å¤§æ¦‚çš„æµç¨‹å°±æ˜¯å…ˆè‡ªæˆ‘ä»‹ç»ï¼Œç„¶åä»‹ç»é¡¹ç›®ï¼Œé¢è¯•å®˜ä¼šæ ¹æ®ä½ é¡¹ç›®ä¸­æ‰€ä½¿ç”¨çš„æŠ€æœ¯æ¥é—®ä½ é—®é¢˜ï¼Œå‡ ä¸ªé—®é¢˜å¤§æ¦‚å¦‚ä¸‹ï¼Œä¹Ÿè®°å¾—ä¸æ˜¯å¾ˆæ¸…æ¥šäº†ã€‚ Vue åŒå‘ç»‘å®šåŸç†ï¼Œå¦‚ä½•å®ç° MVVM çœ‹ Vue æºç çš„æ„Ÿå—ï¼Œæœ‰ä»€ä¹ˆè®©ä½ æ„Ÿå—æœ€æ·±çš„åœ°æ–¹ ES6 çš„å‡ ä¸ªç‰¹æ€§ åœ¨ ES5 ä¸­å¦‚ä½•å®ç° class çš„ç»§æ‰¿ï¼ˆæœ€é—æ†¾çš„åœ°æ–¹å•Šï¼ï¼å¯„ç”Ÿç»„åˆç»§æ‰¿éƒ½æ²¡æœ‰è®²å°± pass äº†ï¼‰ è·¨åŸŸçš„å‡ ç§æ–¹å¼ åœ¨é¡¹ç›®ä¸­è¿ç”¨åˆ°çš„æ–°æŠ€æœ¯ æ¨¡å—åŒ–ï¼ˆCommonJSã€ES6 Moduleã€AMDã€CMDï¼‰ HTTPS çš„åŸç†ï¼ŒTCP ä¸‰æ¬¡æ¡æ‰‹ ç®—æ³•é¢˜ï¼šTopK é—®é¢˜ï¼ˆè‡ªæˆ‘æ„Ÿè§‰ç­”çš„ä¸å¥½ï¼‰ æ„Ÿå—é¢è¯•å®˜é—®çš„å¾ˆå¤šé—®é¢˜çš„å‘æ•£å¼çš„ï¼Œéœ€è¦è‡ªå·±å°½é‡å¾€æ·±äº†è®²ã€‚æœ€åé—®é¢è¯•å®˜å¯¹æˆ‘æœ‰ä»€ä¹ˆå­¦ä¹ ä¸Šçš„å»ºè®®ï¼Œé¢è¯•å®˜è¯´â€ä½ ç®€å†çš„æŠ€æœ¯ç‚¹éƒ½ç¬¦åˆç°åœ¨å…¬å¸çš„æŠ€æœ¯æ–¹å‘ï¼Œå¹¿åº¦æ˜¯æœ‰äº†ï¼Œä½†æ˜¯æ·±åº¦è¿˜éœ€è¦æŒ–æ˜ã€‚â€œç»§æ‰¿é‚£ä¸ªç‚¹æ²¡æœ‰å±•å¼€è¯´å‡ºæ¥æ˜¯æˆ‘è¿™æ¬¡é¢è¯•æœ€å¤§çš„é—æ†¾å•Šï¼ï¼ï¼ï¼ï¼ï¼è¿˜æ˜¯éœ€è¦å¥½å¥½å­¦ä¹ ï¼ç®—æ³•æ˜¯åŸºæœ¬åŠŸï¼ï¼å¯¹äº†ï¼Œæˆ‘æ‰€é¢è¯•éƒ¨é—¨æ˜¯å¹³å°ä¸å†…å®¹äº‹ä¸šç¾¤ PCG è´Ÿè´£ç§»åŠ¨ç«¯å’Œ PC ç«¯ QQ å‰ç«¯å¼€å‘çš„ç»„ã€‚]]></content>
      <tags>
        <tag>2019æ˜¥æ‹›</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å°†è‡ªå·±çš„ç«™ç‚¹å‡çº§æˆHTTPSçš„ï¼ˆç–¯ç‹‚è¸©å‘ï¼‰è¿‡ç¨‹]]></title>
    <url>%2Fblog%2Fposts%2F45502%2F</url>
    <content type="text"><![CDATA[å‰è¨€åˆæ˜¯ä¸€ä¸ªé˜´é›¨å¤©æ²¡æœ‰è¯¾çš„ä¸‹åˆ@(ï¿£-ï¿£)@å’Œèˆå‹æ‰“å®Œä¸¤æŠŠè‹±é›„è”ç›Ÿï¼Œåˆæ‰“å¼€äº†æ˜é‡‘å¼€å§‹åˆ·é¢ç»ã€‚ï¼ˆå®ä¹ é¢è¯•å¾ˆæ…Œå•Šï¼ï¼‰çœ‹åˆ°HTTP åè®®å’Œ HTTPS çš„åŒºåˆ«ï¼š HTTPS å°±æ˜¯èº«æŠ« SSL( Secure Socket Layer )å¤–å£³çš„ HTTPï¼Œè¿è¡Œäº SSL ä¸Šï¼ŒSSL è¿è¡Œäº TCP ä¹‹ä¸Šï¼Œæ˜¯æ·»åŠ äº†åŠ å¯†å’Œè®¤è¯æœºåˆ¶çš„ HTTPã€‚å°±æ˜¯åœ¨ HTTP(åº”ç”¨å±‚ï¼‰å’Œ TCPï¼ˆä¼ è¾“å±‚ï¼‰ä¹‹é—´æ·»åŠ äº†ä¸€å±‚ SSL åè®®ã€‚ HTTPS é»˜è®¤è¿è¡Œåœ¨ 443 ç«¯å£ï¼Œè€Œ HTTP é»˜è®¤è¿è¡Œåœ¨ 80 ç«¯å£ã€‚ HTTPS ç”±äºéœ€è¦è¯ä¹¦çš„åŠ å¯†æœºåˆ¶ï¼Œæ‰€ä»¥å®‰å…¨æ€§æ›´é«˜ï¼Œä½†åŒæ—¶ CPU å’Œå†…å­˜çš„æ¶ˆè€—ä¹Ÿæ›´å¤šã€‚ HTTPS ä½¿ç”¨å…±äº«å¯†é’¥åŠ å¯†å’Œå…¬å¼€å¯†é’¥åŠ å¯†å¹¶ç”¨çš„æ··åˆåŠ å¯†æœºåˆ¶ ç™¾åº¦å’Œè°·æ­Œä¹Ÿä¼šä¼˜å…ˆæ”¶å½• HTTPS ç«™ç‚¹å“¦ï½ çœ‹åˆ°è¿™é‡Œæˆ‘ä¸ç¦æƒ³èµ·æ¥ï¼Œæˆ‘æ¯æ¬¡æ‰“å¼€è‡ªå·±çš„ç«™ç‚¹æ—¶å€™éƒ½ä¼šçœ‹åˆ°åœ°å€æ æ—è¾¹æœ‰ä¸ªä¸å®‰å…¨çš„æ ‡å¿—ï¼Œçœ‹ç€å¯æ˜¯ç€å®è®©äººéš¾å—ï¼Œä¸å¦‚æ¥æä¸ª HTTPS å§ï¼ å‡†å¤‡ SSL è¯ä¹¦æˆ‘è´­ä¹°çš„æ˜¯é˜¿é‡Œäº‘çš„æœåŠ¡å™¨ï¼Œé€šè¿‡è°·æ­Œäº†è§£åˆ°é˜¿é‡Œäº‘æ˜¯æä¾›å…è´¹çš„ SSL è¯ä¹¦çš„ï¼Œåœ¨å¦‚ä¸‹çš„ç•Œé¢è´­ä¹°å³å¯ é…ç½® Apache æ”¯æŒ HTTPSå‰é¢ä¸€é¡¿æ“ä½œï¼Œå°†è·å¾—çš„è¯ä¹¦æ–‡ä»¶ä¸‹è½½åˆ°äº†è‡ªå·±çš„ç”µè„‘ä¸Šä¸‹é¢å¼€å§‹é‡å¤´æˆï¼Œä¹Ÿæ˜¯è¸©äº†ä¸å°‘å‘çš„åœ°æ–¹ä¹Ÿæ”¾ä¸€ä¸‹é˜¿é‡Œäº‘å®˜æ–¹çš„é…ç½®æ–‡æ¡£ç„¶è€Œæˆ‘ä»¬è‡ªå·±å®‰è£…çš„ Apache ç›®å½•å’Œå®˜æ–¹çš„æ˜¯ä¸ä¸€æ ·ï¼Œè®¸å¤šé…ç½®æ–‡ä»¶éƒ½åˆ†æ•£åˆ°äº†å„ä¸ªæ–‡ä»¶ä¸­ã€‚ å¼€å¯ Ubuntu çš„ OpenSSL ä½¿ Apache åŠ è½½ SSL æ¨¡å—ä½¿ç”¨å‘½ä»¤sudo a2enmod sslåŠ è½½ Apache çš„ SSL æ¨¡å—ã€‚Apache åŠ è½½ SSL æ¨¡å—åï¼Œä¼šåœ¨/etc/apache2/sites-available ä¸‹ç”Ÿæˆ default-ssl.conf æ–‡ä»¶ï¼Œæˆ‘ä»¬åœ¨ç»ˆç«¯ä½¿ç”¨ sudo æƒé™ï¼Œé€šè¿‡ vi ç¼–è¾‘å™¨æ‰“å¼€ã€‚è¿™ä¸ªæ–‡ä»¶éœ€è¦åšä»¥ä¸‹ä¿®æ”¹ï¼š ç¬¬ä¸€ä¸ª VirtualHost æ ‡ç­¾ æ”¹æˆ *:443 ServerName æ¢æˆè‡ªå·±çš„åŸŸå SSLCertificateFileã€SSLCertificateKeyFileã€SSLCertificateChainFile å¯¹åº”çš„åˆ†åˆ«æ˜¯åˆšåˆšä¸‹è½½ä¸‹æ¥çš„ä¸‰ä¸ªæ–‡ä»¶ã€‚å®Œæˆå:wq é€€å‡ºç„¶åéœ€è¦æŠŠ default-ssl.conf æ˜ å°„è‡³/etc/apache2/sites-enabled æ–‡ä»¶å¤¹ä½¿ç”¨å‘½ä»¤sudo ln -s /etc/apache2/sites-available/default-ssl.conf /etc/apache2/sites-enabled/001-ssl.confè¿›è¡Œå»ºç«‹è½¯é“¾æ¥æ“ä½œã€‚å®˜æ–¹æ–‡æ¡£ä¸­ 12345SSLProtocol all -SSLv2 -SSLv3# æ·»åŠ SSLåè®®æ”¯æŒåè®®ï¼Œå»æ‰ä¸å®‰å…¨çš„åè®®ã€‚SSLCipherSuite HIGH:!RC4:!MD5:!aNULL:!eNULL:!NULL:!DH:!EDH:!EXP:+MEDIUM# ä½¿ç”¨æ­¤åŠ å¯†å¥—ä»¶ã€‚SSLHonorCipherOrder on åœ¨/etc/apache2/mods-available/ssl.confä¸­ä¿®æ”¹æœ€åé‡æ–°åŠ è½½ Apache é…ç½®æ–‡ä»¶ï¼šsudo /etc/init.d/apache2 force-reloadé‡å¯ Apache æœåŠ¡ï¼šsudo /etc/init.d/apache2 restart HTTP é‡å®šå‘è‡³ HTTPSä½¿ç”¨å‘½ä»¤ï¼šsudo a2enmod rewriteåŠ è½½ Apache çš„ rewrite æ¨¡å—æ‰“å¼€ /etc/apache2/apache2.confä¿®æ”¹å¦‚ä¸‹ä»£ç  12345&lt;Directory /var/www/&gt; Options FollowSymLinks AllowOverride ALL Require all granted&lt;/Directory&gt; ç„¶åè¿›å…¥ä½ çš„ç½‘ç«™æ ¹ç›®å½•ï¼Œä½¿ç”¨å‘½ä»¤ touch.htaccess æ¥åˆ›å»º.htaccess æ–‡ä»¶ä¿®æ”¹å¦‚ä¸‹ï¼š 123RewriteEngine onRewriteCond %&#123;HTTPS&#125; !=onRewriteRule ^(.*) https://%&#123;SERVER_NAME&#125;$1 [L,R] ç„¶åé‡å¯æœåŠ¡å™¨ï¼Œæµ‹è¯•æˆ‘çš„åšå®¢ç½‘ç«™å’¯ï½å˜»å˜»ï¼Œå¤§åŠŸå‘Šæˆï¼]]></content>
      <tags>
        <tag>æŠ€æœ¯å®…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç»ˆäºææ‡‚äº†ï¼å…«å¤§æ’åºç®—æ³•^ _ ^]]></title>
    <url>%2Fblog%2Fposts%2F60440%2F</url>
    <content type="text"><![CDATA[å‰è¨€æœ€è¿‘æ­£åœ¨å‡†å¤‡å‰ç«¯å®ä¹ å²—çš„é¢è¯•ï¼Œåœ¨è¯¸å¤šå²—ä½çš„é¢è¯•ä¸­ï¼Œæ’åºç®—æ³•å¯ä»¥è¯´æ˜¯é¢è¯•å®˜å¿…é—®çš„é¢˜ç›®ï¼Œè¿™é‡Œå¯¹å…«å¤§æ’åºåšä¸€ä¸‹æ€»ç»“ï¼Œä¸€æ¥å·©å›ºä¸€ä¸‹æœ€è¿‘å¤ä¹ çš„çŸ¥è¯†ï¼Œè€Œæ¥æ–¹ä¾¿ä»¥åå†çœ‹ã€‚ å†’æ³¡æ’åºå†’æ³¡æ’åºï¼ˆBubble Sortï¼‰æ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ã€‚å®ƒé‡å¤åœ°èµ°è®¿è¿‡è¦æ’åºçš„æ•°åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœä»–ä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠä»–ä»¬äº¤æ¢è¿‡æ¥ã€‚èµ°è®¿æ•°åˆ—çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰å†éœ€è¦äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥æ•°åˆ—å·²ç»æ’åºå®Œæˆã€‚è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå¤§çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ï¼Œæ•…åã€‚ç®—æ³•æ€è·¯ï¼š i ä» 0 å¼€å§‹ï¼Œi ä¸ i+1 æ¯”è¾ƒï¼Œå¦‚æœ i&gt;i+1ï¼Œé‚£ä¹ˆå°±äº’æ¢ i ä¸æ–­å¢åŠ ï¼Œç›´åˆ° i&lt;n-1ï¼ˆn æ˜¯æ•°ç»„å…ƒç´ çš„ä¸ªæ•°ï¼Œn-1 æ˜¯æ•°ç»„å·²ç»æœ€åä¸€ä¸ªå…ƒç´ ï¼‰ ï¼Œä¸€è¶Ÿä¸‹æ¥ï¼Œå¯ä»¥è®©æ•°ç»„å…ƒç´ ä¸­æœ€å¤§å€¼æ’åœ¨æ•°ç»„çš„æœ€åé¢ 123456789101112131415161718192021222324252627/** * å†’æ³¡æ’åº ç¨³å®š * @param &#123;*&#125; arr */function bubbleSort(arr) &#123; let len = arr.length //å¤–å±‚å¾ªç¯æ˜¯æ’åºçš„è¶Ÿæ•° for (let i = 0; i &lt; arr.length; i++) &#123; //ä¸€ç§ä¼˜åŒ–çš„æ–¹æ³•ï¼Œè®°å½•æ˜¯å¦å‘ç”Ÿäº†ç½®æ¢ï¼Œ 0 è¡¨ç¤ºæ²¡æœ‰å‘ç”Ÿç½®æ¢ã€ 1 è¡¨ç¤ºå‘ç”Ÿäº†ç½®æ¢ var isChanged = 0 //å†…å±‚å¾ªç¯æ˜¯å½“å‰è¶Ÿæ•°éœ€è¦æ¯”è¾ƒçš„æ¬¡æ•° for (let j = 0; j &lt; len - 1 - i; j++) &#123; if (arr[j] &gt; arr[j + 1]) &#123; var temp = arr[j + 1] //å…ƒç´ äº¤æ¢ arr[j + 1] = arr[j] arr[j] = temp isChanged = 1 &#125; &#125; //å¦‚æœæ¯”è¾ƒå®Œä¸€è¶Ÿæ²¡æœ‰å‘ç”Ÿç½®æ¢ï¼Œé‚£ä¹ˆè¯´æ˜å·²ç»æ’å¥½åºäº†ï¼Œä¸éœ€è¦å†æ‰§è¡Œä¸‹å»äº† if ((isChanged = 0)) &#123; break &#125; &#125; return arr&#125; é€‰æ‹©æ’åºé€‰æ‹©æ’åº(Selection sort)æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯æ¯ä¸€æ¬¡ä»å¾…æ’åºçš„æ•°æ®å…ƒç´ ä¸­é€‰å‡ºæœ€å°(æˆ–æœ€å¤§)çš„ä¸€ä¸ªå…ƒç´ ï¼Œå­˜æ”¾åœ¨åºåˆ—çš„èµ·å§‹(æœ«å°¾)ä½ç½®ï¼Œç›´åˆ°å…¨éƒ¨å¾…æ’åºçš„æ•°æ®å…ƒç´ æ’å®Œã€‚é€‰æ‹©æ’åºæ˜¯ä¸ç¨³å®šçš„æ’åºæ–¹æ³•ï¼ˆæ¯”å¦‚åºåˆ—[5ï¼Œ 5ï¼Œ 3]ç¬¬ä¸€æ¬¡å°±å°†ç¬¬ä¸€ä¸ª[5]ä¸[3]äº¤æ¢ï¼Œå¯¼è‡´ç¬¬ä¸€ä¸ª 5 æŒªåŠ¨åˆ°ç¬¬äºŒä¸ª 5 åé¢ï¼‰ã€‚ å®ƒçš„å·¥ä½œåŸç†æ˜¯æ¯ä¸€æ¬¡ä»å¾…æ’åºçš„æ•°æ®å…ƒç´ ä¸­é€‰å‡ºæœ€å°(æˆ–æœ€å¤§)çš„ä¸€ä¸ªå…ƒç´ ï¼Œå­˜æ”¾åœ¨åºåˆ—çš„èµ·å§‹(æœ«å°¾)ä½ç½®ï¼Œç›´åˆ°å…¨éƒ¨å¾…æ’åºçš„æ•°æ®å…ƒç´ æ’å®Œ 12345678910111213141516171819202122/** * é€‰æ‹©æ’åº ä¸ç¨³å®š * @param &#123;&#125; arr */function selectionSort(arr) &#123; var len = arr.length // å®šä¹‰æœ€å°å€¼çš„ä¸‹æ ‡å’Œä¸´æ—¶å˜é‡ var minIndex, temp for (var i = 0; i &lt; len - 1; i++) &#123; minIndex = i for (var j = i + 1; j &lt; len; j++) &#123; if (arr[j] &lt; arr[minIndex]) &#123; //å¯»æ‰¾æœ€å°çš„æ•° minIndex = j //å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜ &#125; &#125; temp = arr[i] arr[i] = arr[minIndex] arr[minIndex] = temp &#125; return arr&#125; æ’å…¥æ’åºæ’å…¥æ’åºçš„åŸºæœ¬æ“ä½œå°±æ˜¯å°†ä¸€ä¸ªæ•°æ®æ’å…¥åˆ°å·²ç»æ’å¥½åºçš„æœ‰åºæ•°æ®ä¸­ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªæ–°çš„ã€ä¸ªæ•°åŠ ä¸€çš„æœ‰åºæ•°æ®ï¼Œç®—æ³•é€‚ç”¨äºå°‘é‡æ•°æ®çš„æ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ã€‚æ˜¯ç¨³å®šçš„æ’åºæ–¹æ³•ã€‚ç®—æ³•æ€è·¯ï¼š é¦–å…ˆå°†å·²æ’åºçš„æ•°æ®çœ‹æˆä¸€ä¸ªæ•´ä½“ ä¸€ä¸ªæ•°ç»„æ˜¯éœ€è¦ n-1 è¶Ÿæ’åºçš„ï¼Œæ€»æ˜¯ç”¨åä¸€ä½è·Ÿå·²æ’åºçš„æ•°æ®æ¯”è¾ƒ(ç¬¬ä¸€è¶Ÿï¼šç¬¬äºŒä½è·Ÿå·²æ’åºçš„æ•°æ®æ¯”ï¼Œç¬¬äºŒè¶Ÿï¼šç¬¬ä¸‰ä½è·Ÿå·²æ’åºçš„æ•°æ®æ¯”ï¼‰ ç”¨ç¬¬ä¸‰ä½å’Œå·²æ’åºçš„æ•°æ®æ¯”ï¼Œå®é™…ä¸Šå°±æ˜¯è®©ç¬¬ä¸‰ä½æ•°è·Ÿä¸¤ä¸ªæ•°æ¯”è¾ƒï¼Œåªä¸è¿‡è¿™ä¸¤ä¸ªæ•°æ˜¯å·²ç»æ’å¥½åºçš„è€Œå·²ã€‚è€Œæ­£æ˜¯å› ä¸ºå®ƒæ’å¥½åºçš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¾ªç¯å°±å¯ä»¥å°†æˆ‘ä»¬æ¯”è¾ƒçš„æ•°æ®æ’å…¥è¿›å» 1234567891011121314151617181920212223/** * æ’å…¥æ’åº ç¨³å®š * @param &#123;*&#125; arr */function insertionSort(arr) &#123; var len = arr.length var preIndex, current for (var i = 1; i &lt; len; i++) &#123; // è®°å½•å‰ä¸€ä¸ªå…ƒç´ ä¸‹æ ‡ preIndex = i - 1 // å½“å‰å…ƒç´  current = arr[i] while (preIndex &gt;= 0 &amp;&amp; arr[preIndex] &gt; current) &#123; // å‰ä¸€ä¸ªå…ƒç´ å‘åç§»åŠ¨ä¸€ä½ arr[preIndex + 1] = arr[preIndex] // å†å¾€å‰ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒ preIndex-- &#125; // æ‰¾åˆ°äº†åˆé€‚æˆ‘çš„ä½ç½®ï¼Œå°†å½“å‰å…ƒç´ æ’å…¥ arr[preIndex + 1] = current &#125; return arr&#125; ä¼˜åŒ–ï¼šäºŒåˆ†æŸ¥æ‰¾æ’å…¥æ’åºçš„åŸç†ï¼šæ˜¯ç›´æ¥æ’å…¥æ’åºçš„ä¸€ä¸ªå˜ç§ï¼ŒåŒºåˆ«æ˜¯ï¼šåœ¨æœ‰åºåŒºä¸­æŸ¥æ‰¾æ–°å…ƒç´ æ’å…¥ä½ç½®æ—¶ï¼Œä¸ºäº†å‡å°‘å…ƒç´ æ¯”è¾ƒæ¬¡æ•°æé«˜æ•ˆç‡ï¼Œé‡‡ç”¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•è¿›è¡Œæ’å…¥ä½ç½®çš„ç¡®å®šã€‚ å¿«é€Ÿæ’åºé€šè¿‡ä¸€è¶Ÿæ’åºå°†è¦æ’åºçš„æ•°æ®åˆ†å‰²æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½æ¯”å¦å¤–ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½è¦å°ï¼Œç„¶åå†æŒ‰æ­¤æ–¹æ³•å¯¹è¿™ä¸¤éƒ¨åˆ†æ•°æ®åˆ†åˆ«è¿›è¡Œå¿«é€Ÿæ’åºï¼Œæ•´ä¸ªæ’åºè¿‡ç¨‹å¯ä»¥é€’å½’è¿›è¡Œï¼Œä»¥æ­¤è¾¾åˆ°æ•´ä¸ªæ•°æ®å˜æˆæœ‰åºåºåˆ—ã€‚ç®—æ³•æ€è·¯ï¼šåœ¨æ•°ç»„ä¸­æ‰¾ä¸€ä¸ªæ”¯ç‚¹(ä»»æ„),ç»è¿‡ä¸€è¶Ÿæ’åºåï¼Œæ”¯ç‚¹å·¦è¾¹çš„æ•°éƒ½è¦æ¯”æ”¯ç‚¹å°ï¼Œæ”¯ç‚¹å³è¾¹çš„æ•°éƒ½è¦æ¯”æ”¯ç‚¹å¤§ï¼ 12345678910111213141516171819202122232425262728/** * å¿«é€Ÿæ’åº ä¸ç¨³å®š * @param &#123;*&#125; arr */function quickSort(arr) &#123; if (arr.length &lt;= 1) &#123; return arr &#125; // å–æ•°ç»„çš„ä¸­é—´å…ƒç´ ä½œä¸ºåŸºå‡† var pivotIndex = Math.floor(arr.length / 2) // åˆ é™¤ä¸­é—´å…ƒç´ ï¼Œå¹¶è·å–å®ƒ var pivot = arr.splice(pivotIndex, 1)[0] var left = [] var right = [] for (var i = 0; i &lt; arr.length; i++) &#123; if (arr[i] &lt; pivot) &#123; // éƒ½æ¯”ä¸­é—´å€¼å°çš„æ•° left.push(arr[i]) &#125; else &#123; // éƒ½æ¯”ä¸­é—´å€¼å¤§çš„æ•° right.push(arr[i]) &#125; &#125; // é€’å½’ return quickSort(left).concat([pivot], quickSort(right))&#125; ä¼˜åŒ–ï¼š éšæœºé€‰å–åŸºå‡†å€¼ base(æ”¯ç‚¹éšæœºé€‰å–) é…åˆç€ä½¿ç”¨æ’å…¥æ’åº(å½“é—®é¢˜è§„æ¨¡è¾ƒå°æ—¶ï¼Œè¿‘ä¹æœ‰åºæ—¶ï¼Œæ’å…¥æ’åºè¡¨ç°çš„å¾ˆå¥½) å½“å¤§é‡æ•°æ®ï¼Œä¸”é‡å¤æ•°å¤šæ—¶ï¼Œç”¨ä¸‰è·¯å¿«æ’ å½’å¹¶æ’åºå½’å¹¶æ’åºï¼ˆMERGE-SORTï¼‰æ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆçš„æ’åºç®—æ³•,è¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ã€‚å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼›å³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åºã€‚è‹¥å°†ä¸¤ä¸ªæœ‰åºè¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºè¡¨ï¼Œç§°ä¸ºäºŒè·¯å½’å¹¶ã€‚ç®—æ³•æ€è·¯ï¼š ç¬¬ä¸€æ­¥ï¼šç”³è¯·ç©ºé—´ï¼Œä½¿å…¶å¤§å°ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—ä¹‹å’Œï¼Œè¯¥ç©ºé—´ç”¨æ¥å­˜æ”¾åˆå¹¶åçš„åºåˆ— ç¬¬äºŒæ­¥ï¼šè®¾å®šä¸¤ä¸ªæŒ‡é’ˆï¼Œæœ€åˆä½ç½®åˆ†åˆ«ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—çš„èµ·å§‹ä½ç½® ç¬¬ä¸‰æ­¥ï¼šæ¯”è¾ƒä¸¤ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘çš„å…ƒç´ ï¼Œé€‰æ‹©ç›¸å¯¹å°çš„å…ƒç´ æ”¾å…¥åˆ°åˆå¹¶ç©ºé—´ï¼Œå¹¶ç§»åŠ¨æŒ‡é’ˆåˆ°ä¸‹ä¸€ä½ç½® é‡å¤æ­¥éª¤ 3 ç›´åˆ°æŸä¸€æŒ‡é’ˆè¶…å‡ºåºåˆ—å°¾ å°†å¦ä¸€åºåˆ—å‰©ä¸‹çš„æ‰€æœ‰å…ƒç´ ç›´æ¥å¤åˆ¶åˆ°åˆå¹¶åºåˆ—å°¾ 1234567891011121314151617181920212223242526272829303132333435363738/** * å½’å¹¶æ’åº * @param &#123;*&#125; arr */function mergeSort(arr) &#123; var len = arr.length if (len &lt; 2) &#123; return arr &#125; var middle = Math.floor(len / 2) // åˆ†å‰²æ•°ç»„ var left = arr.slice(0, middle) var right = arr.slice(middle) return merge(mergeSort(left), mergeSort(right))&#125;/** * åˆå¹¶æ•°ç»„ * @param &#123;*&#125; left * @param &#123;*&#125; right */function merge(left, right) &#123; var result = [] while (left.length &amp;&amp; right.length) &#123; if (left[0] &lt;= right[0]) &#123; // ä»å·¦æ•°ç»„å¤´éƒ¨å–å‡ºä¸€ä¸ªå…ƒç´ æ”¾å…¥ç»“æœæ•°ç»„ result.push(left.shift()) &#125; else &#123; result.push(right.shift()) &#125; &#125; while (left.length) result.push(left.shift()) while (right.length) result.push(right.shift()) return result&#125; å †æ’åºå †æ’åº(Heapsort)æ˜¯æŒ‡åˆ©ç”¨å †ç§¯æ ‘ï¼ˆå †ï¼‰è¿™ç§æ•°æ®ç»“æ„æ‰€è®¾è®¡çš„ä¸€ç§æ’åºç®—æ³•ï¼Œå®ƒæ˜¯é€‰æ‹©æ’åºçš„ä¸€ç§ã€‚å¯ä»¥åˆ©ç”¨æ•°ç»„çš„ç‰¹ç‚¹å¿«é€Ÿå®šä½æŒ‡å®šç´¢å¼•çš„å…ƒç´ ã€‚å †åˆ†ä¸ºå¤§æ ¹å †å’Œå°æ ¹å †ï¼Œæ˜¯å®Œå…¨äºŒå‰æ ‘ã€‚å®Œå…¨äºŒå‰æ ‘æœ‰ä¸ªç‰¹æ€§ï¼šå·¦è¾¹å­èŠ‚ç‚¹ä½ç½® = å½“å‰çˆ¶èŠ‚ç‚¹çš„ä¸¤å€ + 1ï¼Œå³è¾¹å­èŠ‚ç‚¹ä½ç½® = å½“å‰çˆ¶èŠ‚ç‚¹çš„ä¸¤å€ + 2ç®€å•æ¥è¯´ï¼šå †æ’åºæ˜¯å°†æ•°æ®çœ‹æˆæ˜¯å®Œå…¨äºŒå‰æ ‘ã€æ ¹æ®å®Œå…¨äºŒå‰æ ‘çš„ç‰¹æ€§æ¥è¿›è¡Œæ’åºçš„ä¸€ç§ç®—æ³• æœ€å¤§å †è¦æ±‚èŠ‚ç‚¹çš„å…ƒç´ éƒ½è¦ä¸å°äºå…¶å­©å­ï¼Œæœ€å°å †è¦æ±‚èŠ‚ç‚¹å…ƒç´ éƒ½ä¸å¤§äºå…¶å·¦å³å­©å­ é‚£ä¹ˆå¤„äºæœ€å¤§å †çš„æ ¹èŠ‚ç‚¹çš„å…ƒç´ ä¸€å®šæ˜¯è¿™ä¸ªå †ä¸­çš„æœ€å¤§å€¼ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061var len // å…¨å±€å˜é‡â€”â€”æ•°ç»„çš„é•¿åº¦/** * å»ºç«‹å¤§é¡¶å † * @param &#123;*&#125; arr */function buildMaxHeap(arr) &#123; len = arr.length for (var i = Math.floor(len / 2); i &gt;= 0; i--) &#123; heapify(arr, i) &#125;&#125;/** * äº¤æ¢æ•°ç»„ * @param &#123;*&#125; arr * @param &#123;*&#125; i * @param &#123;*&#125; j */function swap(arr, i, j) &#123; var temp = arr[i] arr[i] = arr[j] arr[j] = temp&#125;/** * å»ºå † * @param &#123;*&#125; arr * @param &#123;*&#125; i */function heapify(arr, i) &#123; var left = 2 * i + 1 var right = 2 * i + 2 var max = i if (left &lt; len &amp;&amp; arr[left] &gt; arr[max]) &#123; max = left &#125; if (right &lt; len &amp;&amp; arr[right] &gt; arr[max]) &#123; max = right &#125; if (max != i) &#123; swap(arr, i, max) heapify(arr, max) &#125;&#125;/** * å †æ’åº * @param &#123;*&#125; arr */function heapSort(arr) &#123; buildMaxHeap(arr) for (var i = arr.length - 1; i &gt; 0; i--) &#123; swap(arr, 0, i) len-- heapify(arr, 0) &#125; return arr&#125; å¸Œå°”æ’åºå¸Œå°”æ’åº(Shellâ€™s Sort)æ˜¯æ’å…¥æ’åºçš„ä¸€ç§åˆç§°â€œç¼©å°å¢é‡æ’åºâ€ï¼ˆDiminishing Increment Sortï¼‰ï¼Œæ˜¯ç›´æ¥æ’å…¥æ’åºç®—æ³•çš„ä¸€ç§æ›´é«˜æ•ˆçš„æ”¹è¿›ç‰ˆæœ¬ã€‚å¸Œå°”æ’åºæ˜¯éç¨³å®šæ’åºç®—æ³•ã€‚è¯¥æ–¹æ³•å›  D.L.Shell äº 1959 å¹´æå‡ºè€Œå¾—åã€‚ç®—æ³•æ€è·¯ï¼š å¸Œå°”æ’åºåœ¨æ’åºå‰ï¼šå°†ä¸€ä¸ªåºåˆ—åˆ†æˆäº†å¥½å‡ ä¸ªåºåˆ— åœ¨ç¬¬ä¸€è¶Ÿæ’åºæ—¶ï¼šå°†è¿™å‡ ä¸ªåºåˆ—åšæ’å…¥æ’åºã€‚æ’åºåï¼Œéƒ¨åˆ†è¾ƒå¤§çš„æ•°å­—å¾€åé ï¼Œéƒ¨åˆ†è¾ƒå°çš„æ•°å­—å¾€å‰é  åœ¨ç¬¬äºŒè¶Ÿæ’åºæ—¶ï¼šå°†è¿™ä¸ªåºåˆ—åˆåˆ†äº†å¥½å‡ ä¸ªåºåˆ—åšæ’å…¥æ’åº(ä½†æ¯”ç¬¬ä¸€æ¬¡åˆ†çš„æ•°è¦å°‘,ps:å¦‚æœç¬¬ä¸€æ¬¡åˆ† 5 ä¸ªï¼Œç¬¬äºŒæ¬¡å¯èƒ½å°± 2 ä¸ªäº†)ã€‚æ’åºåï¼Œéƒ¨åˆ†è¾ƒå¤§çš„æ•°å­—å¾€åé ï¼Œéƒ¨åˆ†è¾ƒå°çš„æ•°å­—å¾€å‰é  â€¦â€¦â€¦â€¦â€¦. åœ¨ç¬¬ n è¶Ÿæ’åºæ—¶ï¼šå°†è¿™ä¸ªåºåˆ—åˆåˆ†äº†å¥½å‡ ä¸ªåºåˆ—(ç›´åˆ°å‰©ä¸‹ä¸€ä¸ªåºåˆ—)ï¼Œä»å®è§‚ä¸Šçœ‹ï¼Œæ­¤åºåˆ—å°±åŸºæœ¬æ˜¯æœ‰åºçš„äº†ã€‚è¿™æ—¶å°±ç”¨ç®€å•æ’å…¥æ’åºå°†æ•°åˆ—ç›´è‡³å·²åº 1234567891011121314151617181920212223/** * å¸Œå°”æ’åº * @param &#123;*&#125; arr */function shellSort(arr) &#123; var len = arr.length, temp, gap = 1 while (gap &lt; len / 3) &#123; //åŠ¨æ€å®šä¹‰é—´éš”åºåˆ— gap = gap * 3 + 1 &#125; for (gap; gap &gt; 0; gap = Math.floor(gap / 3)) &#123; for (var i = gap; i &lt; len; i++) &#123; temp = arr[i] for (var j = i - gap; j &gt;= 0 &amp;&amp; arr[j] &gt; temp; j -= gap) &#123; arr[j + gap] = arr[j] &#125; arr[j + gap] = temp &#125; &#125; return arr&#125; åŸºæ•°æ’åºä»æ¥æ²¡æœ‰æ¥è§¦è¿‡çš„ä¸€ä¸ªæ’åºç®—æ³•é¢â€¦â€¦..ç®—æ³•æ€è·¯ï¼š ç¬¬ä¸€è¶Ÿæ¡¶æ’åºå°†æ•°å­—çš„ä¸ªä½æ•°åˆ†é…åˆ°æ¡¶å­é‡Œé¢å»ï¼Œç„¶åå›æ”¶èµ·æ¥ï¼Œæ­¤æ—¶æ•°ç»„å…ƒç´ çš„æ‰€æœ‰ä¸ªä½æ•°éƒ½å·²ç»æ’å¥½é¡ºåºäº† ç¬¬äºŒè¶Ÿæ¡¶æ’åºå°†æ•°å­—çš„åä½æ•°åˆ†åˆ«åˆ†é…åˆ°æ¡¶å­é‡Œé¢å»ï¼Œç„¶åå›æ”¶èµ·æ¥ï¼Œæ­¤æ—¶æ•°ç»„å…ƒç´ çš„æ‰€æœ‰ä¸ªä½æ•°å’Œåä½æ•°éƒ½å·²ç»æ’å¥½é¡ºåºäº†(å¦‚æœæ²¡æœ‰åä½æ•°ã€åˆ™è¡¥ 0) ç¬¬ä¸‰è¶Ÿæ¡¶æ’åºå°†æ•°å­—çš„ç™¾ä½æ•°åˆ†åˆ«åˆ†é…åˆ°æ¡¶å­é‡Œé¢å»ï¼Œç„¶åå›æ”¶èµ·æ¥ï¼Œæ­¤æ—¶æ•°ç»„å…ƒç´ çš„æ‰€æœ‰ä¸ªä½æ•°å’Œåä½æ•°å’Œç™¾ä½æ•°éƒ½å·²ç»æ’å¥½é¡ºåºäº†(å¦‚æœæ²¡æœ‰ç™¾ä½æ•°ã€åˆ™è¡¥ 0) â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦. ç›´è‡³å…¨éƒ¨æ•°(ä¸ªã€åã€ç™¾ã€åƒä½â€¦)æ’å¥½é¡ºåºï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ç»„å°±æ˜¯æœ‰åºçš„äº†ã€‚ 1234567891011121314151617181920212223242526272829var counter = []/** * åŸºæ•°æ’åº * @param &#123;*&#125; arr * @param &#123;*&#125; maxDigit */function radixSort(arr, maxDigit) &#123; var mod = 10 var dev = 1 for (var i = 0; i &lt; maxDigit; i++, dev *= 10, mod *= 10) &#123; for (var j = 0; j &lt; arr.length; j++) &#123; var bucket = parseInt((arr[j] % mod) / dev) if (counter[bucket] == null) &#123; counter[bucket] = [] &#125; counter[bucket].push(arr[j]) &#125; var pos = 0 for (var j = 0; j &lt; counter.length; j++) &#123; var value = null if (counter[j] != null) &#123; while ((value = counter[j].shift()) != null) &#123; arr[pos++] = value &#125; &#125; &#125; &#125; return arr&#125;]]></content>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptâ€”â€”ç»§æ‰¿]]></title>
    <url>%2Fblog%2Fposts%2F45068%2F</url>
    <content type="text"><![CDATA[å‰è¨€è¿™ç¯‡æ–‡ç« å°†è®°å½• JavaScript ä¸­çš„å‡ ç§ç»§æ‰¿æ–¹å¼ï¼ˆä¸å« es6ï¼‰ï¼Œå¹¶åˆ†æå…¶ä¸­çš„ä¼˜ç¼ºç‚¹ã€‚å¦ä¸€æ–¹é¢ä¹ŸåŠ æ·±ä¸€ä¸‹å¯¹åŸå‹é“¾çš„ç†è§£ã€‚ åŸå‹é“¾ç»§æ‰¿12345678910111213141516function Parent () &#123; this.name = &apos;xiaoming&apos;;&#125;Parent.prototype.getName = function () &#123; console.log(this.name);&#125;function Child () &#123;&#125;Child.prototype = new Parent();var child1 = new Child();console.log(child1.getName()) // xiaoming ç®€è€Œè¨€ä¹‹ï¼ŒåŸå‹é“¾ç»§æ‰¿å°±æ˜¯å°±æ˜¯ç›´æ¥å°†çˆ¶ç±»çš„ä¸€ä¸ªå®ä¾‹èµ‹ç»™å­ç±»çš„åŸå‹ã€‚å¦‚ä»£ç ä¸­æ‰€ç¤ºï¼Œè¿™ç§æ–¹æ³•æ˜¯ç›´æ¥ new äº†ä¸€ä¸ªçˆ¶ç±»çš„å®ä¾‹ï¼Œç„¶åèµ‹ç»™å­ç±»çš„åŸå‹ã€‚è¿™æ ·ä¹Ÿå°±ç›¸å½“äºç›´æ¥å°†çˆ¶ç±»åŸå‹ä¸­çš„æ–¹æ³•å±æ€§ä»¥åŠæŒ‚åœ¨ this ä¸Šçš„å„ç§æ–¹æ³•å±æ€§å…¨èµ‹ç»™äº†å­ç±»çš„åŸå‹ï¼Œç®€å•ç²—æš´ï¼æœ€ååœ¨å­ç±»å®ä¾‹ä¸­å¯»æ‰¾ getName æ–¹æ³•æ—¶ï¼Œå­ç±»å®ä¾‹ä¸­æ²¡æœ‰ï¼Œä¾¿ä¼šåˆ°åŸå‹é“¾ä¸Šå»æ‰¾ã€‚è¿™ç§ç»§æ‰¿æ–¹å¼æœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼š å¼•ç”¨ç±»å‹çš„å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº« åœ¨åˆ›å»º Child çš„å®ä¾‹æ—¶ï¼Œä¸èƒ½å‘ Parent ä¼ å‚ å€Ÿç”¨æ„é€ å‡½æ•°ï¼ˆç»å…¸ç»§æ‰¿ï¼‰1234567891011121314151617function Parent () &#123; this.names = [&apos;one&apos;, &apos;two&apos;];&#125;function Child () &#123; Parent.call(this);&#125;var child1 = new Child();child1.names.push(&apos;three&apos;);console.log(child1.names); // [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;]var child2 = new Child();console.log(child2.names); // [&quot;one&quot;, &quot;two&quot;] è¿™ç§æ–¹å¼ï¼Œé¿å…äº†å¼•ç”¨ç±»å‹çš„å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº«ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ Child ä¸­å‘ Parent ä¼ å‚ã€‚ 1234567function Parent (name) &#123; this.name = name;&#125;function Child (name) &#123; Parent.call(this, name);&#125; ç¼ºç‚¹ï¼šæ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œæ¯æ¬¡åˆ›å»ºå®ä¾‹éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ã€‚ ç»„åˆç»§æ‰¿ç»„åˆç»§æ‰¿ç»“åˆäº†ä¸Šè¿°ä¸¤ç§ç»§æ‰¿æ–¹æ³• 123456789101112131415161718192021222324252627282930313233function Parent (name) &#123; this.name = name; this.colors = [&apos;red&apos;, &apos;blue&apos;, &apos;green&apos;];&#125;Parent.prototype.getName = function () &#123; console.log(this.name)&#125;function Child (name, age) &#123; Parent.call(this, name); this.age = age;&#125;Child.prototype = new Parent();Child.prototype.constructor = Child;var child1 = new Child(&apos;kevin&apos;, &apos;18&apos;);child1.colors.push(&apos;black&apos;);console.log(child1.name); // kevinconsole.log(child1.age); // 18console.log(child1.colors); // [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;black&quot;]var child2 = new Child(&apos;daisy&apos;, &apos;20&apos;);console.log(child2.name); // daisyconsole.log(child2.age); // 20console.log(child2.colors); // [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;] å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ç»„åˆç»§æ‰¿æœ€å¤§çš„ç¼ºç‚¹æ˜¯ä¼šè°ƒç”¨ä¸¤æ¬¡çˆ¶æ„é€ å‡½æ•°ã€‚ä¸€æ¬¡æ˜¯è®¾ç½®å­ç±»å‹å®ä¾‹çš„åŸå‹çš„æ—¶å€™ï¼šChild.prototype = new Parent();ä¸€æ¬¡åœ¨åˆ›å»ºå­ç±»å‹å®ä¾‹çš„æ—¶å€™ï¼švar child1 = new Child(&#39;kevin&#39;, &#39;18&#39;);ä¸ºäº†è§£å†³é‡å¤è°ƒç”¨çš„é—®é¢˜ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä¸ä½¿ç”¨ Child.prototype = new Parent()ï¼Œè€Œæ˜¯é—´æ¥çš„è®© Child.prototype è®¿é—®åˆ° Parent.prototype 1234567891011121314151617181920function Parent (name) &#123; this.name = name; this.colors = [&apos;red&apos;, &apos;blue&apos;, &apos;green&apos;];&#125;Parent.prototype.getName = function () &#123; console.log(this.name)&#125;function Child (name, age) &#123; Parent.call(this, name); this.age = age;&#125;// å…³é”®çš„ä¸‰æ­¥var F = function () &#123;&#125;;F.prototype = Parent.prototype;Child.prototype = new F(); å…¶å®è¿™ä¸‰è¡Œä»£ç å°±æ˜¯å¯¹ ES5 ä¸­ Object.create()çš„æ¨¡æ‹Ÿ 123var F = function () &#123;&#125;;F.prototype = Parent.prototype;Child.prototype = new F(); ä¹Ÿå¯ä»¥ç›´æ¥ç”¨ ES5 çš„ Object.create()Child.prototype = Object.create(Parent.prototype) è¿™ç§æ–¹å¼çš„é«˜æ•ˆç‡ä½“ç°å®ƒåªè°ƒç”¨äº†ä¸€æ¬¡ Parent æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”å› æ­¤é¿å…äº†åœ¨ Parent.prototype ä¸Šé¢åˆ›å»ºä¸å¿…è¦çš„ã€å¤šä½™çš„å±æ€§ã€‚ä¸æ­¤åŒæ—¶ï¼ŒåŸå‹é“¾è¿˜èƒ½ä¿æŒä¸å˜ï¼›å› æ­¤ï¼Œè¿˜èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ instanceof å’Œ isPrototypeOfã€‚å¼€å‘äººå‘˜æ™®éè®¤ä¸ºå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿æ˜¯å¼•ç”¨ç±»å‹æœ€ç†æƒ³çš„ç»§æ‰¿èŒƒå¼ã€‚]]></content>
      <tags>
        <tag>JavaScriptåŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptè¿è¡Œæœºåˆ¶ï¼šEvent Loop]]></title>
    <url>%2Fblog%2Fposts%2F15261%2F</url>
    <content type="text"><![CDATA[å•çº¿ç¨‹çš„ JavaScriptJavaScript è¯­è¨€çš„ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯å•çº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒä¸€ä¸ªæ—¶é—´åªèƒ½åšä¸€ä»¶äº‹ã€‚é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆ JavaScript ä¸èƒ½æœ‰å¤šä¸ªçº¿ç¨‹å‘¢ï¼Ÿè¿™æ ·èƒ½æé«˜æ•ˆç‡å•Šã€‚JavaScript çš„å•çº¿ç¨‹ï¼Œä¸å®ƒçš„ç”¨é€”æœ‰å…³ã€‚ä½œä¸ºæµè§ˆå™¨è„šæœ¬è¯­è¨€ï¼ŒJavaScript çš„ä¸»è¦ç”¨é€”æ˜¯ä¸ç”¨æˆ·äº’åŠ¨ï¼Œä»¥åŠæ“ä½œ DOMã€‚è¿™å†³å®šäº†å®ƒåªèƒ½æ˜¯å•çº¿ç¨‹ï¼Œå¦åˆ™ä¼šå¸¦æ¥å¾ˆå¤æ‚çš„åŒæ­¥é—®é¢˜ã€‚æ¯”å¦‚ï¼Œå‡å®š JavaScript åŒæ—¶æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹åœ¨æŸä¸ª DOM èŠ‚ç‚¹ä¸Šæ·»åŠ å†…å®¹ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹åˆ é™¤äº†è¿™ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ—¶æµè§ˆå™¨åº”è¯¥ä»¥å“ªä¸ªçº¿ç¨‹ä¸ºå‡†ï¼Ÿ æ‰€ä»¥ï¼Œä¸ºäº†é¿å…å¤æ‚æ€§ï¼Œä»ä¸€è¯ç”Ÿï¼ŒJavaScript å°±æ˜¯å•çº¿ç¨‹ï¼Œè¿™å·²ç»æˆäº†è¿™é—¨è¯­è¨€çš„æ ¸å¿ƒç‰¹å¾ï¼Œå°†æ¥ä¹Ÿä¸ä¼šæ”¹å˜ã€‚ ä»»åŠ¡é˜Ÿåˆ—å•çº¿ç¨‹å°±æ„å‘³ç€ï¼Œæ‰€æœ‰ä»»åŠ¡éœ€è¦æ’é˜Ÿï¼Œå‰ä¸€ä¸ªä»»åŠ¡ç»“æŸï¼Œæ‰ä¼šæ‰§è¡Œåä¸€ä¸ªä»»åŠ¡ã€‚å¦‚æœå‰ä¸€ä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿ï¼Œåä¸€ä¸ªä»»åŠ¡å°±ä¸å¾—ä¸ä¸€ç›´ç­‰ç€ã€‚å¦‚æœæ’é˜Ÿæ˜¯å› ä¸ºè®¡ç®—é‡å¤§ï¼ŒCPU å¿™ä¸è¿‡æ¥ï¼Œå€’ä¹Ÿç®—äº†ï¼Œä½†æ˜¯å¾ˆå¤šæ—¶å€™ CPU æ˜¯é—²ç€çš„ï¼Œå› ä¸º IO è®¾å¤‡ï¼ˆè¾“å…¥è¾“å‡ºè®¾å¤‡ï¼‰å¾ˆæ…¢ï¼ˆæ¯”å¦‚ Ajax æ“ä½œä»ç½‘ç»œè¯»å–æ•°æ®ï¼‰ï¼Œä¸å¾—ä¸ç­‰ç€ç»“æœå‡ºæ¥ï¼Œå†å¾€ä¸‹æ‰§è¡Œã€‚JavaScript è¯­è¨€çš„è®¾è®¡è€…æ„è¯†åˆ°ï¼Œè¿™æ—¶ä¸»çº¿ç¨‹å®Œå…¨å¯ä»¥ä¸ç®¡ IO è®¾å¤‡ï¼ŒæŒ‚èµ·å¤„äºç­‰å¾…ä¸­çš„ä»»åŠ¡ï¼Œå…ˆè¿è¡Œæ’åœ¨åé¢çš„ä»»åŠ¡ã€‚ç­‰åˆ° IO è®¾å¤‡è¿”å›äº†ç»“æœï¼Œå†å›è¿‡å¤´ï¼ŒæŠŠæŒ‚èµ·çš„ä»»åŠ¡ç»§ç»­æ‰§è¡Œä¸‹å»ã€‚äºæ˜¯ï¼Œæ‰€æœ‰ä»»åŠ¡å¯ä»¥åˆ†æˆä¸¤ç§ï¼Œä¸€ç§æ˜¯åŒæ­¥ä»»åŠ¡ï¼ˆsynchronousï¼‰ï¼Œå¦ä¸€ç§æ˜¯å¼‚æ­¥ä»»åŠ¡ï¼ˆasynchronousï¼‰ã€‚åŒæ­¥ä»»åŠ¡æŒ‡çš„æ˜¯ï¼Œåœ¨ä¸»çº¿ç¨‹ä¸Šæ’é˜Ÿæ‰§è¡Œçš„ä»»åŠ¡ï¼Œåªæœ‰å‰ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œæ‰èƒ½æ‰§è¡Œåä¸€ä¸ªä»»åŠ¡ï¼›å¼‚æ­¥ä»»åŠ¡æŒ‡çš„æ˜¯ï¼Œä¸è¿›å…¥ä¸»çº¿ç¨‹ã€è€Œè¿›å…¥â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼ˆtask queueï¼‰çš„ä»»åŠ¡ï¼Œåªæœ‰â€ä»»åŠ¡é˜Ÿåˆ—â€é€šçŸ¥ä¸»çº¿ç¨‹ï¼ŒæŸä¸ªå¼‚æ­¥ä»»åŠ¡å¯ä»¥æ‰§è¡Œäº†ï¼Œè¯¥ä»»åŠ¡æ‰ä¼šè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ å…·ä½“æ¥è¯´ï¼Œå¼‚æ­¥æ‰§è¡Œçš„è¿è¡Œæœºåˆ¶å¦‚ä¸‹ã€‚ æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ª æ‰§è¡Œæ ˆ ï¼ˆexecution context stackï¼‰ã€‚ ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨ä¸€ä¸ªâ€ä»»åŠ¡é˜Ÿåˆ—â€ï¼ˆtask queueï¼‰ã€‚åªè¦å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœï¼Œå°±åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ä¹‹ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶ã€‚ ä¸€æ—¦â€æ‰§è¡Œæ ˆâ€ä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å“ªäº›äº‹ä»¶ã€‚é‚£äº›å¯¹åº”çš„å¼‚æ­¥ä»»åŠ¡ï¼Œäºæ˜¯ç»“æŸç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥æ‰§è¡Œæ ˆï¼Œå¼€å§‹æ‰§è¡Œã€‚ ä¸»çº¿ç¨‹ä¸æ–­é‡å¤ä¸Šé¢çš„ç¬¬ä¸‰æ­¥ã€‚ é™¤äº†æˆ‘ä»¬çš„ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œä»»åŠ¡é˜Ÿåˆ—åˆ†ä¸º microtask å’Œ macrotaskï¼Œé€šå¸¸æˆ‘ä»¬ä¼šç§°ä¹‹ä¸ºå¾®ä»»åŠ¡å’Œå®ä»»åŠ¡ã€‚ microtask è¿™ä¸€åè¯åœ¨ js ä¸­æ˜¯ä¸ªæ¯”è¾ƒæ–°çš„æ¦‚å¿µï¼Œæˆ‘ä»¬é€šå¸¸æ˜¯åœ¨å­¦ä¹  ES6 çš„ Promise æ—¶æ‰åˆæ¬¡æ¥è§¦åˆ°ã€‚ æ‰§è¡Œä¼˜å…ˆçº§ä¸Šï¼Œä¸»çº¿ç¨‹ä»»åŠ¡ &gt; microtask &gt; macrotaskã€‚ å…¸å‹çš„ macrotask æœ‰ setTimeout å’Œ setIntervalï¼Œä»¥åŠåªæœ‰ IE æ”¯æŒçš„ setImmediateï¼Œè¿˜æœ‰ MessageChannel ç­‰ï¼ŒES6 çš„ Promise åˆ™æ˜¯å±äº microtask macro-task(å®ä»»åŠ¡)ï¼šåŒ…æ‹¬æ•´ä½“ä»£ç  scriptï¼ŒsetTimeoutï¼ŒsetIntervalmicro-task(å¾®ä»»åŠ¡)ï¼šPromiseï¼Œprocess.nextTick äº‹ä»¶å’Œå›è°ƒå‡½æ•°â€œä»»åŠ¡é˜Ÿåˆ—â€æ˜¯ä¸€ä¸ªäº‹ä»¶çš„é˜Ÿåˆ—ï¼ˆä¹Ÿå¯ä»¥ç†è§£æˆæ¶ˆæ¯çš„é˜Ÿåˆ—ï¼‰ï¼ŒIO è®¾å¤‡å®Œæˆä¸€é¡¹ä»»åŠ¡ï¼Œå°±åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ä¸­æ·»åŠ ä¸€ä¸ªäº‹ä»¶ï¼Œè¡¨ç¤ºç›¸å…³çš„å¼‚æ­¥ä»»åŠ¡å¯ä»¥è¿›å…¥â€æ‰§è¡Œæ ˆâ€äº†ã€‚ä¸»çº¿ç¨‹è¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œå°±æ˜¯è¯»å–é‡Œé¢æœ‰å“ªäº›äº‹ä»¶ã€‚â€œä»»åŠ¡é˜Ÿåˆ—â€ä¸­çš„äº‹ä»¶ï¼Œé™¤äº† IO è®¾å¤‡çš„äº‹ä»¶ä»¥å¤–ï¼Œè¿˜åŒ…æ‹¬ä¸€äº›ç”¨æˆ·äº§ç”Ÿçš„äº‹ä»¶ï¼ˆæ¯”å¦‚é¼ æ ‡ç‚¹å‡»ã€é¡µé¢æ»šåŠ¨ç­‰ç­‰ï¼‰ã€‚åªè¦æŒ‡å®šè¿‡å›è°ƒå‡½æ•°ï¼Œè¿™äº›äº‹ä»¶å‘ç”Ÿæ—¶å°±ä¼šè¿›å…¥â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œç­‰å¾…ä¸»çº¿ç¨‹è¯»å–ã€‚æ‰€è°“â€å›è°ƒå‡½æ•°â€ï¼ˆcallbackï¼‰ï¼Œå°±æ˜¯é‚£äº›ä¼šè¢«ä¸»çº¿ç¨‹æŒ‚èµ·æ¥çš„ä»£ç ã€‚å¼‚æ­¥ä»»åŠ¡å¿…é¡»æŒ‡å®šå›è°ƒå‡½æ•°ï¼Œå½“ä¸»çº¿ç¨‹å¼€å§‹æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œå°±æ˜¯æ‰§è¡Œå¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚â€œä»»åŠ¡é˜Ÿåˆ—â€æ˜¯ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œæ’åœ¨å‰é¢çš„äº‹ä»¶ï¼Œä¼˜å…ˆè¢«ä¸»çº¿ç¨‹è¯»å–ã€‚ä¸»çº¿ç¨‹çš„è¯»å–è¿‡ç¨‹åŸºæœ¬ä¸Šæ˜¯è‡ªåŠ¨çš„ï¼Œåªè¦æ‰§è¡Œæ ˆä¸€æ¸…ç©ºï¼Œâ€ä»»åŠ¡é˜Ÿåˆ—â€ä¸Šç¬¬ä¸€ä½çš„äº‹ä»¶å°±è‡ªåŠ¨è¿›å…¥ä¸»çº¿ç¨‹ã€‚ä½†æ˜¯ï¼Œç”±äºå­˜åœ¨åæ–‡æåˆ°çš„â€å®šæ—¶å™¨â€åŠŸèƒ½ï¼Œä¸»çº¿ç¨‹é¦–å…ˆè¦æ£€æŸ¥ä¸€ä¸‹æ‰§è¡Œæ—¶é—´ï¼ŒæŸäº›äº‹ä»¶åªæœ‰åˆ°äº†è§„å®šçš„æ—¶é—´ï¼Œæ‰èƒ½è¿”å›ä¸»çº¿ç¨‹ã€‚ Event Loopä¸»çº¿ç¨‹ä»â€ä»»åŠ¡é˜Ÿåˆ—â€ä¸­è¯»å–äº‹ä»¶ï¼Œä¸€æ¬¡å¾ªç¯çš„æ‰§è¡Œç§°ä¹‹ä¸º tickï¼Œåœ¨è¿™ä¸ªå¾ªç¯é‡Œæ‰§è¡Œçš„ä»£ç è¢«ç§°ä½œ taskï¼Œè€Œæ•´ä¸ªè¿‡ç¨‹æ˜¯ä¸æ–­é‡å¤çš„ï¼Œæ‰€ä»¥æ•´ä¸ªçš„è¿™ç§è¿è¡Œæœºåˆ¶åˆç§°ä¸º Event Loopï¼ˆäº‹ä»¶å¾ªç¯ï¼‰ã€‚ ä¸Šå›¾ä¸­ï¼Œä¸»çº¿ç¨‹è¿è¡Œçš„æ—¶å€™ï¼Œäº§ç”Ÿå †ï¼ˆheapï¼‰å’Œæ ˆï¼ˆstackï¼‰ï¼Œæ ˆä¸­çš„ä»£ç è°ƒç”¨å„ç§å¤–éƒ¨ APIï¼Œå®ƒä»¬åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ä¸­åŠ å…¥å„ç§äº‹ä»¶ï¼ˆclickï¼Œloadï¼Œdoneï¼‰ã€‚åªè¦æ ˆä¸­çš„ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œä¸»çº¿ç¨‹å°±ä¼šå»è¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œä¾æ¬¡æ‰§è¡Œé‚£äº›äº‹ä»¶æ‰€å¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚]]></content>
      <tags>
        <tag>JavaScriptåŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptâ€”â€”é—­åŒ…]]></title>
    <url>%2Fblog%2Fposts%2F50156%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯é—­åŒ…MDN å¯¹é—­åŒ…çš„å®šä¹‰ä¸ºï¼š é—­åŒ…æ˜¯æŒ‡é‚£äº›èƒ½å¤Ÿè®¿é—®è‡ªç”±å˜é‡çš„å‡½æ•°è‡ªç”±å˜é‡æ˜¯æŒ‡åœ¨å‡½æ•°ä¸­ä½¿ç”¨çš„ï¼Œä½†æ—¢ä¸æ˜¯å‡½æ•°å‚æ•°ä¹Ÿä¸æ˜¯å‡½æ•°çš„å±€éƒ¨å˜é‡çš„å˜é‡ã€‚ ç”±æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºé—­åŒ…å…±æœ‰ä¸¤éƒ¨åˆ†ç»„æˆï¼šé—­åŒ… = å‡½æ•° + å‡½æ•°èƒ½å¤Ÿè®¿é—®çš„è‡ªç”±å˜é‡ ECMAScript ä¸­ï¼Œé—­åŒ…æŒ‡çš„æ˜¯ï¼š1ã€ä»ç†è®ºè§’åº¦ï¼šæ‰€æœ‰çš„å‡½æ•°ã€‚å› ä¸ºå®ƒä»¬éƒ½åœ¨åˆ›å»ºçš„æ—¶å€™å°±å°†ä¸Šå±‚ä¸Šä¸‹æ–‡çš„æ•°æ®ä¿å­˜èµ·æ¥äº†ã€‚å“ªæ€•æ˜¯ç®€å•çš„å…¨å±€å˜é‡ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå› ä¸ºå‡½æ•°ä¸­è®¿é—®å…¨å±€å˜é‡å°±ç›¸å½“äºæ˜¯åœ¨è®¿é—®è‡ªç”±å˜é‡ï¼Œè¿™ä¸ªæ—¶å€™ä½¿ç”¨æœ€å¤–å±‚çš„ä½œç”¨åŸŸã€‚2ã€ä»å®è·µè§’åº¦ï¼šä»¥ä¸‹å‡½æ•°æ‰ç®—æ˜¯é—­åŒ…ï¼šï¼ˆ1ï¼‰å³ä½¿åˆ›å»ºå®ƒçš„ä¸Šä¸‹æ–‡å·²ç»é”€æ¯ï¼Œå®ƒä»ç„¶å­˜åœ¨ï¼ˆæ¯”å¦‚ï¼Œå†…éƒ¨å‡½æ•°ä»çˆ¶å‡½æ•°ä¸­è¿”å›ï¼‰ï¼ˆ2ï¼‰åœ¨ä»£ç ä¸­å¼•ç”¨äº†è‡ªç”±å˜é‡ ä¸¾ä¾‹åˆ†æåœ¨ã€ŠJavaScript æƒå¨æŒ‡å—ã€‹ä¸­å…³äºé—­åŒ…æœ‰è¿™æ ·ä¸€ä¸ªä¾‹å­ 12345678910var scope = &quot;global scope&quot;;function checkscope()&#123; var scope = &quot;local scope&quot;; function f()&#123; return scope; &#125; return f;&#125;var foo = checkscope();foo(); æ ¹æ®ä¹‹å‰æ‰€å­¦ä¹ çš„ï¼Œä¸éš¾åˆ†æå‡ºè¿™æ®µä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ è¿›å…¥å…¨å±€ä»£ç ï¼Œåˆ›å»ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ– æ‰§è¡Œ checkscope å‡½æ•°ï¼Œåˆ›å»º checkscope å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œcheckscope æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ checkscope æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ–ï¼Œåˆ›å»ºå˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾ã€this ç­‰ checkscope å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œcheckscope æ‰§è¡Œä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡º æ‰§è¡Œ f å‡½æ•°ï¼Œåˆ›å»º f å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œf æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ f æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ–ï¼Œåˆ›å»ºå˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾ã€this ç­‰ f å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œf å‡½æ•°ä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡º å¯ä»¥å‘ç°ï¼Œå½“ f å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œcheckscope å‡½æ•°ä¸Šä¸‹æ–‡å·²ç»ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå¼¹å‡ºäº†ï¼Œé‚£æ€ä¹ˆæ€ä¹ˆè¿˜ä¼šè¯»å–åˆ° checkscope ä½œç”¨åŸŸä¸‹çš„ scope å€¼å‘¢ï¼Ÿæˆ‘ä»¬åˆ†æä¸€ä¸‹ f çš„ä½œç”¨åŸŸé“¾å¯ä»¥å‘ç° 123fContext = &#123; Scope: [AO, checkscopeContext.AO, globalContext.VO],&#125; å°±æ˜¯å› ä¸ºè¿™ä¸ªä½œç”¨åŸŸé“¾ï¼Œf å‡½æ•°ä¾ç„¶å¯ä»¥è¯»å–åˆ° checkscopeContext.AO çš„å€¼ï¼Œè¯´æ˜å½“ f å‡½æ•°å¼•ç”¨äº† checkscopeContext.AO ä¸­çš„å€¼çš„æ—¶å€™ï¼Œå³ä½¿ checkscopeContext è¢«é”€æ¯äº†ï¼Œä½†æ˜¯ JavaScript ä¾ç„¶ä¼šè®© checkscopeContext.AO æ´»åœ¨å†…å­˜ä¸­ï¼Œf å‡½æ•°ä¾ç„¶å¯ä»¥é€šè¿‡ f å‡½æ•°çš„ä½œç”¨åŸŸé“¾æ‰¾åˆ°å®ƒï¼Œæ­£æ˜¯å› ä¸º JavaScript åšåˆ°äº†è¿™ä¸€ç‚¹ï¼Œä»è€Œå®ç°äº†é—­åŒ…è¿™ä¸ªæ¦‚å¿µã€‚ ä¸€é“é¢è¯•é¢˜1234567891011var data = [];for (var i = 0; i &lt; 3; i++) &#123; data[i] = function () &#123; console.log(i); &#125;;&#125;data[0]();data[1]();data[2](); ç­”æ¡ˆæ˜¯éƒ½æ˜¯ 3ã€‚å½“æ‰§è¡Œåˆ° data[0] å‡½æ•°ä¹‹å‰ï¼Œæ­¤æ—¶å…¨å±€ä¸Šä¸‹æ–‡çš„ VO ä¸ºï¼š 123456globalContext = &#123; VO: &#123; data: [...], i: 3 &#125;&#125; å½“æ‰§è¡Œ data[0] å‡½æ•°çš„æ—¶å€™ï¼Œdata[0] å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡çš„æ´»åŠ¨å¯¹è±¡ä¸­æ²¡æœ‰ iï¼Œæ‰€ä»¥ä¼šä» globalContext.VO ä¸­æŸ¥æ‰¾ï¼Œi ä¸º 3ï¼Œæ‰€ä»¥æ‰“å°çš„ç»“æœå°±æ˜¯ 3ã€‚data[1] å’Œ data[2] æ˜¯ä¸€æ ·çš„é“ç†ã€‚ é‚£ä¹ˆå¦‚ä½•å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœå‘¢ï¼Ÿ ç¬¬ä¸€ç§æ–¹æ³•ï¼šå¯ä»¥å°† var æ”¹æˆ ES6 çš„ let ç¬¬äºŒç§æ–¹æ³•ï¼šä½¿ç”¨é—­åŒ… 12345678910111213var data = [];for (var i = 0; i &lt; 3; i++) &#123; data[i] = (function (i) &#123; return function()&#123; console.log(i); &#125; &#125;)(i);&#125;data[0]();data[1]();data[2](); å½“æ‰§è¡Œ data[0] å‡½æ•°çš„æ—¶å€™ï¼Œdata[0] å‡½æ•°çš„ä½œç”¨åŸŸé“¾å‘ç”Ÿäº†æ”¹å˜ 123data[0]Context = &#123; Scope: [AO, åŒ¿åå‡½æ•°Context.AO globalContext.VO]&#125; åŒ¿åå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡çš„ AO ä¸ºï¼š 123456789åŒ¿åå‡½æ•°Context = &#123; AO: &#123; arguments: &#123; 0: 0, length: 1 &#125;, i: 0 &#125;&#125; data[0]Context çš„ AO å¹¶æ²¡æœ‰ i å€¼ï¼Œæ‰€ä»¥ä¼šæ²¿ç€ä½œç”¨åŸŸé“¾ä»åŒ¿åå‡½æ•° Context.AO ä¸­æŸ¥æ‰¾ï¼Œè¿™æ—¶å€™å°±ä¼šæ‰¾ i ä¸º 0ï¼Œæ‰¾åˆ°äº†å°±ä¸ä¼šå¾€ globalContext.VO ä¸­æŸ¥æ‰¾äº†ï¼Œå³ä½¿ globalContext.VO ä¹Ÿæœ‰ i çš„å€¼(å€¼ä¸º 3)ï¼Œæ‰€ä»¥æ‰“å°çš„ç»“æœå°±æ˜¯ 0ã€‚]]></content>
      <tags>
        <tag>JavaScriptåŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptâ€”â€”ä½œç”¨åŸŸé“¾]]></title>
    <url>%2Fblog%2Fposts%2F52497%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾JavaScript åœ¨æŸ¥æ‰¾å˜é‡çš„æ—¶å€™ï¼Œä¼šå…ˆä»å½“å‰ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä¼šä»çˆ¶çº§(è¯æ³•å±‚é¢ä¸Šçš„çˆ¶çº§)æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ä¸­æŸ¥æ‰¾ï¼Œä¸€ç›´æ‰¾åˆ°å…¨å±€ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å…¨å±€å¯¹è±¡ã€‚è¿™æ ·ç”±å¤šä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡æ„æˆçš„é“¾è¡¨å°±å«åšä½œç”¨åŸŸé“¾ã€‚æˆ‘ä»¬ä»å‡½æ•°åˆ›å»ºå’Œå‡½æ•°æ¿€æ´»ä¸¤ä¸ªæ—¶æœŸæ¥çœ‹ä½œç”¨åŸŸé“¾çš„å˜åŒ– å‡½æ•°åˆ›å»ºå‡½æ•°æœ‰ä¸€ä¸ªå†…éƒ¨å±æ€§ [[scope]]ï¼Œå½“å‡½æ•°åˆ›å»ºçš„æ—¶å€™ï¼Œå°±ä¼šä¿å­˜æ‰€æœ‰çˆ¶å˜é‡å¯¹è±¡åˆ°å…¶ä¸­ï¼Œä½ å¯ä»¥ç†è§£ [[scope]] å°±æ˜¯æ‰€æœ‰çˆ¶å˜é‡å¯¹è±¡çš„å±‚çº§é“¾ï¼Œä½†æ˜¯æ³¨æ„ï¼š[[scope]] å¹¶ä¸ä»£è¡¨å®Œæ•´çš„ä½œç”¨åŸŸé“¾ï¼ 12345function foo() &#123; function bar() &#123; ... &#125;&#125; ä¸Šè¿°ä¸¤ä¸ªå‡½æ•°çš„ä½œç”¨åŸŸé“¾åˆ†åˆ«æ˜¯ 12345678foo.[[scope]] = [ globalContext.VO];bar.[[scope]] = [ fooContext.AO, globalContext.VO]; å‡½æ•°æ¿€æ´»å½“å‡½æ•°æ¿€æ´»æ—¶ï¼Œè¿›å…¥å‡½æ•°ä¸Šä¸‹æ–‡ï¼Œåˆ›å»º VO/AO åï¼Œå°±ä¼šå°†æ´»åŠ¨å¯¹è±¡æ·»åŠ åˆ°ä½œç”¨é“¾çš„å‰ç«¯ã€‚è¿™æ—¶å€™æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä½œç”¨åŸŸé“¾ï¼Œæˆ‘ä»¬å‘½åä¸º Scopeã€‚ä»¥ä¸‹é¢çš„ä¾‹å­ä¸ºä¾‹ï¼Œç»“åˆç€ä¹‹å‰è®²çš„å˜é‡å¯¹è±¡å’Œæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ä½œç”¨åŸŸé“¾å’Œå˜é‡å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼š 123456var scope = &quot;global scope&quot;;function checkscope()&#123; var scope2 = &apos;local scope&apos;; return scope2;&#125;checkscope(); checkscope å‡½æ•°è¢«åˆ›å»ºï¼Œä¿å­˜ä½œç”¨åŸŸé“¾åˆ° å†…éƒ¨å±æ€§[[scope]] 123checkscope.[[scope]] = [ globalContext.VO]; æ‰§è¡Œ checkscope å‡½æ•°ï¼Œåˆ›å»º checkscope å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œcheckscope å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ 1234ECStack = [ checkscopeContext, globalContext]; checkscope å‡½æ•°å¹¶ä¸ç«‹åˆ»æ‰§è¡Œï¼Œå¼€å§‹åšå‡†å¤‡å·¥ä½œï¼Œç¬¬ä¸€æ­¥ï¼šå¤åˆ¶å‡½æ•°[[scope]]å±æ€§åˆ›å»ºä½œç”¨åŸŸé“¾ 123checkscopeContext = &#123; Scope: checkscope.[[scope]],&#125; ç¬¬äºŒæ­¥ï¼šç”¨ arguments åˆ›å»ºæ´»åŠ¨å¯¹è±¡ï¼Œéšååˆå§‹åŒ–æ´»åŠ¨å¯¹è±¡ï¼ŒåŠ å…¥å½¢å‚ã€å‡½æ•°å£°æ˜ã€å˜é‡å£°æ˜ 123456789checkscopeContext = &#123; AO: &#123; arguments: &#123; length: 0 &#125;, scope2: undefined &#125;ï¼Œ Scope: checkscope.[[scope]]&#125; ç¬¬ä¸‰æ­¥ï¼šå°†æ´»åŠ¨å¯¹è±¡å‹å…¥ checkscope ä½œç”¨åŸŸé“¾é¡¶ç«¯ 123456789checkscopeContext = &#123; AO: &#123; arguments: &#123; length: 0 &#125;, scope2: undefined &#125;, Scope: [AO, [[Scope]]]&#125; å‡†å¤‡å·¥ä½œåšå®Œï¼Œå¼€å§‹æ‰§è¡Œå‡½æ•°ï¼Œéšç€å‡½æ•°çš„æ‰§è¡Œï¼Œä¿®æ”¹ AO çš„å±æ€§å€¼ 123456789checkscopeContext = &#123; AO: &#123; arguments: &#123; length: 0 &#125;, scope2: &apos;local scope&apos; &#125;, Scope: [AO, [[Scope]]]&#125; æŸ¥æ‰¾åˆ° scope2 çš„å€¼ï¼Œè¿”å›åå‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå‡½æ•°ä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡ºã€‚ 123ECStack = [ globalContext];]]></content>
      <tags>
        <tag>JavaScriptåŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptâ€”â€”å˜é‡å¯¹è±¡]]></title>
    <url>%2Fblog%2Fposts%2F64576%2F</url>
    <content type="text"><![CDATA[å‰è¨€å¯¹äºæ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œéƒ½æœ‰ä¸‰ä¸ªé‡è¦å±æ€§ï¼š å˜é‡å¯¹è±¡(Variable objectï¼ŒVO)ï¼šå˜é‡å¯¹è±¡æ˜¯ä¸æ‰§è¡Œä¸Šä¸‹æ–‡ç›¸å…³çš„æ•°æ®ä½œç”¨åŸŸï¼Œå­˜å‚¨äº†åœ¨ä¸Šä¸‹æ–‡ä¸­å®šä¹‰çš„å˜é‡å’Œå‡½æ•°å£°æ˜ã€‚ ä½œç”¨åŸŸé“¾(Scope chain) this å…¨å±€ä¸Šä¸‹æ–‡å…¨å±€ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å¯¹è±¡å°±æ˜¯å…¨å±€å¯¹è±¡ã€‚å…¨å±€å¯¹è±¡æ˜¯ä¸ªå•¥ï¼Ÿåœ¨ w3cschool å…³äºå…¨å±€å¯¹è±¡çš„æè¿°å¦‚ä¸‹ å…¨å±€å¯¹è±¡æ˜¯é¢„å®šä¹‰çš„å¯¹è±¡ï¼Œä½œä¸º JavaScript çš„å…¨å±€å‡½æ•°å’Œå…¨å±€å±æ€§çš„å ä½ç¬¦ã€‚é€šè¿‡ä½¿ç”¨å…¨å±€å¯¹è±¡ï¼Œå¯ä»¥è®¿é—®æ‰€æœ‰å…¶ä»–æ‰€æœ‰é¢„å®šä¹‰çš„å¯¹è±¡ã€å‡½æ•°å’Œå±æ€§ã€‚å…¨å±€å¯¹è±¡ä¸æ˜¯ä»»ä½•å¯¹è±¡çš„å±æ€§ï¼Œæ‰€ä»¥å®ƒæ²¡æœ‰åç§°ã€‚ åœ¨é¡¶å±‚ JavaScript ä»£ç ä¸­ï¼Œå¯ä»¥ç”¨å…³é”®å­— this å¼•ç”¨å…¨å±€å¯¹è±¡ã€‚ä½†é€šå¸¸ä¸å¿…ç”¨è¿™ç§æ–¹å¼å¼•ç”¨å…¨å±€å¯¹è±¡ï¼Œå› ä¸ºå…¨å±€å¯¹è±¡æ˜¯ä½œç”¨åŸŸé“¾çš„å¤´ï¼Œè¿™æ„å‘³ç€æ‰€æœ‰éé™å®šæ€§çš„å˜é‡å’Œå‡½æ•°åéƒ½ä¼šä½œä¸ºè¯¥å¯¹è±¡çš„å±æ€§æ¥æŸ¥è¯¢ã€‚ä¾‹å¦‚ï¼Œå½“ JavaScript ä»£ç å¼•ç”¨ parseInt() å‡½æ•°æ—¶ï¼Œå®ƒå¼•ç”¨çš„æ˜¯å…¨å±€å¯¹è±¡çš„ parseInt å±æ€§ã€‚å…¨å±€å¯¹è±¡æ˜¯ä½œç”¨åŸŸé“¾çš„å¤´ï¼Œè¿˜æ„å‘³ç€åœ¨é¡¶å±‚ JavaScript ä»£ç ä¸­å£°æ˜çš„æ‰€æœ‰å˜é‡éƒ½å°†æˆä¸ºå…¨å±€å¯¹è±¡çš„å±æ€§ã€‚ å…¨å±€å¯¹è±¡åªæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯ç±»ã€‚æ—¢æ²¡æœ‰æ„é€ å‡½æ•°ï¼Œä¹Ÿæ— æ³•å®ä¾‹åŒ–ä¸€ä¸ªæ–°çš„å…¨å±€å¯¹è±¡ã€‚ç®€å•çš„è¯´ï¼Œå…¨å±€å¯¹è±¡å°±æ˜¯ å¯ä»¥é€šè¿‡ this å¼•ç”¨ï¼Œåœ¨å®¢æˆ·ç«¯ JavaScript ä¸­ï¼Œå…¨å±€å¯¹è±¡å°±æ˜¯ Window å¯¹è±¡ã€‚ ç”± Object æ„é€ å‡½æ•°å®ä¾‹åŒ–çš„ä¸€ä¸ªå¯¹è±¡ã€‚ ä½œä¸ºå…¨å±€å˜é‡çš„å®¿ä¸»ã€‚ é¢„å®šä¹‰äº†ä¸€å¤§å †å‡½æ•°å’Œå±æ€§ã€‚ å‡½æ•°ä¸Šä¸‹æ–‡æ´»åŠ¨å¯¹è±¡æ˜¯åœ¨è¿›å…¥å‡½æ•°ä¸Šä¸‹æ–‡æ—¶åˆ»è¢«åˆ›å»ºçš„ï¼Œå®ƒé€šè¿‡å‡½æ•°çš„ arguments å±æ€§åˆå§‹åŒ–ã€‚arguments å±æ€§å€¼æ˜¯ Arguments å¯¹è±¡ã€‚ æ‰§è¡Œè¿‡ç¨‹æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä»£ç ä¼šåˆ†æˆä¸¤ä¸ªé˜¶æ®µè¿›è¡Œå¤„ç†ï¼šåˆ†æå’Œæ‰§è¡Œï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å«åšï¼š è¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡ ä»£ç æ‰§è¡Œ è¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡å½“è¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ—¶ï¼Œè¿™æ—¶å€™è¿˜æ²¡æœ‰æ‰§è¡Œä»£ç ï¼Œå˜é‡å¯¹è±¡ä¼šåŒ…æ‹¬ï¼š å‡½æ•°çš„æ‰€æœ‰å½¢å‚ (å¦‚æœæ˜¯å‡½æ•°ä¸Šä¸‹æ–‡)ï¼šç”±åç§°å’Œå¯¹åº”å€¼ç»„æˆçš„ä¸€ä¸ªå˜é‡å¯¹è±¡çš„å±æ€§è¢«åˆ›å»ºï¼›æ²¡æœ‰å®å‚ï¼Œå±æ€§å€¼è®¾ä¸º undefinedï¼› å‡½æ•°å£°æ˜ï¼šç”±åç§°å’Œå¯¹åº”å€¼ï¼ˆå‡½æ•°å¯¹è±¡(function-object)ï¼‰ç»„æˆä¸€ä¸ªå˜é‡å¯¹è±¡çš„å±æ€§è¢«åˆ›å»ºï¼›å¦‚æœå˜é‡å¯¹è±¡å·²ç»å­˜åœ¨ç›¸åŒåç§°çš„å±æ€§ï¼Œåˆ™å®Œå…¨æ›¿æ¢è¿™ä¸ªå±æ€§ï¼› å˜é‡å£°æ˜ï¼šç”±åç§°å’Œå¯¹åº”å€¼ï¼ˆundefinedï¼‰ç»„æˆä¸€ä¸ªå˜é‡å¯¹è±¡çš„å±æ€§è¢«åˆ›å»ºï¼›å¦‚æœå˜é‡åç§°è·Ÿå·²ç»å£°æ˜çš„å½¢å¼å‚æ•°æˆ–å‡½æ•°ç›¸åŒï¼Œåˆ™å˜é‡å£°æ˜ä¸ä¼šå¹²æ‰°å·²ç»å­˜åœ¨çš„è¿™ç±»å±æ€§ï¼›ï¼ˆåœ¨è¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ—¶ï¼Œé¦–å…ˆä¼šå¤„ç†å‡½æ•°å£°æ˜ï¼Œå…¶æ¬¡ä¼šå¤„ç†å˜é‡å£°æ˜ï¼Œå¦‚æœå¦‚æœå˜é‡åç§°è·Ÿå·²ç»å£°æ˜çš„å½¢å¼å‚æ•°æˆ–å‡½æ•°ç›¸åŒï¼Œåˆ™å˜é‡å£°æ˜ä¸ä¼šå¹²æ‰°å·²ç»å­˜åœ¨çš„è¿™ç±»å±æ€§ï¼‰ 12345678910function foo(a) &#123; var b = 2; function c() &#123;&#125; var d = function() &#123;&#125;; b = 3;&#125;foo(1); è¿›å‡ºæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œè¿™æ—¶å€™çš„ AO ä¸ºï¼š 12345678910AO = &#123; arguments: &#123; 0: 1, length: 1 &#125;, a: 1, //å½¢å‚ b: undefined, //å˜é‡å£°æ˜ c: reference to function c()&#123;&#125;, //å‡½æ•°å£°æ˜ d: undefined //å‡½æ•°å˜é‡å£°æ˜&#125; ä»£ç æ‰§è¡Œåœ¨ä»£ç æ‰§è¡Œé˜¶æ®µï¼Œä¼šé¡ºåºæ‰§è¡Œä»£ç ï¼Œæ ¹æ®ä»£ç ï¼Œä¿®æ”¹å˜é‡å¯¹è±¡çš„å€¼è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼Œå½“ä»£ç æ‰§è¡Œå®Œåï¼Œè¿™æ—¶å€™çš„ AO æ˜¯ï¼š 12345678910AO = &#123; arguments: &#123; 0: 1, length: 1 &#125;, a: 1, b: 3, c: reference to function c()&#123;&#125;, d: reference to FunctionExpression &quot;d&quot;&#125; ç»“è¯­åˆ°è¿™é‡Œå˜é‡å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹å°±ä»‹ç»å®Œäº†ï¼Œæ€»ç»“æˆ‘ä»¬ä¸Šè¿°æ‰€è¯´ï¼š å…¨å±€ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡åˆå§‹åŒ–æ˜¯å…¨å±€å¯¹è±¡ å‡½æ•°ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡åˆå§‹åŒ–åªåŒ…æ‹¬ Arguments å¯¹è±¡ åœ¨è¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ—¶ä¼šç»™å˜é‡å¯¹è±¡æ·»åŠ å½¢å‚ã€å‡½æ•°å£°æ˜ã€å˜é‡å£°æ˜ç­‰åˆå§‹çš„å±æ€§å€¼ åœ¨ä»£ç æ‰§è¡Œé˜¶æ®µï¼Œä¼šå†æ¬¡ä¿®æ”¹å˜é‡å¯¹è±¡çš„å±æ€§å€¼]]></content>
      <tags>
        <tag>JavaScriptåŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptâ€”â€”æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ]]></title>
    <url>%2Fblog%2Fposts%2F58701%2F</url>
    <content type="text"><![CDATA[é¡ºåºæ‰§è¡Œå¦‚æœè¦é—®åˆ° JavaScript ä»£ç æ‰§è¡Œé¡ºåºçš„è¯ï¼Œæƒ³å¿…å†™è¿‡ JavaScript çš„å¼€å‘è€…éƒ½ä¼šæœ‰ä¸ªç›´è§‚çš„å°è±¡ï¼Œé‚£å°±æ˜¯é¡ºåºæ‰§è¡Œçœ‹ä¸‹é¢ä¸¤ä¸ªä¾‹å­ 1234567891011var foo = function () &#123; console.log(&apos;foo1&apos;);&#125;foo(); // foo1var foo = function () &#123; console.log(&apos;foo2&apos;);&#125;foo(); // foo2 é¡ºåºæ‰§è¡Œæ²¡æ¯›ç—…ï½ç„¶è€Œçœ‹ä¸‹é¢è¿™ä¸ªï¼š 1234567891011function foo() &#123; console.log(&apos;foo1&apos;);&#125;foo(); // foo2function foo() &#123; console.log(&apos;foo2&apos;);&#125;foo(); // foo2 è¾“å‡ºç»“æœæ˜¯ä¸¤ä¸ª foo2è¿™æ˜¯å› ä¸º JavaScript å¼•æ“å¹¶éä¸€è¡Œä¸€è¡Œåœ°åˆ†æå’Œæ‰§è¡Œç¨‹åºï¼Œè€Œæ˜¯ä¸€æ®µä¸€æ®µåœ°åˆ†ææ‰§è¡Œã€‚å½“æ‰§è¡Œä¸€æ®µä»£ç çš„æ—¶å€™ï¼Œä¼šè¿›è¡Œä¸€ä¸ªâ€œå‡†å¤‡å·¥ä½œâ€ï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªä¾‹å­ä¸­çš„å˜é‡æå‡ï¼Œå’Œç¬¬äºŒä¸ªä¾‹å­ä¸­çš„å‡½æ•°æå‡ã€‚ç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼Œå‡½æ•°çš„å£°æ˜è¢«æå‡äº†ï¼Œè¾“å‡º foo2 çš„å‡½æ•°è¦†ç›–äº†å‰ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥ä¸¤æ¬¡è°ƒç”¨çš„è¾“å‡ºéƒ½æ˜¯ foo2ã€‚ å¯æ‰§è¡Œä»£ç JavaScript çš„å¯æ‰§è¡Œä»£ç æœ‰ä¸‰ç§ï¼šå…¨å±€ä»£ç ã€å‡½æ•°ä»£ç ã€eval ä»£ç ã€‚å½“é‡åˆ°å¯æ‰§è¡Œä»£ç æ—¶ï¼Œå°±ä¼šè¿›è¡Œå‡†å¤‡å·¥ä½œï¼Œè¿™é‡Œçš„â€œå‡†å¤‡å·¥ä½œâ€ï¼Œç”¨ä¸ªæ›´ä¸“ä¸šä¸€ç‚¹çš„è¯´æ³•ï¼Œå°±å«åšâ€æ‰§è¡Œä¸Šä¸‹æ–‡(execution context)â€ã€‚ æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆJavaScript å¼•æ“åˆ›å»ºäº†æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼ˆExecution context stackï¼ŒECSï¼‰æ¥ç®¡ç†æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªæ•°ç»„æ¥æ¨¡æ‹Ÿï¼šECStack = [];è¯•æƒ³å½“ JavaScript å¼€å§‹è¦è§£é‡Šæ‰§è¡Œä»£ç çš„æ—¶å€™ï¼Œæœ€å…ˆé‡åˆ°çš„å°±æ˜¯å…¨å±€ä»£ç ï¼Œæ‰€ä»¥åˆå§‹åŒ–çš„æ—¶å€™é¦–å…ˆå°±ä¼šå‘æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå‹å…¥ä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæˆ‘ä»¬ç”¨ globalContext è¡¨ç¤ºå®ƒï¼Œå¹¶ä¸”åªæœ‰å½“æ•´ä¸ªåº”ç”¨ç¨‹åºç»“æŸçš„æ—¶å€™ï¼ŒECStack æ‰ä¼šè¢«æ¸…ç©ºï¼Œæ‰€ä»¥ç¨‹åºç»“æŸä¹‹å‰ï¼Œ ECStack æœ€åº•éƒ¨æ°¸è¿œæœ‰ä¸ª globalContextï¼š 123ECStack = [ globalContext]; æ¥ä¸‹æ¥é‡åˆ°äº†è¿™æ ·ä¸€æ®µä»£ç ï¼š 12345678910111213function fun3() &#123; console.log(&apos;fun3&apos;)&#125;function fun2() &#123; fun3();&#125;function fun1() &#123; fun2();&#125;fun1(); é‚£ä¹ˆæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆçš„å˜åŒ–å¦‚ä½•å‘¢ï¼Ÿ 12345678910111213141516171819// fun1()ECStack.push(&lt;fun1&gt; functionContext);// fun1ä¸­è°ƒç”¨äº†fun2ï¼Œåˆ›å»ºfun2çš„æ‰§è¡Œä¸Šä¸‹æ–‡ECStack.push(&lt;fun2&gt; functionContext);// fun2è¿˜è°ƒç”¨äº†fun3ï¼Œåˆ›å»ºfun3çš„æ‰§è¡Œä¸Šä¸‹æ–‡ECStack.push(&lt;fun3&gt; functionContext);// fun3æ‰§è¡Œå®Œæ¯•ECStack.pop();// fun2æ‰§è¡Œå®Œæ¯•ECStack.pop();// fun1æ‰§è¡Œå®Œæ¯•ECStack.pop();// javascriptæ¥ç€æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼Œä½†æ˜¯ECStackåº•å±‚æ°¸è¿œæœ‰ä¸€ä¸ªglobalContext]]></content>
      <tags>
        <tag>JavaScriptåŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptâ€”â€”ä½œç”¨åŸŸ]]></title>
    <url>%2Fblog%2Fposts%2F53883%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸä½œç”¨åŸŸæ˜¯æŒ‡ç¨‹åºæºä»£ç ä¸­å®šä¹‰å˜é‡çš„åŒºåŸŸã€‚ä½œç”¨åŸŸè§„å®šäº†å¦‚ä½•æŸ¥æ‰¾å˜é‡ï¼Œä¹Ÿå°±æ˜¯ç¡®å®šå½“å‰æ‰§è¡Œä»£ç å¯¹å˜é‡çš„è®¿é—®æƒé™ã€‚JavaScript é‡‡ç”¨è¯æ³•ä½œç”¨åŸŸ(lexical scoping)ï¼Œä¹Ÿå°±æ˜¯é™æ€ä½œç”¨åŸŸã€‚ é™æ€ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸ å› ä¸º JavaScript é‡‡ç”¨çš„æ˜¯è¯æ³•ä½œç”¨åŸŸï¼Œå‡½æ•°çš„ä½œç”¨åŸŸåœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™å°±å†³å®šäº†ã€‚ è€Œä¸è¯æ³•ä½œç”¨åŸŸç›¸å¯¹çš„æ˜¯åŠ¨æ€ä½œç”¨åŸŸï¼Œå‡½æ•°çš„ä½œç”¨åŸŸæ˜¯åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™æ‰å†³å®šçš„ã€‚ï¼ˆè¿™é‡Œè¦åˆ’é‡ç‚¹ï¼‰ 123456789101112var value = 1;function foo() &#123; console.log(value);&#125;function bar() &#123; var value = 2; foo();&#125;bar(); å‡è®¾ JavaScript é‡‡ç”¨é™æ€ä½œç”¨åŸŸï¼Œè®©æˆ‘ä»¬åˆ†æä¸‹æ‰§è¡Œè¿‡ç¨‹ï¼šæ‰§è¡Œ foo å‡½æ•°ï¼Œå…ˆä» foo å‡½æ•°å†…éƒ¨æŸ¥æ‰¾æ˜¯å¦æœ‰å±€éƒ¨å˜é‡ valueï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±æ ¹æ®ä¹¦å†™çš„ä½ç½®ï¼ŒæŸ¥æ‰¾ä¸Šé¢ä¸€å±‚çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯ value ç­‰äº 1ï¼Œæ‰€ä»¥ç»“æœä¼šæ‰“å° 1ã€‚ å‡è®¾ JavaScript é‡‡ç”¨åŠ¨æ€ä½œç”¨åŸŸï¼Œè®©æˆ‘ä»¬åˆ†æä¸‹æ‰§è¡Œè¿‡ç¨‹ï¼šæ‰§è¡Œ foo å‡½æ•°ï¼Œä¾ç„¶æ˜¯ä» foo å‡½æ•°å†…éƒ¨æŸ¥æ‰¾æ˜¯å¦æœ‰å±€éƒ¨å˜é‡ valueã€‚å¦‚æœæ²¡æœ‰ï¼Œå°±ä»è°ƒç”¨å‡½æ•°çš„ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯ bar å‡½æ•°å†…éƒ¨æŸ¥æ‰¾ value å˜é‡ï¼Œæ‰€ä»¥ç»“æœä¼šæ‰“å° 2ã€‚ JavaScript é‡‡ç”¨çš„æ˜¯é™æ€ä½œç”¨åŸŸï¼Œæ‰€ä»¥è¿™ä¸ªä¾‹å­çš„ç»“æœæ˜¯ 1ã€‚]]></content>
      <tags>
        <tag>JavaScriptåŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptâ€”â€”åŸå‹ä¸åŸå‹é“¾]]></title>
    <url>%2Fblog%2Fposts%2F568%2F</url>
    <content type="text"><![CDATA[æ„é€ å‡½æ•°åœ¨ JavaScript ä¸­æ„é€ å‡½æ•°å’Œ Java ä¸­çš„å‡½æ•°ä¸€æ ·ä¹Ÿå¯ä»¥åˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚ ä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼š 1234function Person() &#123;&#125;var person = new Person();person.name = &apos;myname&apos;; Person æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨ new åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹å¯¹è±¡ personã€‚ prototypeæ¯ä¸€å‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§ï¼Œè¿™ä¸ª prototype å±æ€§æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ­£æ˜¯è°ƒç”¨è¯¥æ„é€ å‡½æ•°è€Œåˆ›å»ºçš„å®ä¾‹çš„åŸå‹ï¼Œä¹Ÿå°±æ˜¯ person çš„åŸå‹ã€‚ ä»€ä¹ˆæ˜¯åŸå‹ï¼šæ¯ä¸€ä¸ª JavaScript å¯¹è±¡(null é™¤å¤–)åœ¨åˆ›å»ºçš„æ—¶å€™å°±ä¼šä¸ä¹‹å…³è”å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„åŸå‹ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹â€ç»§æ‰¿â€å±æ€§ã€‚é‚£ä¹ˆ person çš„åŸå‹è¯¥å¦‚ä½•è¡¨ç¤ºå‘¢ï¼Ÿ protoè¿™æ˜¯æ¯ä¸€ä¸ª JavaScript å¯¹è±¡(é™¤äº† null )éƒ½å…·æœ‰çš„ä¸€ä¸ªå±æ€§ï¼Œå«__proto__ï¼Œè¿™ä¸ªå±æ€§ä¼šæŒ‡å‘è¯¥å¯¹è±¡çš„åŸå‹ã€‚åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­è¾“å…¥å¦‚ä¸‹çš„ä»£ç å¯ä»¥è¯æ˜è¿™ä¸€ç‚¹ï¼š 12345function Person() &#123;&#125;var person = new Person();console.log(person.__proto__ === Person.prototype); // true ç”±æ­¤å¯ä»¥çŸ¥é“ï¼Œæ„é€ å‡½æ•°å’Œå®ä¾‹å¯ä»¥æŒ‡å‘åŸå‹ï¼Œé‚£ä¹ˆåŸå‹æ˜¯å¦æœ‰å±æ€§æŒ‡å‘æ„é€ å‡½æ•°å’Œå®ä¾‹å‘¢ï¼Ÿ constructoræŒ‡å‘å®ä¾‹å€’æ˜¯æ²¡æœ‰ï¼Œå› ä¸ºä¸€ä¸ªæ„é€ å‡½æ•°å¯ä»¥ç”Ÿæˆå¤šä¸ªå®ä¾‹ï¼Œä½†æ˜¯åŸå‹æŒ‡å‘æ„é€ å‡½æ•°å€’æ˜¯æœ‰çš„ï¼Œè¿™å°±è¦è®²åˆ°ç¬¬ä¸‰ä¸ªå±æ€§ï¼šconstructorï¼Œæ¯ä¸ªåŸå‹éƒ½æœ‰ä¸€ä¸ª constructor å±æ€§æŒ‡å‘å…³è”çš„æ„é€ å‡½æ•°ã€‚åœ¨æµè§ˆå™¨ä¸­æ§åˆ¶å°è¾“å…¥å¦‚ä¸‹ä»£ç å¯ä»¥è¯æ˜ 1234function Person() &#123;&#125;console.log(Person === Person.prototype.constructor); // true å®ä¾‹å’ŒåŸå‹å½“è¯»å–å®ä¾‹çš„å±æ€§æ—¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±ä¼šæŸ¥æ‰¾ä¸å¯¹è±¡å…³è”çš„åŸå‹ä¸­çš„å±æ€§ï¼Œå¦‚æœè¿˜æŸ¥ä¸åˆ°ï¼Œå°±å»æ‰¾åŸå‹çš„åŸå‹ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚ä¸ºæ­¢ã€‚å½¢è±¡ä¸€ç‚¹æè¿°ï¼Œå°±æ˜¯å„¿å­çš„å±æ€§é‡Œæ‰¾ä¸åˆ°ï¼Œå°±åˆ°çˆ¸çˆ¸çš„å±æ€§é‡Œæ‰¾ï¼Œçˆ¸çˆ¸çš„å±æ€§é‡Œæ‰¾ä¸åˆ°å°±åˆ°çˆ¸çˆ¸çš„çˆ¸çˆ¸çš„å±æ€§é‡Œå»æ‰¾â€¦â€¦ä»¥æ­¤ç±»æ¨ã€‚çŸ¥é“æ‰¾åˆ°åŸå‹çš„åŸå‹ï¼Œé‚£åŸå‹çš„åŸå‹åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ åŸå‹çš„åŸå‹åœ¨å‰é¢ï¼Œæˆ‘ä»¬å·²ç»è®²äº†åŸå‹ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ—¢ç„¶æ˜¯å¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨æœ€åŸå§‹çš„æ–¹å¼åˆ›å»ºå®ƒï¼Œé‚£å°±æ˜¯ï¼š 123var obj = new Object();obj.name = &apos;myname&apos;console.log(obj.name) // myname å…¶å®åŸå‹å¯¹è±¡å°±æ˜¯é€šè¿‡ Object æ„é€ å‡½æ•°ç”Ÿæˆçš„ã€‚ åŸå‹é“¾é‚£ Object.prototype çš„åŸå‹å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼šnullï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ï¼š 1console.log(Object.prototype.__proto__ === null) // true null è¡¨ç¤ºæ²¡æœ‰å¯¹è±¡ï¼Œå³è¯¥å¤„ä¸åº”è¯¥æœ‰å€¼ã€‚æ‰€ä»¥ Object.prototype.__proto__çš„å€¼ä¸º null è·Ÿ Object.prototype æ²¡æœ‰åŸå‹ï¼Œå…¶å®è¡¨è¾¾äº†ä¸€ä¸ªæ„æ€ã€‚æ‰€ä»¥æŸ¥æ‰¾å±æ€§çš„æ—¶å€™æŸ¥åˆ° Object.prototype å°±å¯ä»¥åœæ­¢æŸ¥æ‰¾äº†ã€‚ç›—ç”¨ä¸€ä¸‹ä¼¢ç¾½å¤§å¤§åšå®¢ä¸Šçš„å›¾ç‰‡ï¼Œå…³ç³»å›¾å¦‚ä¸‹ï¼šå›¾ä¸­ç”±ç›¸äº’å…³è”çš„åŸå‹ç»„æˆçš„é“¾çŠ¶ç»“æ„å°±æ˜¯åŸå‹é“¾ï¼Œä¹Ÿå°±æ˜¯è“è‰²çš„è¿™æ¡çº¿ã€‚]]></content>
      <tags>
        <tag>JavaScriptåŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®ç°åŸºäºJWTçš„Tokenç™»å½•éªŒè¯åŠŸèƒ½]]></title>
    <url>%2Fblog%2Fposts%2F58158%2F</url>
    <content type="text"><![CDATA[å‰è¨€æ”¾å‡ä¹‹å‰åšäº†å‡ ä¸ªå°é¡¹ç›®+è¯¾è®¾ï¼Œéƒ½ç”¨åˆ°äº† token å®ç°ç™»å½•éªŒè¯å’Œæƒé™åˆ¤æ–­ï¼Œç„¶é¹…å½“æ—¶å’ŒåŒç»„çš„å°ä¼™ä¼´ä¹Ÿéƒ½æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦åˆ°äº† tokenï¼Œäºæ˜¯ä¹éƒ½æ˜¯ä¸€è„¸æ‡µé€¼ï¼ˆxjbxï¼‰çš„å†™å®Œäº†ç™»å½•éªŒè¯çš„å‰åç«¯é€»è¾‘ï¼ˆæˆ‘å†™å‰ç«¯ï¼ŒåŒç»„çš„å°ä¼™ä¼´å†™åç«¯ï¼‰ã€‚ä»Šå¤©æœ‰ç©ºä»”ç»†å­¦ä¹ äº†ä¸€ä¸‹ SpringBoot å®ç° token è®¤è¯ä»¥åŠå’Œå‰ç«¯çš„äº¤äº’ï¼Œè¸©äº†ä¸å°‘å‘ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ï¼ˆç°åœ¨å·²ç» 12:30 äº†â€¦å¥½å›°=Â·=ï¼‰ åç«¯å®ç° é¦–å…ˆéœ€è¦å¯¼å…¥ jwt çš„åŒ…ï¼Œç›¸å…³çš„ pom.xml æ–‡ä»¶å¦‚ä¸‹ï¼š 12345&lt;dependency&gt; &lt;groupId&gt;com.auth0&lt;/groupId&gt; &lt;artifactId&gt;java-jwt&lt;/artifactId&gt; &lt;version&gt;3.5.0&lt;/version&gt;&lt;/dependency&gt; ç„¶åå¼€å§‹ç¼–å†™ TokenUtil ç±»ï¼Œé¦–å…ˆå®šä¹‰ token çš„è¿‡æœŸæ—¶é—´å’Œç§é’¥ 12private static final long EXPIRE_TIME = 15 * 60 * 1000;private static final String TOKEN_SECRET = &quot;thefirsttoken123&quot;; å®ç°ç­¾åæ–¹æ³•ï¼šè¿™é‡Œä¸åº”è¯¥ä½¿ç”¨å¯†ç è¿›è¡ŒåŠ å¯†ï¼Œä¸å®‰å…¨ï¼Œä½†æ˜¯æ˜¯è‡ªå·±çš„å° demo å°±è¿™æ ·å†™äº†ã€‚ 12345678910111213141516171819202122232425262728/** * ç”Ÿæˆç­¾åï¼Œ15åˆ†é’Ÿè¿‡æœŸ * @param **username*** @param **password*** @return */public static String sign(String username, String password) &#123; try &#123; // è®¾ç½®è¿‡æœŸæ—¶é—´ Date date = new Date(System.currentTimeMillis() + EXPIRE_TIME); // ç§é’¥å’ŒåŠ å¯†ç®—æ³• Algorithm algorithm = Algorithm.HMAC256(TOKEN_SECRET); // è®¾ç½®å¤´éƒ¨ä¿¡æ¯ Map&lt;String, Object&gt; header = new HashMap&lt;&gt;(2); header.put(&quot;Type&quot;, &quot;Jwt&quot;); header.put(&quot;alg&quot;, &quot;HS256&quot;); // è¿”å›tokenå­—ç¬¦ä¸² return JWT.create() .withHeader(header) .withClaim(&quot;loginName&quot;, username) .withClaim(&quot;pwd&quot;, password) .withExpiresAt(date) .sign(algorithm); &#125; catch (Exception e) &#123; e.printStackTrace(); return null; &#125;&#125; å®ç° token çš„æ£€éªŒæ–¹æ³•ï¼š 123456789101112131415/** * æ£€éªŒtokenæ˜¯å¦æ­£ç¡® * @param **token*** @return */public static boolean verify(String token)&#123; try &#123; Algorithm algorithm = Algorithm.HMAC256(TOKEN_SECRET); JWTVerifier verifier = JWT.require(algorithm).build(); DecodedJWT jwt = verifier.verify(token); return true; &#125; catch (Exception e)&#123; return false; &#125;&#125; è‡³æ­¤ï¼Œå·¥å…·ç±»å°±ç¼–å†™å®Œæˆå•¦ï¼ ç™»å½•çš„ controller å±‚æ–¹æ³•è¿™é‡Œè·å–åˆ°å‰ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚ä½“ï¼Œå–å‡ºå…¶ä¸­çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå’Œæ•°æ®åº“æ¯”å¯¹å¦‚æœæ— è¯¯çš„è¯ï¼Œç­¾å‘ tokenï¼Œå¹¶è¿”å›ç»™å‰ç«¯ã€‚ï¼ˆAPI å“åº”ç»“æœè¿˜æ²¡æœ‰å°è£…ï¼Œçœ‹ç€æœ‰ç‚¹ä¹±ï¼Œå˜¿å˜¿ï¼‰ 123456789101112131415161718@PostMapping(value = &quot;/login&quot;)public Map&lt;String, Object&gt; login(@RequestBody SysUser sysUser)&#123; Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); String username = sysUser.getUsername(); String password = sysUser.getPassword(); if (sysUserService.login(username, password))&#123; String token = TokenUtil.sign(username,password); if (token != null)&#123; map.put(&quot;code&quot;, &quot;10000&quot;); map.put(&quot;message&quot;,&quot;è®¤è¯æˆåŠŸ&quot;); map.put(&quot;token&quot;, token); return map; &#125; &#125; map.put(&quot;code&quot;, &quot;00000&quot;); map.put(&quot;message&quot;,&quot;è®¤è¯å¤±è´¥&quot;); return map;&#125; ç°åœ¨æœåŠ¡ç«¯ç»™å®¢æˆ·ç«¯ç­¾å‘ token çš„åŠŸèƒ½å·²ç»å·®ä¸å¤šå®ç°äº†ã€‚é‚£ä¹ˆå®¢æˆ·ç«¯å¦‚ä½•å°† token åº”ç”¨åˆ°ä»¥åçš„è¯·æ±‚ä¸­ï¼ŒæœåŠ¡ç«¯åˆå¦‚ä½•è¯†åˆ« token å‘¢ï¼Ÿ å®ç°æœåŠ¡ç«¯è‡ªå®šä¹‰æ‹¦æˆªå™¨ 1234567891011121314151617181920212223242526/** * è‡ªå®šä¹‰tokenæ‹¦æˆªå™¨ */@Componentpublic class TokenInterceptor implements HandlerInterceptor &#123; @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; if (request.getMethod().equals(&quot;OPTIONS&quot;))&#123; response.setStatus(HttpServletResponse.SC_OK); return true; &#125; response.setCharacterEncoding(&quot;utf-8&quot;); String token = request.getHeader(&quot;admin-token&quot;); if (token != null)&#123; boolean result = TokenUtil.verify(token); if(result)&#123; System.out.println(&quot;é€šè¿‡æ‹¦æˆªå™¨&quot;); return true; &#125; &#125; System.out.println(&quot;è®¤è¯å¤±è´¥&quot;); response.getWriter().write(&quot;50000&quot;); return false; &#125;&#125; TokenInterceptor å®ç°äº† HandlerInterceptor æ¥å£ï¼Œé‡å†™äº† preHandle æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ˜¯åœ¨æ¯ä¸ªè¯·æ±‚ä¹‹å‰è§¦å‘æ‰§è¡Œï¼Œä» request çš„å¤´é‡Œé¢å–å‡º tokenï¼Œè¿™é‡Œæˆ‘ä»¬ç»Ÿä¸€äº†å­˜æ”¾ token çš„é”®ä¸º admin-tokenï¼ŒéªŒè¯é€šè¿‡ï¼Œæ”¾è¡Œï¼ŒéªŒè¯ä¸é€šè¿‡ï¼Œè¿”å›è®¤è¯å¤±è´¥ä¿¡æ¯ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå‘ï¼Œç”±äºæ¯æ¬¡å‰ç«¯å‘é€è¯·æ±‚ï¼Œéƒ½ä¼šå…ˆå‘ä¸€æ¬¡é¢„è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯ RequestMethod ä¸ºOPTIONSä¸æ˜¯æˆ‘ä»¬å¸¸è§çš„ getã€post ç­‰ï¼ˆå…³äº OPTIONS çš„è§£é‡Šï¼Œå¯ä»¥è°·æ­Œä¸€ä¸‹ï¼‰ã€‚æ‰€æœ‰åœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦åšä¸€æ¬¡åˆ¤æ–­ï¼Œå¦‚æœè¯·æ±‚æ–¹æ³•ä¸º OPTIONSï¼Œé‚£ä¹ˆå°±ç›´æ¥ return é€šè¿‡ã€‚ é…ç½®æ‹¦æˆªå™¨å¯¹ç™»å½•ç•Œé¢çš„è¯·æ±‚ä¸æ‹¦æˆª 12345678910111213141516@Configurationpublic class InterceptorConfig extends WebMvcConfigurerAdapter &#123; private TokenInterceptor tokenInterceptor; public InterceptorConfig(TokenInterceptor tokenInterceptor) &#123; this.tokenInterceptor = tokenInterceptor; &#125; @Override public void addInterceptors(InterceptorRegistry registry) &#123; List&lt;String&gt; excludePath = new ArrayList&lt;&gt;(); String sysUserLogin = &quot;/api/sysUser/login&quot;; excludePath.add(sysUserLogin); registry.addInterceptor(tokenInterceptor).excludePathPatterns(excludePath); &#125;&#125; æœåŠ¡ç«¯è§£æ tokenç°åœ¨ä¸ºäº†ä¹‹åæ ¹æ® token å»åšç›¸å…³çš„æŸ¥è¯¢ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ token è¿›è¡Œè§£å¯†ï¼Œå–å‡ºä¹‹å‰åŠ å¯†çš„ loginNameã€‚ç„¶åå°±å¯ä»¥æ„‰å¿«çš„å¢åˆ æŸ¥æ”¹å•¦ï½ 1234567891011121314/** * ä»tokenä¸­è·å–usernameä¿¡æ¯ * @param **token*** @return */public static String getUserName(String token)&#123; try &#123; DecodedJWT jwt = JWT.decode(token); return jwt.getClaim(&quot;loginName&quot;).asString(); &#125; catch (JWTDecodeException e)&#123; e.printStackTrace(); return null; &#125;&#125; å‰ç«¯å®ç°å‰ç«¯ä½¿ç”¨ vue+axiosï¼Œä¸»è¦æ˜¯å®ç°å¯¹ axios çš„å†å°è£…ã€‚ç›¸å…³ä»£ç å¦‚ä¸‹å¤§è‡´é€»è¾‘å°±æ˜¯ï¼Œå¦‚æœ vuex ä¸­å·²ç»å­˜åœ¨äº† tokenï¼Œé‚£ä¹ˆå°±æŠŠå®ƒæ”¾åˆ°è¯·æ±‚å¤´ä¸­å‘å¾€æœåŠ¡ç«¯ã€‚ 12345678910111213141516171819// åˆ›å»ºaxioså®ä¾‹const service = axios.create(&#123; baseURL: process.env.BASE_API // api çš„ base_url&#125;)// requestæ‹¦æˆªå™¨service.interceptors.request.use( config =&gt; &#123; if (store.getters.token) &#123; config.headers[&apos;admin-token&apos;] = getToken() // è®©æ¯ä¸ªè¯·æ±‚æºå¸¦è‡ªå®šä¹‰token &#125; return config &#125;, error =&gt; &#123; // å‡ºé”™ console.log(error) Promise.reject(error) &#125;) ç»“è¯­å—¯â€¦..ç°åœ¨å·²ç» 1 ç‚¹å¤šäº†ï¼Œä¸ç”±å¾—åˆæƒ³èµ·é‚£å‰¯å¯¹è”ã€‚ æ˜¨æ—¥ä»Šæ—¥æ˜æ—¥æ—¥æ—¥ç ä¸åœè¹„ï¼Œå»å¹´ä»Šå¹´æ˜å¹´å¹´å¹´éƒ½æ˜¯å•èº«ã€‚æ¨ªæ‰¹ï¼šè¿™å°±æ˜¯å‘½ æ™šå®‰ï½]]></content>
      <tags>
        <tag>Java Web</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ“ä½œç³»ç»Ÿâ€”â€”è™šæ‹Ÿå­˜å‚¨å™¨]]></title>
    <url>%2Fblog%2Fposts%2F35189%2F</url>
    <content type="text"><![CDATA[è™šæ‹Ÿå­˜å‚¨å™¨çš„æ€æƒ³æŠŠå†…å­˜ä¸­æš‚æ—¶ä¸èƒ½è¿è¡Œæˆ–è€…æš‚æ—¶ä¸ç”¨çš„ç¨‹åºã€æ•°æ®è°ƒåŠ¨å¤–å­˜ä¸Šã€‚æˆ–è€…è¯´æŠŠç¨‹åºçš„ä¸€éƒ¨åˆ†æ”¾å…¥å†…å­˜ã€ä¸€éƒ¨åˆ†æ”¾åœ¨å¤–å­˜ã€‚ç¨‹åºè¿è¡Œæ—¶ï¼Œå¦‚æœæ‰€éœ€è¦è®¿é—®çš„é¡µï¼ˆæ®µï¼‰å·²è°ƒå…¥å†…å­˜ï¼Œä¾¿å¯ç»§ç»­æ‰§è¡Œä¸‹å»ï¼›ä½†å¦‚æœç¨‹åºæ‰€è¦è®¿é—®çš„é¡µï¼ˆæ®µï¼‰å°šæœªè°ƒå…¥å†…å­˜ï¼ˆå³ç¼ºé¡µæˆ–ç¼ºæ®µï¼‰ï¼Œåˆ™ç¨‹åºåˆ©ç”¨ OS æ‰€æä¾›çš„è¯·æ±‚è°ƒé¡µï¼ˆæ®µï¼‰åŠŸèƒ½ï¼Œå°†å®ƒä»¬è°ƒå…¥å†…å­˜ï¼Œä»¥ä½¿è¿›ç¨‹ç»§ç»­æ‰§è¡Œï¼›å¦‚æœæ­¤æ—¶ï¼Œå†…å­˜å·²æ»¡ï¼Œåˆ™éœ€åˆ©ç”¨é¡µï¼ˆæ®µï¼‰ç½®æ¢åŠŸèƒ½ã€‚ ç½®æ¢åˆ†ç±»ï¼šé¡µé¢å¯¹æ¢ï¼ï¼è¯·æ±‚åˆ†é¡µå­˜å‚¨ç®¡ç†(åŸºæœ¬åˆ†é¡µ+é¡µé¢å¯¹æ¢)åˆ†æ®µå¯¹æ¢ï¼ï¼è¯·æ±‚åˆ†æ®µå­˜å‚¨ç®¡ç†(åŸºæœ¬åˆ†æ®µ+åˆ†æ®µå¯¹æ¢) è¯·æ±‚åˆ†é¡µç³»ç»ŸåŸºæœ¬æ€æƒ³ åœ¨åŸºæœ¬åˆ†é¡µåŸºç¡€ä¸Šï¼Œå¢åŠ è°ƒé¡µåŠŸèƒ½å’Œé¡µé¢ç½®æ¢åŠŸèƒ½ï¼›æ¯æ¬¡è°ƒå…¥å’Œæ¢å‡ºçš„åŸºæœ¬å•ä½éƒ½æ˜¯é•¿åº¦å›ºå®šçš„é¡µé¢ ç¡¬ä»¶æ”¯æŒè¦æƒ³åœ¨åŸºæœ¬åˆ†é¡µçš„åŸºç¡€ä¸Šå®ç°è™šæ‹Ÿå­˜å‚¨ç®¡ç†ï¼Œéœ€è¦ é¡µè¡¨æœºåˆ¶ ç¼ºé¡µä¸­æ–­æœºæ„è¯·æ±‚åˆ†é¡µç³»ç»Ÿä¸­ã€æ¯å½“å‘ç°è¦è®¿é—®çš„é¡µé¢ä¸åœ¨å†…å­˜ã€ä¾¿äº§ç”Ÿä¸­æ–­é€šçŸ¥ os è°ƒå…¥ç¼ºé¡µã€‚è¦ç»è¿‡ ä¿æŠ¤ CPU ç°åœºã€åˆ†æä¸­æ–­åŸå› ã€æ‰§è¡Œç¼ºé¡µä¸­æ–­ç¨‹åºã€æ‰§è¡Œå®Œæ¯•æ¢å¤ç°åœº ç­‰æ­¥éª¤ã€‚ ä¸ä¸€èˆ¬ä¸­æ–­ç›¸æ¯”ï¼Œç¼ºé¡µä¸­æ–­æœ‰ç€æ˜æ˜¾çš„ä¸åŒï¼Œä¸»è¦è¡¨ç°åœ¨ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢ï¼š(1)é€šå¸¸ï¼ŒCPU æ˜¯åœ¨ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œå®Œåï¼Œæ‰æ£€æŸ¥æ˜¯å¦æœ‰ä¸­æ–­è¯·æ±‚åˆ°è¾¾ã€‚è‹¥æœ‰ï¼Œä¾¿å»å“åº”ï¼›å¦åˆ™ï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚ç„¶è€Œï¼Œç¼ºé¡µä¸­æ–­åˆ™æ˜¯åœ¨æŒ‡ä»¤æ‰§è¡ŒæœŸé—´ï¼Œå‘ç°æ‰€è¦è®¿é—®çš„æŒ‡ä»¤æˆ–æ•°æ®ä¸åœ¨å†…å­˜æ—¶æ‰€äº§ç”Ÿå’Œå¤„ç†çš„ã€‚(2)ä¸€æ¡æŒ‡ä»¤åœ¨æ‰§è¡ŒæœŸé—´ï¼Œå¯èƒ½äº§ç”Ÿå¤šæ¬¡ç¼ºé¡µä¸­æ–­ã€‚ é¡µé¢ç½®æ¢ç®—æ³•æœ€ä½³ç½®æ¢ç®—æ³• æ€æƒ³ï¼šè¢«ç½®æ¢çš„é¡µé¢æ˜¯ä»¥åæ°¸è¿œä¸ä½¿ç”¨æˆ–ä»¥åé•¿æ—¶é—´ä¸ä½¿ç”¨çš„ ä¸¾ä¾‹ï¼šç³»ç»Ÿä¸ºæŸä¸ªè¿›ç¨‹ï¼ˆæœ‰ 8 ä¸ªé¡µé¢ï¼‰åªåˆ†é…äº† 3 ä¸ªç‰©ç†å—ã€è¿›ç¨‹æœ‰å¦‚ä¸‹çš„é¡µé¢å·å¼•ç”¨ 7ï¼Œ0ï¼Œ1ï¼Œ2ï¼Œ0ï¼Œ3ï¼Œ0ï¼Œ4ï¼Œ2ï¼Œ3ï¼Œ0ï¼Œ3ï¼Œ2ï¼Œ1ï¼Œ2ï¼Œ0ï¼Œ1ï¼Œ7ï¼Œ0ï¼Œ1 æ±‚è¯¥è¿›ç¨‹åœ¨æœ€ä½³ç½®æ¢ç®—æ³•ä¸‹æ‰§è¡Œå®Œæ¯•ç¼ºé¡µå¤šå°‘æ¬¡? ä¸­æ–­å¤šå°‘æ¬¡ï¼Ÿç¼ºé¡µç‡ä¸ºå¤šå°‘ï¼Ÿé¡µé¢ç½®æ¢å¤šå°‘æ¬¡ï¼Ÿ å…ˆè¿›å…ˆå‡ºç½®æ¢ç®—æ³•(FIFO first in first out) æ€æƒ³ï¼šæ·˜æ±°æœ€å…ˆè¿›å…¥å†…å­˜çš„é¡µé¢ã€å³é€‰æ‹©åœ¨å†…å­˜ä¸­é©»ç•™æ—¶é—´æœ€ä¹…çš„é¡µé¢ç»™äºˆæ·˜æ±°ã€‚ æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨çš„ç½®æ¢ç®—æ³•(LRU lease recently used) æ€æƒ³ï¼šé€‰æ‹©å’Œç°åœ¨ç›¸æ¯”æœ€é•¿æ—¶é—´æ²¡æœ‰ä½¿ç”¨çš„é¡µé¢è¿›è¡Œç½®æ¢ã€‚ ç¡¬ä»¶ï¼šå¯„å­˜å™¨ï¼šè®°å½•æŸè¿›ç¨‹åœ¨å†…å­˜ä¸­å„é¡µçš„ä½¿ç”¨æƒ…å†µæ ˆï¼šç”¨æ¥ä¿å­˜å½“å‰ä½¿ç”¨çš„å„ä¸ªé¡µé¢çš„é¡µé¢å· CLOCK ç½®æ¢ç®—æ³• LRU ç®—æ³•æ˜¯è¾ƒå¥½çš„ä¸€ç§ç®—æ³•ï¼Œä½†ç”±äºå®ƒè¦æ±‚æœ‰è¾ƒå¤šçš„ç¡¬ä»¶æ”¯æŒï¼Œæ•…åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¤§å¤šé‡‡ç”¨ LRU çš„è¿‘ä¼¼ç®—æ³•ã€‚Clock ç®—æ³•å°±æ˜¯ç”¨å¾—è¾ƒå¤šçš„ä¸€ç§ LRU è¿‘ä¼¼ç®—æ³•ã€‚ æ€æƒ³ï¼šä¸ºæ¯é¡µè®¾ç½®ä¸€ä½è®¿é—®ä½ï¼Œå†å°†å†…å­˜ä¸­çš„æ‰€æœ‰é¡µé¢éƒ½é€šè¿‡é“¾æ¥æŒ‡é’ˆé“¾æ¥æˆä¸€ä¸ªå¾ªç¯é˜Ÿåˆ—ã€‚å½“æŸé¡µè¢«è®¿é—®æ—¶ï¼Œå…¶è®¿é—®ä½è¢«ç½®ä¸º 1.ç½®æ¢ç®—æ³•é€‰æ‹©ä¸€ä½æ·˜æ±°æ—¶ï¼Œåªéœ€æ£€æŸ¥é¡µçš„è®¿é—®ä½ã€‚å¦‚æœæ˜¯ 0ï¼Œå°±é€‰æ‹©è¯¥é¡µæ¢å‡ºï¼›è‹¥ä¸º 1ï¼Œåˆ™é‡æ–°å°†å®ƒç½® 0ï¼Œæš‚ä¸æ¢å‡ºï¼Œè€Œç»™è¯¥é¡µç¬¬äºŒæ¬¡é©»ç•™å†…å­˜çš„æœºä¼šï¼Œåœ¨æŒ‰ç…§ FIFO ç®—æ³•æ£€æŸ¥ä¸‹ä¸€ä¸ªé¡µé¢ã€‚]]></content>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ“ä½œç³»ç»Ÿâ€”â€”å­˜å‚¨å™¨ç®¡ç†]]></title>
    <url>%2Fblog%2Fposts%2F22423%2F</url>
    <content type="text"><![CDATA[å­˜å‚¨å™¨çš„å±‚æ¬¡ç»“æ„å¤šçº§å­˜å‚¨å™¨ç»“æ„ ç¨‹åºçš„è£…å…¥å’Œé“¾æ¥åœ¨å¤šé“ç¨‹åºç¯å¢ƒä¸‹ï¼Œç¨‹åºè¦è¿è¡Œå¿…é¡»ä¸ºä¹‹åˆ›å»ºè¿›ç¨‹ï¼Œè€Œåˆ›å»ºè¿›ç¨‹çš„ç¬¬ä¸€ä»¶äº‹ï¼Œå°±æ˜¯è¦å°†ç¨‹åºå’Œæ•°æ®è£…å…¥å†…å­˜ã€‚å¦‚ä½•å°†ä¸€ä¸ªç”¨æˆ·æºç¨‹åºå˜ä¸ºä¸€ä¸ªå¯åœ¨å†…å­˜ä¸­æ‰§è¡Œçš„ç¨‹åºï¼Œé€šå¸¸è¦ç»è¿‡ä»¥ä¸‹å‡ æ­¥ :ï¼ˆ1ï¼‰ç¼–è¯‘ï¼šç”±ç¼–è¯‘ç¨‹åºï¼ˆCompilerï¼‰å°†ç”¨æˆ·æºä»£ç ç¼–è¯‘æˆè‹¥å¹²ä¸ªç›®æ ‡æ¨¡ å—ï¼ˆObject Moduleï¼‰ï¼›ï¼ˆ2ï¼‰é“¾æ¥ï¼šç”±é“¾æ¥ç¨‹åºï¼ˆLinkerï¼‰å°†ç¼–è¯‘åå½¢æˆçš„ç›®æ ‡æ¨¡å—ä»¥åŠå®ƒä»¬æ‰€éœ€è¦çš„åº“å‡½æ•°ï¼Œé“¾æ¥åœ¨ä¸€èµ·ï¼Œå½¢ æˆä¸€ä¸ªè£…å…¥æ¨¡å—ï¼ˆLoad Moduleï¼‰ï¼›ï¼ˆ3ï¼‰è£…å…¥ï¼šç”±è£…å…¥ç¨‹åºï¼ˆLoaderï¼‰å°†è£…å…¥æ¨¡å—è£…å…¥å†…å­˜ã€‚ ç¨‹åºçš„é“¾æ¥ é™æ€é“¾æ¥ï¼šåœ¨è£…å…¥ä¹‹å‰ç›®æ ‡æ¨¡å—+åº“å‡½æ•°é“¾æ¥å¥½,ä»¥åä¸åœ¨æ‹†å¼€ åŠ¨æ€é“¾æ¥è£…å…¥æ—¶åŠ¨æ€é“¾æ¥ï¼šå°†ç”¨æˆ·æºç¨‹åºç¼–è¯‘åæ‰€å¾—åˆ°çš„ä¸€ç»„ç›®æ ‡æ¨¡å—ï¼Œåœ¨è£…å…¥å†…å­˜æ—¶ï¼Œé‡‡ç”¨è¾¹è£…å…¥è¾¹é“¾æ¥çš„æ–¹å¼ã€‚å³åœ¨è£…å…¥ä¸€ä¸ªç›®æ ‡æ¨¡å—æ—¶ï¼Œè‹¥å‘ç”Ÿä¸€ä¸ªå¤–éƒ¨æ¨¡å—è°ƒç”¨äº‹ä»¶ï¼Œå°†å¼•èµ·è£…å…¥ç¨‹åºå»æ‰¾å‡ºç›¸åº”çš„å¤–éƒ¨ç›®æ ‡æ¨¡å—ã€‚ä¾¿äºä¿®æ”¹å’Œæ›´æ–°ä¾¿äºå®ç°å¯¹ç›®æ ‡æ¨¡å—çš„å…±äº«è¿è¡Œæ—¶åŠ¨æ€é“¾æ¥ï¼šè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦åˆ™é“¾æ¥æ‹¥æœ‰è£…å…¥æ—¶åŠ¨æ€é“¾æ¥çš„ä¼˜ç‚¹åŠ å¿«ç¨‹åºçš„è£…å…¥è¿‡ç¨‹ï¼ŒèŠ‚çœå†…å­˜ç©ºé—´ ç¨‹åºçš„è£…å…¥ æ–¹å¼ï¼šç»å¯¹è£…å…¥ ã€å¯é‡å®šä½è£…å…¥ ã€åŠ¨æ€è¿è¡Œæ—¶è£…å…¥ éœ€è¦æ³¨æ„çš„é—®é¢˜ï¼šï¼ˆ1ï¼‰è£…å…¥æ˜¯ä»å¤–å­˜â€”â€”&gt;å†…å­˜ï¼›é“¾æ¥æ˜¯ä»ç›®æ ‡å—â€”â€”&gt;å†…å­˜çš„è¿›ç¨‹ï¼ˆ2ï¼‰ç¨‹åºä½œä¸šä¸­ç›¸å¯¹åœ°å€æˆ–é€»è¾‘åœ°å€â€”â€”&gt;è¿›ç¨‹æ‰§è¡Œéœ€è¦å†…å­˜ç»å¯¹åœ°å€æˆ–ç‰©ç†åœ°å€ã€‚å› è€Œåœ¨è£…å…¥æ—¶ï¼Œå­˜åœ¨ç€åœ°å€è½¬æ¢ï¼Œç§°ä¸ºé‡å®šä½ã€‚ ç»å¯¹è£…å…¥ï¼šåªèƒ½å°†ç›®æ ‡æ¨¡å—è£…å…¥æŒ‡å®šçš„å†…å­˜ä½ç½® å¯é‡å®šä½çš„è£…å…¥ï¼š è£…å…¥æ—¶å°†é€»è¾‘åœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€(é‡å®šä½)ï¼Œé€»è¾‘åœ°å€ä» 0 å¼€å§‹ åŠ¨æ€è¿è¡Œæ—¶è£…å…¥ï¼šæ¨¡å—è£…å…¥å†…å­˜åæ²¡æœ‰ç«‹å³é‡å®šä½ï¼Œä»ç„¶æ˜¯ç›¸å¯¹åœ°å€ï¼›åªæœ‰å½“ cpu æ‰§è¡Œåˆ°å…·æœ‰ç›¸å¯¹åœ°å€çš„ä»£ç æ—¶æ‰å»é‡å®šä½â€”â€”&gt;åŠ¨æ€é‡å®šä½ å†…å­˜çš„åˆ†é…å•ä¸€è¿ç»­åˆ†é…ï¼š æœ€ç®€å•çš„ä¸€ç§å•ç”¨æˆ·ã€å•ä»»åŠ¡çš„åˆ†é…æ–¹å¼ å†…å­˜åˆ†æˆç³»ç»ŸåŒºå’Œç”¨æˆ·åŒºä¸¤éƒ¨åˆ† å›ºå®šåˆ†åŒºåˆ†é…åœ¨å•ä¸€è¿ç»­åˆ†é…çš„åŸºç¡€ä¸Šï¼Œå°†ç”¨æˆ·åŒºåˆ’åˆ†æˆè‹¥å¹²ä¸ªå›ºå®šå¤§å°çš„åŒºï¼Œæ¯ä¸ªåŒºå¯ä»¥æ”¾ä¸€ä¸ªä½œä¸šè¿›ç¨‹ï¼Œå¤šä¸ªè¿›ç¨‹å¹¶å‘ã€‚ç³»ç»Ÿä¸€å¯åŠ¨åå°±å·²ç»åˆ†å¥½äº†åˆ†åŒº åˆ†åŒºå¤§å°åˆ’åˆ†æ–¹æ³•ï¼šï¼ˆ1ï¼‰åˆ†åŒºå¤§å°ç›¸ç­‰ï¼šç¼ºä¹çµæ´»æ€§ï¼›å†…å­˜ç©ºé—´æµªè´¹ï¼ˆ2ï¼‰åˆ†åŒºå¤§å°ä¸ç­‰ï¼š åŠ¨æ€åˆ†åŒº æ ¹æ®ä½œä¸šæˆ–è¿›ç¨‹çš„éœ€è¦ï¼ŒåŠ¨æ€çš„åˆ†é…å†…å­˜ï¼Œä¸€å¼€å§‹ä¸åˆ†åŒº æ•°æ®ç»“æ„ï¼šç©ºé—²åˆ†åŒºè¡¨æˆ–è€…ç©ºé—²åˆ†åŒºé“¾ç©ºé—²åˆ†åŒºè¡¨ï¼šä»¥è¡¨ç»“æ„å½¢å¼è®°å½•æ¯ä¸ªç©ºé—²åˆ†åŒºçš„æƒ…å†µã€‚ç©ºé—²åˆ†åŒºé“¾ï¼šä»¥é“¾è¡¨å½¢å¼è®°å½•æ¯ä¸ªç©ºé—²åˆ†åŒºçš„æƒ…å†µã€‚ é¦–æ¬¡é€‚åº”ç®—æ³•ä»ç©ºé—²åˆ†åŒºè¡¨æˆ–åˆ†åŒºé“¾ï¼ˆæŒ‰ç…§åœ°å€é€’å¢æ¬¡åºæ’åˆ—ï¼‰ä¸Šå¼€å§‹æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„åˆ†åŒºä¸ºæ­¢ï¼Œåˆ†é…å†…å­˜ï¼Œä½™ä¸‹çš„éƒ¨åˆ†ç„¶ä»ç•™åœ¨ç©ºé—²åˆ†åŒºè¡¨ä¸­ã€‚ å¾ªç¯é¦–æ¬¡é€‚åº”ç®—æ³•åœ¨ä¸ºè¿›ç¨‹åˆ†é…å†…å­˜ç©ºé—´æ—¶ï¼Œä¸å†æ˜¯æ¯æ¬¡éƒ½ä»é“¾é¦–å¼€å§‹æŸ¥æ‰¾ï¼Œè€Œæ˜¯ä»ä¸Šæ¬¡æ‰¾åˆ°çš„ç©ºé—²åˆ†åŒºçš„ä¸‹ä¸€ä¸ªåˆ†åŒºå¼€å§‹æŸ¥æ‰¾ï¼Œç›´è‡³æ‰¾åˆ°ä¸€ä¸ªèƒ½æ»¡è¶³è¦æ±‚çš„ç©ºé—²åˆ†åŒºï¼Œä»ä¸­æ‰¾å‡ºä¸€å—ä¸è¯·æ±‚å¤§å°ç›¸ç­‰çš„å†…å­˜ç©ºé—´åˆ†é…ç»™ä½œä¸šã€‚ä¸ºå®ç°è¯¥ç®—æ³•ï¼Œåº”è®¾ç½®ä¸€èµ·å§‹æŸ¥å¯»æŒ‡é’ˆï¼Œç”¨äºæŒ‡ç¤ºä¸‹ä¸€ä¸ªèµ·å§‹æŸ¥å¯»çš„ç©ºé—²åˆ†åŒºï¼Œå¹¶é‡‡ç”¨å¾ªç¯æŸ¥æ‰¾æ–¹æ³•ï¼Œå³å¦‚æœæœ€åä¸€ä¸ªï¼ˆé“¾å°¾ï¼‰ç©ºé—²åˆ†åŒºçš„å¤§å°ä»ä¸èƒ½æ»¡è¶³ï¼Œåˆ™åº”è¿”å›åˆ°ç¬¬ä¸€ä¸ªç©ºé—²åˆ†åŒºï¼Œæ¯”è¾ƒå…¶å¤§å°æ˜¯å¦æ»¡è¶³ã€‚æ‰¾åˆ°åï¼Œåº”è°ƒæ•´èµ·å§‹æŸ¥å¯»æŒ‡é’ˆã€‚ æœ€ä½³é€‚åº”ç®—æ³•å°†åˆ†é…è¡¨æŒ‰ç…§åˆ†åŒºå®¹é‡æŒ‰ç…§ä»å°åˆ°å¤§æ’åˆ—ï¼ŒæŸ¥æ‰¾æ—¶åªéœ€è¦ä»è¡¨é¦–æŒ‰é¡ºåºæŸ¥æ‰¾æœ€åˆé€‚çš„ã€‚æ¯æ¬¡ä¸ºä½œä¸šåˆ† é…å†…å­˜æ—¶ï¼Œæ€»æ˜¯æ‰¾ä¸€ä¸ªæ—¢èƒ½æ»¡è¶³è¦æ±‚ã€åˆæ˜¯æœ€å°çš„ç©ºé—²åˆ†åŒºåˆ†é…ç»™ä½œä¸šã€‚â€œæœ€ä½³æˆ–æœ€åˆé€‚çš„â€ã€‚ æœ€åé€‚åº”ç®—æ³•æ‰€æœ‰çš„ç©ºé—²åˆ†åŒºæŒ‰ä»å¤§åˆ°å°å½¢æˆç©ºé—²åˆ†åŒºé“¾ï¼Œæ¯æ¬¡åˆ†é…æ€»æ˜¯æŒ‘é€‰å‡ºåˆ†é…ï¼ˆé“¾ï¼‰ä¸­æœ€å¤§çš„åˆ†åŒºè¿›è¡Œåˆ†é…ã€‚ä¼˜ç‚¹ï¼šä½¿å‰©ä¸‹çš„ç©ºé—²åŒºä¸è‡³äºå¤ªå°ï¼Œäº§ç”Ÿçš„ç¢ç‰‡å‡ ç‡å°ï¼›æœ‰åˆ©äºä¸­å°ä½œä¸šï¼› å¿«é€Ÿé€‚åº”ç®—æ³•å°†ç©ºé—²åˆ†åŒºæ ¹æ®å…¶å®¹é‡å¤§å°è¿›è¡Œåˆ†ç±»ï¼Œå¯¹æ¯ä¸€ç±»å…·æœ‰ç›¸åŒå®¹é‡çš„æ‰€æœ‰ç©ºé—²åˆ†åŒºï¼Œå•ç‹¬è®¾ç«‹ä¸€ä¸ªç©ºé—²åˆ†åŒºé“¾è¡¨ï¼Œå› æ­¤ï¼Œç³»ç»Ÿä¸­å­˜åœ¨å¤šä¸ªç©ºé—²åˆ†åŒºé“¾è¡¨ï¼ŒåŒæ—¶åœ¨å†…å­˜ä¸­è®¾ç«‹ä¸€å¼ ç®¡ç†ç´¢å¼•è¡¨ï¼Œè¯¥è¡¨çš„æ¯ä¸€è¡¨é¡¹å¯¹åº”äº†ä¸€ç§ç©ºé—²åˆ†åŒºç±»å‹ï¼Œå¹¶è®°å½•äº†è¯¥ç±»å‹ç©ºé—²åˆ†åŒºé“¾è¡¨è¡¨å¤´çš„æŒ‡é’ˆã€‚ å¯é‡å®šä½åˆ†åŒºåˆ†é… ä¸»å­˜ä¸å­˜çš„å­˜å‚¨ç®¡ç†æŠ€æœ¯ ç§»åŠ¨æŠ€æœ¯ï¼ˆä¸»å­˜ç´§å‡‘ï¼‰ å¯¹æ¢æŠ€æœ¯ åŸºæœ¬åˆ†é¡µå­˜å‚¨ç®¡ç†åˆ†é¡µçš„æ€æƒ³ æŠŠé€»è¾‘åœ°å€ç©ºé—´ï¼ˆç¨‹åºï¼‰åˆ†æˆè‹¥å¹²ä¸ªå¤§å°ç›¸ç­‰çš„ç‰‡ï¼ï¼é¡µé¢æˆ–é¡µã€åŠ ä»¥ç¼–å· 0 é¡µã€1 é¡µã€2 é¡µâ€¦â€¦. æŠŠå†…å­˜ä¹Ÿåˆ†æˆå’Œé¡µé¢å¤§å°ç›¸ç­‰çš„è‹¥å¹²ä¸ªç‰©ç†å­˜å‚¨å—ï¼ï¼ç‰©ç†å—åŠ ä»¥ç¼–å· 0 å—ã€1 å—ã€2 å—â€¦â€¦ ä¸ºè¿›ç¨‹åˆ†é…å†…å­˜æ—¶ï¼Œå°†è¿›ç¨‹çš„~è‹¥å¹²~ä¸ªé¡µè£…å…¥å¤šä¸ª~ä¸ç›¸é‚»~çš„å—ä¸­ ç”±äºè¿›ç¨‹çš„æœ€åä¸€é¡µç»å¸¸è£…ä¸æ»¡ä¸€é¡µï¼Œå› è€Œå½¢æˆä¸å¯ä»¥åˆ©ç”¨çš„ç¢ç‰‡ï¼Œç§°ä¸ºâ€œé¡µå†…ç¢ç‰‡â€ é¡µé¢çš„å¤§å° é¡µé¢è‹¥å¤ªå°:ï¼ˆ1ï¼‰è™½ç„¶å¯ä½¿å†…å­˜ç¢ç‰‡å‡å°ï¼Œæé«˜å†…å­˜åˆ©ç”¨ç‡ï¼ˆ2ï¼‰ä¼šä½¿æ¯ä¸ªè¿›ç¨‹å ç”¨è¾ƒå¤šçš„é¡µé¢ï¼Œä»è€Œå¯¼è‡´è¿›ç¨‹çš„é¡µè¡¨è¿‡é•¿ï¼Œå ç”¨å¤§é‡çš„å†…å­˜ï¼ˆ3ï¼‰è¿˜ä¼šé™ä½é¡µé¢æ¢è¿›å’Œæ¢å‡ºçš„æ•ˆç‡ã€‚ è‹¥é¡µé¢å¤ªå¤§:ï¼ˆ1ï¼‰å‡å°‘é¡µè¡¨çš„é•¿åº¦ï¼Œæé«˜é¡µé¢æ¢è¿›æ¢å‡ºçš„é€Ÿåº¦ï¼ˆ2ï¼‰å¢åŠ é¡µå†…ç¢ç‰‡ å› æ­¤é¡µé¢çš„å¤§å°åº”é€‰æ‹©åˆé€‚ï¼Œå¤§å°åº”æ˜¯ 2 çš„å¹‚ï¼Œé€šå¸¸ä¸º 512B-8KBã€‚ åŸºæœ¬åˆ†é¡µå­˜å‚¨ç®¡ç†çš„ç¼ºç‚¹ï¼šé¡µè¡¨æ˜¯æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œå› æ­¤ Cpu å­˜å–ä¸€ä¸ªæ•°æ®ï¼Œéœ€è¦è®¿é—®å†…å­˜ 2 æ¬¡ã€‚ç¬¬ä¸€æ¬¡ï¼Œè®¿é—®å†…å­˜ä¸­çš„é¡µè¡¨ï¼Œæ‰¾å‡ºé€»è¾‘åœ°å€å¯¹åº”çš„ç‰©ç†åœ°å€ï¼›ç¬¬äºŒæ¬¡è®¿é—®å†…å­˜ç‰©ç†åœ°å€å¤„çš„æ•°æ®.å› æ­¤ï¼Œé™ä½äº†ä¸Šè®¡ç®—æœºçš„å¤„ç†é€Ÿåº¦ã€‚ ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œå¼•å…¥å¿«è¡¨å¿«è¡¨æ˜¯ä¸ªå…·æœ‰å¹¶è¡ŒæŸ¥è¯¢èƒ½åŠ›çš„ç‰¹æ®Šé«˜é€Ÿç¼“å†²å¯„å­˜å™¨ï¼ˆè”æƒ³å¯„å­˜å™¨ï¼‰å¿«è¡¨å†…åªå­˜æ”¾å½“å‰è®¿é—®çš„é¡µè¡¨é¡¹å¾ˆå¿«ã€è¿œè¿œå¤§äºå†…å­˜çš„é€Ÿåº¦ã€æé«˜äº†åœ°å€å˜æ¢çš„é€Ÿåº¦ åŸºæœ¬åˆ†æ®µå­˜å‚¨ç®¡ç†åˆ†æ®µçš„ç›®çš„ æ¨åŠ¨å­˜å‚¨ç®¡ç†ä» å›ºå®šåˆ†åŒºï¼&gt;å¯å˜åˆ†åŒº-&gt;åˆ†é¡µå­˜å‚¨ç®¡ç†çš„ä¸»è¦åŠ¨åŠ›æ˜¯ ï¼šæé«˜å†…å­˜çš„åˆ©ç”¨ç‡ å¼•å…¥åˆ†æ®µç®¡ç†çš„ç›®çš„ï¼šæ»¡è¶³ç¨‹åºå‘˜ç¼–å†™ç¨‹åºçš„è¦æ±‚ï¼šæ–¹ä¾¿ç¼–ç¨‹ã€ä¿¡æ¯å…±äº«ã€ä¿¡æ¯ä¿æŠ¤ã€åŠ¨æ€å¢é•¿ã€åŠ¨æ€é“¾æ¥ åˆ†é¡µä¸åˆ†æ®µçš„ä¸»è¦åŒºåˆ« æ®µæ˜¯ä¿¡æ¯çš„é€»è¾‘å•ä½ï¼Œå®ƒæ˜¯æ ¹æ®ç”¨æˆ·çš„éœ€è¦åˆ’åˆ†çš„ï¼Œå› æ­¤æ®µå¯¹ç”¨æˆ·æ˜¯å¯è§çš„ï¼›é¡µæ˜¯ä¿¡æ¯çš„ç‰©ç†å•ä½ï¼Œæ˜¯ä¸ºäº†ç®¡ç†ä¸»å­˜çš„æ–¹ä¾¿è€Œåˆ’åˆ†çš„ï¼Œå¯¹ç”¨æˆ·æ˜¯é€æ˜çš„ã€‚ é¡µçš„å¤§å°å›ºå®šä¸å˜ï¼Œç”±ç³»ç»Ÿå†³å®šã€‚æ®µçš„å¤§å°æ˜¯ä¸å›ºå®šçš„ï¼Œå®ƒç”±å…¶å®Œæˆçš„åŠŸèƒ½å†³å®šã€‚ æ®µæ˜¯å‘ç”¨æˆ·æä¾›çš„æ˜¯äºŒç»´åœ°å€ç©ºé—´ï¼Œé¡µå¼å‘ç”¨æˆ·æä¾›çš„æ˜¯ä¸€ç»´åœ°å€ç©ºé—´ï¼Œå…¶é¡µå·å’Œé¡µå†…åç§»æ˜¯æœºå™¨ç¡¬ä»¶çš„åŠŸèƒ½ã€‚ ç”±äºæ®µæ˜¯ä¿¡æ¯çš„é€»è¾‘å•ä½ï¼Œå› æ­¤ä¾¿äºå­˜è´®ä¿æŠ¤å’Œä¿¡æ¯çš„å…±äº«ï¼Œé¡µçš„ä¿æŠ¤å’Œå…±äº«å—åˆ°é™åˆ¶ã€‚ æ®µé¡µå¼å­˜å‚¨ç®¡ç†å¼•å…¥æ®µé¡µå¼å­˜å‚¨ç®¡ç†çš„åŸå› é¡µå¼ç®¡ç†å¯ä»¥æé«˜å†…å­˜åˆ©ç”¨ç‡ã€æ®µå¼ç®¡ç†å¯ä»¥æ»¡è¶³ç”¨æˆ·éœ€è¦ï¼ŒäºŒè€…ç»“åˆå¯ä»¥å……åˆ†åˆ©ç”¨é¡µå¼å’Œæ®µå¼çš„ä¼˜ç‚¹ åŸºæœ¬æ€æƒ³å…ˆå°†ç”¨æˆ·ç¨‹åºåˆ†æˆè‹¥å¹²ä¸ªæ®µã€å†æŠŠæ¯ä¸ªæ®µä¸­åˆ†æˆè‹¥å¹²ä¸ªé¡µé¢ï¼ŒåŒæ—¶å†…å­˜ä¹Ÿåˆ†æˆä¸é¡µé¢ç›¸åŒå¤§å°çš„å—]]></content>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ“ä½œç³»ç»Ÿâ€”â€”å¤„ç†æœºè°ƒåº¦ä¸æ­»é”]]></title>
    <url>%2Fblog%2Fposts%2F46731%2F</url>
    <content type="text"><![CDATA[å¤„ç†æœºè°ƒåº¦çš„å±‚æ¬¡ ä½çº§è°ƒåº¦ï¼ˆå†…å­˜â€”â€”&gt;å¤„ç†å™¨ï¼‰ åˆç§°ä¸ºè¿›ç¨‹æˆ–çŸ­ç¨‹è°ƒåº¦ï¼Œè°ƒåº¦å¯¹è±¡æ˜¯è¿›ç¨‹ï¼ˆå†…æ ¸çº§çº¿ç¨‹ï¼‰ï¼Œè¿›ç¨‹è°ƒåº¦æ˜¯æœ€åŸºæœ¬çš„ä¸€ç§è°ƒåº¦ã€‚ä¸»è¦åŠŸèƒ½ï¼šï¼ˆ1ï¼‰ä¿å­˜å¤„ç†æœºçš„ç°åœºä¿¡æ¯ï¼ˆ2ï¼‰æŒ‰æŸç§ç®—æ³•é€‰å–è¿›ç¨‹ï¼ˆ3ï¼‰æŠŠå¤„ç†å™¨åˆ†é…ç»™è¿›ç¨‹ è¿›ç¨‹è°ƒåº¦æ–¹å¼ï¼ˆ1ï¼‰éæŠ¢å å¼ç³»ç»Ÿå¼€é”€å°ï¼Œé€‚ç”¨äºå¤§å¤šæ•°çš„æ‰¹å¤„ç† OS ç¯å¢ƒéš¾ä»¥æ»¡è¶³ç´§æ€¥ä»»åŠ¡çš„è¦æ±‚-ç«‹å³æ‰§è¡Œï¼ˆ2ï¼‰æŠ¢å å¼é˜²æ­¢ä¸€ä¸ªé•¿è¿›ç¨‹é•¿æ—¶é—´å ç”¨å¤„ç†æœºï¼Œä¸ºå¤§å¤šæ•°è¿›ç¨‹æä¾›æ›´å…¬å¹³çš„æœåŠ¡ï¼ˆä¼˜ç‚¹ï¼‰ç³»ç»Ÿå¼€é”€å¤§ï¼ˆç¼ºç‚¹ï¼‰ ä¸­çº§è°ƒåº¦ï¼ˆå†…å­˜â€”â€”&gt;å¤–å­˜ï¼‰ä¸»è¦ç›®çš„ï¼šä¸ºäº†æé«˜å†…å­˜åˆ©ç”¨ç‡å’Œç³»ç»Ÿååé‡@ é«˜çº§è°ƒåº¦ï¼ˆå¤–å­˜ å†…å­˜ ï¼‰@ ä½çº§è°ƒåº¦ï¼ˆå†…å­˜ å¤„ç†å™¨ï¼‰@ ä¸­çº§è°ƒåº¦ï¼ˆå†…å­˜ å¤–å­˜ ï¼‰ é«˜çº§è°ƒåº¦ï¼ˆå¤–å­˜â€”â€”&gt;å†…å­˜ï¼‰ è°ƒåº¦ç®—æ³•ä½œä¸šå‘¨è½¬ä¸å¹³å‡å‘¨è½¬æ—¶é—´ å¦‚æœä½œä¸š i æäº¤ç»™ç³»ç»Ÿçš„æ—¶åˆ»æ˜¯ tsï¼Œå®Œæˆæ—¶åˆ»æ˜¯ tfï¼Œè¯¥ä½œä¸šçš„å‘¨è½¬æ—¶é—´ ti ä¸ºï¼šti = tf - ts å¹³å‡ä½œä¸šå‘¨è½¬æ—¶é—´ T = (Î£ti) / n å…ˆæ¥å…ˆæœåŠ¡è°ƒåº¦ç®—æ³• æœ‰åˆ©äºCPUç¹å¿™å‹çš„ä½œä¸šï¼Œä¸åˆ©äºI/Oç¹å¿™æ€§çš„ä½œä¸š ä¸åˆ©äºçŸ­ä½œä¸šï¼Œè€Œä¼˜äºé•¿ä½œä¸š æœ€çŸ­ä½œä¸šè°ƒåº¦ç®—æ³•è¯¥ç®—æ³•å¯¹é•¿ä½œä¸šä¸åˆ©è¯¥ç®—æ³•å®Œå…¨æœªè€ƒè™‘ä½œä¸šçš„ç´§è¿«ç¨‹åº¦ é«˜å“åº”æ¯”è°ƒåº¦ç®—æ³•å“åº”æ¯” =ä½œä¸šå‘¨è½¬æ—¶é—´/ä½œä¸šå¤„ç†æ—¶é—´=(ä½œä¸šç­‰å¾…æ—¶é—´+ä½œä¸šå¤„ç†æ—¶é—´)/ä½œä¸šå¤„ç†æ—¶é—´=1+ä½œä¸šç­‰å¾…æ—¶é—´/ä½œä¸šå¤„ç†æ—¶é—´ é«˜ä¼˜å…ˆæƒè°ƒåº¦ç®—æ³• ä¼˜å…ˆæƒè°ƒåº¦ç®—æ³•(FPF)çš„ç±»å‹éæŠ¢å å¼ä¼˜å…ˆæƒç®—æ³•æŠ¢å å¼ä¼˜å…ˆæƒç®—æ³• ä¼˜å…ˆæƒçš„ç±»å‹é™æ€ä¼˜å…ˆæƒåŠ¨æ€ä¼˜å…ˆæƒ æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³• å¤šçº§åé¦ˆè°ƒåº¦ç®—æ³• äº§ç”Ÿæ­»é”çš„åŸå› å’Œå¿…è¦æ¡ä»¶ äº§ç”Ÿæ­»é”çš„åŸå› å¯å½’ç»“ä¸ºä»¥ä¸‹ä¸¤ç‚¹ï¼š1ã€ç«äº‰èµ„æºå¼•èµ·è¿›ç¨‹æ­»é”ï¼šå½“ç³»ç»Ÿä¸­ä¾›å¤šä¸ªè¿›ç¨‹æ‰€å…±äº«çš„èµ„æºï¼Œä¸è¶³ä»¥åŒæ—¶æ»¡è¶³ä»–ä»¬çš„éœ€è¦æ—¶ï¼Œå¼•èµ·ä»–ä»¬å¯¹èµ„æºçš„ç«äº‰è€Œå¼•èµ·æ­»é”ã€‚2ã€è¿›ç¨‹æ¨è¿›é¡ºåºä¸å½“å¼•èµ·æ­»é”ï¼šè¿›ç¨‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œè¯·æ±‚å’Œé‡Šæ”¾èµ„æºçš„é¡ºåºä¸å½“ï¼Œå¯¼è‡´äº†è¿›ç¨‹æ­»é”ã€‚ æ“ä½œç³»ç»Ÿä¸­çš„æ­»é”æŒ‡ï¼šå¦‚æœåœ¨ä¸€ä¸ªè¿›ç¨‹é›†åˆä¸­çš„æ¯ä¸ªè¿›ç¨‹éƒ½åœ¨ç­‰å¾…åªèƒ½ç”±è¯¥é›†åˆä¸­çš„å…¶ä»–ä¸€ä¸ªè¿›ç¨‹æ‰èƒ½å¼•å‘çš„äº‹ä»¶ï¼Œåˆ™ç§°ä¸€ç»„è¿›ç¨‹æˆ–ç³»ç»Ÿæ­¤æ—¶å‘ç”Ÿæ­»é”ã€‚ ç³»ç»Ÿå½¢æˆæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶äº’æ–¥æ¡ä»¶ï¼šè¿›ç¨‹äº’æ–¥ä½¿ç”¨èµ„æºéƒ¨åˆ†åˆ†é…æ¡ä»¶ï¼šç”³è¯·æ–°èµ„æºæ—¶ä¸é‡Šæ”¾å·²å æœ‰èµ„æºä¸å‰¥å¤ºæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹ä¸èƒ½æŠ¢å¤ºå…¶ä»–è¿›ç¨‹å æœ‰çš„èµ„æºç¯è·¯æ¡ä»¶ï¼šå­˜åœ¨ä¸€ç»„è¿›ç¨‹å¾ªç¯ç­‰å¾…èµ„æºçš„,å³è¿›ç¨‹é›†åˆ{P0,P1,P2,â€¦Pn}ä¸­çš„ P0 æ­£åœ¨ç­‰å¾… P1 å ç”¨çš„èµ„æºï¼Œ P1 æ­£åœ¨ç­‰å¾… P2 å ç”¨çš„èµ„æºï¼Œâ€¦â€¦ Pn æ­£åœ¨ç­‰å¾… P0 å ç”¨çš„èµ„æº äº§ç”Ÿæ­»é”å¿…é¡»åŒæ—¶æ»¡è¶³ä¸Šè¿°å››ä¸ªæ¡ä»¶ï¼Œä¸€ä¸ªä¸æ»¡è¶³æ­»é”ä¾¿ä¸ä¼šå‘ç”Ÿ å¤„ç†æ­»é”çš„åŸºæœ¬æ–¹æ³• é¢„é˜²æ­»é” é¿å…æ­»é” æ£€æµ‹æ­»é”é€šè¿‡ç³»ç»Ÿè®¾ç½®çš„æ£€æµ‹æœºæ„ï¼ŒåŠæ—¶æ£€æµ‹å‡ºæ­»é”çš„å‘ç”Ÿï¼Œç²¾ ç¡®åœ°ç¡®å®šäºæ­»é”æœ‰å…³çš„è¿›ç¨‹å’Œèµ„æºï¼›ç„¶åé‡‡å–é€‚å½“æªæ–½ï¼Œä»ç³»ç»Ÿä¸­å°†å·²å‘ç”Ÿçš„æ­»é”æ¸…é™¤æ‰ã€‚ è§£é™¤æ­»é”ä¸æ£€æµ‹æ­»é”é…å¥—çš„æªæ–½ã€‚å½“æ£€æµ‹åˆ°ç³»ç»Ÿä¸­å·²å‘ç”Ÿæ­»é”æ—¶ï¼Œ é¡»å°†è¿›ç¨‹ä»æ­»é”çŠ¶æ€ä¸­è§£è„±å‡ºæ¥ã€‚å¸¸ç”¨çš„å®æ–½æ–¹æ³•æ˜¯æ’¤é”€æˆ–æŒ‚èµ·ä¸€äº›è¿›ç¨‹ï¼Œä»¥ä¾¿å›æ”¶ä¸€äº›èµ„æºï¼Œå†å°†è¿™äº›èµ„æºåˆ†é…ç»™å·²å¤„äºé˜»å¡çŠ¶æ€çš„è¿›ç¨‹ï¼Œä½¿ä¹‹è½¬ä¸ºå°±ç»ªçŠ¶æ€ï¼Œä»¥ç»§ç»­è¿è¡Œã€‚ é“¶è¡Œå®¶ç®—æ³• ç³»ç»Ÿä¸­çš„æ‰€æœ‰è¿›ç¨‹è¿›å…¥è¿›ç¨‹é›†åˆ, åœ¨å®‰å…¨çŠ¶æ€ä¸‹ç³»ç»Ÿæ”¶åˆ°è¿›ç¨‹çš„èµ„æºè¯·æ±‚å,å…ˆæŠŠèµ„æºè¯•æ¢æ€§åˆ†é…ç»™å®ƒã€‚ ç³»ç»Ÿç”¨å‰©ä¸‹çš„å¯ç”¨èµ„æºå’Œè¿›ç¨‹é›†åˆä¸­å…¶ä»–è¿›ç¨‹è¿˜è¦çš„èµ„æºæ•°ä½œæ¯”è¾ƒï¼Œåœ¨è¿›ç¨‹é›†åˆä¸­æ‰¾åˆ°å‰©ä½™èµ„æºèƒ½æ»¡è¶³æœ€å¤§éœ€æ±‚é‡çš„è¿›ç¨‹,ä»è€Œ,ä¿è¯è¿™ä¸ªè¿›ç¨‹è¿è¡Œå®Œæ¯•å¹¶å½’è¿˜å…¨éƒ¨èµ„æºã€‚ æŠŠè¿™ä¸ªè¿›ç¨‹ä»é›†åˆä¸­å»æ‰, ç³»ç»Ÿçš„å‰©ä½™èµ„æºæ›´å¤šäº†,åå¤æ‰§è¡Œä¸Šè¿°æ­¥éª¤ã€‚ æœ€å,æ£€æŸ¥è¿›ç¨‹é›†åˆ,è‹¥ä¸ºç©ºè¡¨æ˜æœ¬æ¬¡ç”³è¯·å¯è¡Œ,ç³»ç»Ÿå¤„äºå®‰å…¨çŠ¶æ€,å¯å®æ–½æœ¬æ¬¡åˆ†é…;å¦åˆ™,æœ‰è¿›ç¨‹æ‰§è¡Œä¸å®Œï¼Œç³»ç»Ÿå¤„äºä¸å®‰å…¨çŠ¶æ€,æœ¬æ¬¡èµ„æºåˆ†é…æš‚ä¸å®æ–½,è®©ç”³è¯·è¿›ç¨‹ç­‰å¾…ã€‚]]></content>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ“ä½œç³»ç»Ÿâ€”â€”è¿›ç¨‹ç®¡ç†]]></title>
    <url>%2Fblog%2Fposts%2F17764%2F</url>
    <content type="text"><![CDATA[è¿›ç¨‹çš„åŸºæœ¬æ¦‚å¿µç¨‹åºçš„é¡ºåºæ‰§è¡ŒåŠå…¶ç‰¹å¾ ç¨‹åºï¼šä¸€ä¸ªåœ¨æ—¶é—´ä¸ŠæŒ‰ä¸¥æ ¼æ¬¡åºã€é¡ºåºæ‰§è¡Œçš„æ“ä½œåºåˆ— ç¨‹åºçš„é¡ºåºæ‰§è¡Œï¼šä¸€ä¸ªå…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºç‹¬å å¤„ç†å‰‚ï¼Œç›´åˆ°å¾—åˆ°æœ€ç»ˆç»“æœç‰¹å¾ï¼šé¡ºåºæ€§ï¼šä¸€ä¸ªç¨‹åºçš„å„ä¸ªéƒ¨åˆ†çš„æ‰§è¡Œï¼Œä¸¥æ ¼åœ°æŒ‰ç…§æŸç§å…ˆåæ¬¡åºæ‰§è¡Œï¼›å°é—­æ€§ï¼šç¨‹åºåœ¨å°é—­çš„ç¯å¢ƒä¸‹è¿è¡Œï¼Œå³ç¨‹åºè¿è¡Œæ—¶ç‹¬å å…¨éƒ¨ç³»ç»Ÿèµ„æºï¼›å¯å†ç°æ€§ï¼šåªè¦ç¨‹åºæ‰§è¡Œæ—¶çš„ç¯å¢ƒå’Œåˆå§‹æ¡ä»¶ç›¸åŒï¼Œå½“ç¨‹åºé‡å¤æ‰§è¡Œæ—¶ï¼Œä¸è®ºå®ƒæ˜¯ä»å¤´åˆ°å°¾ä¸åœé¡¿åœ°æ‰§è¡Œï¼Œè¿˜æ˜¯â€œåœåœèµ°èµ°â€åœ°æ‰§è¡Œï¼Œéƒ½å°†è·å¾—ç›¸åŒçš„ç»“æœã€‚ å‰è¶‹å›¾ï¼ˆDAGï¼‰å‰è¶‹å›¾æ˜¯æœ‰å‘æ— å¾ªç¯å›¾ ç¨‹åºçš„å¹¶å‘æ‰§è¡ŒåŠå…¶ç‰¹å¾ ä¸å¯å†ç°æ€§ï¼šç”±äºç¨‹åºçš„å¹¶å‘æ‰§è¡Œï¼Œæ‰“ç ´äº†ç”±å¦ä¸€ç¨‹åºç‹¬å ç³»ç»Ÿ èµ„æºçš„å°é—­æ€§ï¼Œå› è€Œç ´åäº†å¯å†ç°æ€§ã€‚ é—´æ–­æ€§ï¼šç¨‹åºå¹¶å‘æ‰§è¡Œæ—¶ï¼Œç”±äºå®ƒä»¬å…±äº«èµ„æºæˆ–ç¨‹åºä¹‹é—´ç›¸äº’åˆä½œå®Œæˆä¸€é¡¹å…±åŒä»»åŠ¡ï¼Œå› è€Œä½¿ç¨‹åºä¹‹é—´ç›¸äº’åˆ¶çº¦ã€‚ é€šä¿¡æ€§ï¼šå¯¹äºç›¸äº’åˆä½œçš„ç¨‹åºï¼Œä¸ºäº†æ›´æœ‰æ•ˆåœ°åè°ƒè¿è¡Œï¼Œç›¸äº’ä¹‹é—´è¿› è¡Œé€šä¿¡ã€‚ ç‹¬ç«‹æ€§ï¼šå¹¶å‘ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ—¢ç„¶æ˜¯ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„è¿è¡Œå®ä½“ï¼Œå®ƒä¹Ÿå¿…ç„¶å…·æœ‰ä½œä¸ºä¸€ä¸ªå•ä½å»è·å¾—èµ„æºçš„ç‹¬ç«‹æ€§ã€‚ ç¨‹åºå’Œè¿›ç¨‹çš„åŒºåˆ«ï¼šè¿›ç¨‹å°±æ˜¯ä¸€ä¸ªæ´»è·ƒç€çš„ç¨‹åºï¼ˆåŠ¨æ€çš„ï¼‰,å³:å·²ç»è¢«æ”¾å…¥äº†ç³»ç»Ÿè°ƒåº¦é˜Ÿåˆ—å½“ä¸­äº†,å æœ‰ä¸€å®šçš„ç³»ç»Ÿèµ„æºçš„ç¨‹åº. è¿›ç¨‹çš„ç‰¹å¾ä¸çŠ¶æ€ ç»“æ„æ€§ï¼šç¨‹åºå—ã€æ•°æ®å—ã€è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰è¿›ç¨‹å®ä½“=ç¨‹åºæ®µ+ç›¸å…³çš„æ•°æ®æ®µ+PCBè¿›ç¨‹åˆ›å»ºå’Œæ’¤é”€éƒ½æ˜¯åˆ›å»ºå’Œæ’¤é”€çš„ PCB åŠ¨æ€æ€§ï¼šè¿›ç¨‹æ˜¯ç¨‹åºåœ¨æ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæœ‰ç”Ÿå‘½å‘¨æœŸï¼šç”±åˆ›å»ºè€Œäº§ç”Ÿã€ç”±è°ƒåº¦è€Œæ‰§è¡Œã€ç”±äº‹ä»¶è€Œç­‰å¾…ã€ç”±æ’¤é”€è€Œæ¶ˆäº¡ã€‚ å¹¶å‘æ€§ï¼šå¤šä¸ªè¿›ç¨‹å®ä½“åŒå­˜äºå†…å­˜ä¸­ï¼Œèƒ½åœ¨ä¸€æ®µæ—¶é—´å†…åŒæ—¶è¿è¡Œã€‚æ˜¯è¿›ç¨‹çš„é‡ è¦ç‰¹å¾ã€‚ ç‹¬ç«‹æ€§ï¼šè¿›ç¨‹æ˜¯ç³»ç»Ÿä¸­èµ„æºåˆ†é…ã€ä¿æŠ¤å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ å¼‚æ­¥æ€§ï¼šè¿›ç¨‹æŒ‰å„è‡ªç‹¬ç«‹çš„ï¼Œä¸å¯é¢„çŸ¥çš„é€Ÿåº¦å‘å‰æ¨è¿› è¿›ç¨‹çš„çŠ¶æ€è½¬æ¢ä¸‰æ€è½¬æ¢å›¾æŒ‚èµ·ï¼šè¿›ç¨‹è¢«äº¤æ¢åˆ°å¤–å­˜ï¼ŒçŠ¶æ€å˜ä¸ºæŒ‚èµ·çŠ¶æ€è¿›ç¨‹è¿›å…¥æŒ‚èµ·çŠ¶æ€æ˜¯ç”±äºæ“ä½œç³»ç»Ÿã€çˆ¶è¿›ç¨‹æˆ–è¿›ç¨‹æœ¬èº«é˜»æ­¢å®ƒçš„è¿è¡Œã€‚ç»“æŸè¿›ç¨‹æŒ‚èµ·çŠ¶æ€çš„å‘½ä»¤åªèƒ½é€šè¿‡æ“ä½œç³»ç»Ÿæˆ–çˆ¶è¿›ç¨‹å‘å‡ºã€‚ è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰ ç³»ç»Ÿä¸ºäº†ç®¡ç†è¿›ç¨‹è®¾ç½®çš„ä¸€ä¸ªä¸“é—¨çš„æ•°æ®ç»“æ„ï¼Œå­˜æ”¾äº†ç”¨äºæè¿°è¯¥è¿›ç¨‹æƒ…å†µå’Œæ§åˆ¶è¿›ç¨‹è¿è¡Œæ‰€éœ€çš„å…¨éƒ¨ä¿¡æ¯ã€‚ ç³»ç»Ÿåˆ©ç”¨ PCB æ¥æ§åˆ¶å’Œç®¡ç†è¿›ç¨‹ï¼Œæ‰€ä»¥ PCB æ˜¯ç³»ç»Ÿæ„ŸçŸ¥è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿— è¿›ç¨‹ä¸ PCB æ˜¯ä¸€ä¸€å¯¹åº”çš„ ä½œç”¨ï¼šä½¿ä¸€ä¸ªåœ¨å¤šé“ç¨‹åºç¯å¢ƒä¸‹ä¸èƒ½ç‹¬ç«‹è¿è¡Œçš„ç¨‹åºï¼ˆå«æ•°æ®ï¼‰ï¼Œæˆä¸ºä¸€ä¸ªç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ã€‚ è¿›ç¨‹åŒæ­¥åŸºæœ¬æ¦‚å¿µ è¿›ç¨‹äº’æ–¥ï¼šæŒ‡åœ¨å¤šé“ç¨‹åºç¯å¢ƒä¸‹ï¼Œæ¯æ¬¡åªå…è®¸ä¸€ä¸ªè¿›ç¨‹å¯¹ä¸´ç•Œèµ„æºè¿›è¡Œè®¿é—®ã€‚ è¿›ç¨‹åŒæ­¥ï¼šæŒ‡å¤šä¸ªç›¸å…³è¿›ç¨‹åœ¨æ‰§è¡Œæ¬¡åºä¸Šçš„åè°ƒ ä¸´ç•Œèµ„æº:ä¸€æ¬¡ä»…ä¾›ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨çš„èµ„æºã€‚ åœ¨è¿›ç¨‹ä¸­æ¶‰åŠåˆ°ä¸´ç•Œèµ„æºçš„ç¨‹åºæ®µå«ä¸´ç•ŒåŒº å¤šä¸ªè¿›ç¨‹çš„ä¸´ç•ŒåŒºç§°ä¸ºç›¸å…³ä¸´ç•ŒåŒº è¿›ç¨‹çš„åŒæ­¥æœºåˆ¶ â”€â”€ ä¿¡å·é‡åŠ P.V æ“ä½œï¼ˆè§£å†³è¿›ç¨‹åŒæ­¥,äº’æ–¥é—®é¢˜ï¼‰ è¿›ç¨‹é—´çš„ä¸¤ç§åˆ¶çº¦å…³ç³» ç›´æ¥ä½œç”¨(ç›¸äº’åˆä½œï¼‰ï¼šè¿›ç¨‹é—´çš„ç›¸äº’è”ç³»æ˜¯æœ‰æ„è¯†çš„å®‰æ’çš„ï¼Œç›´æ¥ä½œç”¨åªå‘ç”Ÿåœ¨ç›¸äº¤è¿›ç¨‹é—´è¿›ç¨‹çš„åŒæ­¥ é—´æ¥ä½œç”¨ï¼ˆèµ„æºå…±äº«ï¼‰ï¼šè¿›ç¨‹é—´è¦é€šè¿‡æŸç§ä¸­ä»‹å‘ç”Ÿè”ç³»ï¼Œæ˜¯æ— æ„è¯†å®‰æ’çš„ï¼Œå¯å‘ç”Ÿåœ¨ç›¸äº¤è¿›ç¨‹ä¹‹é—´ï¼Œä¹Ÿå¯å‘ç”Ÿåœ¨æ— å…³è¿›ç¨‹ä¹‹é—´è¿›ç¨‹çš„äº’æ–¥ç”±äºå„è¿›ç¨‹è¦æ±‚å…±äº«èµ„æºï¼Œè€Œæœ‰äº›èµ„æºéœ€è¦äº’æ–¥ä½¿ç”¨ï¼Œå› æ­¤å„è¿›ç¨‹é—´ç«äº‰ä½¿ç”¨è¿™äº›èµ„æºï¼Œè¿›ç¨‹çš„è¿™ç§å…³ç³»ä¸ºè¿›ç¨‹çš„äº’æ–¥ã€‚ åŒæ­¥æ˜¯ä¸€ç§æ›´ä¸ºå¤æ‚çš„äº’æ–¥ï¼Œè€Œäº’æ–¥æ˜¯ä¸€ç§ç‰¹æ®Šçš„åŒæ­¥ ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ Pã€V ä¿¡å·é‡ P å’Œ V æ˜¯æ¥æºäºä¸¤ä¸ªè·å…°è¯­è¯æ±‡ï¼ŒP() â€”prolaag ï¼ˆè·å…°è¯­ï¼Œå°è¯•å‡å°‘çš„æ„æ€ï¼‰ï¼ŒV() â€”verhoogï¼ˆè·å…°è¯­ï¼Œå¢åŠ çš„æ„æ€ï¼‰ ä¿¡å·é‡ï¼ˆSemaphoreï¼‰æ˜¯ä¸€ä¸ªæ•´å‹å˜é‡ï¼Œå¯ä»¥å¯¹å…¶æ‰§è¡Œ down å’Œ up æ“ä½œï¼Œä¹Ÿå°±æ˜¯å¸¸è§çš„ P å’Œ V æ“ä½œã€‚down : å¦‚æœä¿¡å·é‡å¤§äº 0 ï¼Œæ‰§è¡Œ -1 æ“ä½œï¼›å¦‚æœä¿¡å·é‡ç­‰äº 0ï¼Œè¿›ç¨‹ç¡çœ ï¼Œç­‰å¾…ä¿¡å·é‡å¤§äº 0ï¼›ï¼ˆé˜»å¡ï¼‰up ï¼šå¯¹ä¿¡å·é‡æ‰§è¡Œ +1 æ“ä½œï¼Œå”¤é†’ç¡çœ çš„è¿›ç¨‹è®©å…¶å®Œæˆ down æ“ä½œã€‚ï¼ˆå”¤é†’ï¼‰ å¦‚æœä¿¡å·é‡çš„å–å€¼åªèƒ½ä¸º 0 æˆ–è€… 1ï¼Œé‚£ä¹ˆå°±æˆä¸ºäº† äº’æ–¥é‡ï¼ˆMutexï¼‰ ï¼Œ0 è¡¨ç¤ºä¸´ç•ŒåŒºå·²ç»åŠ é”ï¼Œ1 è¡¨ç¤ºä¸´ç•ŒåŒºè§£é”ã€‚ 12345678910111213141516171819202122232425262728#define N 100typedef int semaphore;semaphore mutex = 1;semaphore empty = N;semaphore full = 0;void producer() &#123; while(TRUE)&#123; int item = produce_item(); // ç”Ÿäº§ä¸€ä¸ªäº§å“ // down(&amp;empty) å’Œ down(&amp;mutex) ä¸èƒ½äº¤æ¢ä½ç½®ï¼Œå¦åˆ™é€ æˆæ­»é” down(&amp;empty); // è®°å½•ç©ºç¼“å†²åŒºçš„æ•°é‡ï¼Œè¿™é‡Œå‡å°‘ä¸€ä¸ªäº§å“ç©ºé—´ down(&amp;mutex); // äº’æ–¥é” insert_item(item); up(&amp;mutex); // äº’æ–¥é” up(&amp;full); // è®°å½•æ»¡ç¼“å†²åŒºçš„æ•°é‡ï¼Œè¿™é‡Œå¢åŠ ä¸€ä¸ªäº§å“ &#125;&#125;void consumer() &#123; while(TRUE)&#123; down(&amp;full); // è®°å½•æ»¡ç¼“å†²åŒºçš„æ•°é‡ï¼Œå‡å°‘ä¸€ä¸ªäº§å“ down(&amp;mutex); // äº’æ–¥é” int item = remove_item(); up(&amp;mutex); // äº’æ–¥é” up(&amp;empty); // è®°å½•ç©ºç¼“å†²åŒºçš„æ•°é‡ï¼Œè¿™é‡Œå¢åŠ ä¸€ä¸ªäº§å“ç©ºé—´ consume_item(item); &#125;&#125; æ³¨æ„ï¼Œä¸èƒ½å…ˆå¯¹ç¼“å†²åŒºè¿›è¡ŒåŠ é”ï¼Œå†æµ‹è¯•ä¿¡å·é‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸èƒ½å…ˆæ‰§è¡Œ down(mutex) å†æ‰§è¡Œ down(empty)ã€‚å¦‚æœè¿™ä¹ˆåšäº†ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼šç”Ÿäº§è€…å¯¹ç¼“å†²åŒºåŠ é”åï¼Œæ‰§è¡Œ down(empty) æ“ä½œï¼Œå‘ç° empty = 0ï¼Œæ­¤æ—¶ç”Ÿäº§è€…ç¡çœ ã€‚æ¶ˆè´¹è€…ä¸èƒ½è¿›å…¥ä¸´ç•ŒåŒºï¼Œå› ä¸ºç”Ÿäº§è€…å¯¹ç¼“å†²åŒºåŠ é”äº†ï¼Œä¹Ÿå°±æ— æ³•æ‰§è¡Œ up(empty) æ“ä½œï¼Œempty æ°¸è¿œéƒ½ä¸º 0ï¼Œé‚£ä¹ˆç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å°±ä¼šä¸€ç›´ç­‰å¾…ä¸‹å»ï¼Œé€ æˆæ­»é”ã€‚ å“²å­¦å®¶è¿›é¤é—®é¢˜å¦‚æœæ‰€æœ‰å“²å­¦å®¶åŒæ—¶æ‹¿èµ·å·¦æ‰‹è¾¹çš„ç­·å­ï¼Œé‚£ä¹ˆå°±æ— æ³•æ‹¿èµ·å³æ‰‹è¾¹çš„ç­·å­ï¼Œé€ æˆæ­»é”ã€‚æœ‰å¤šç§åŠæ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜1ã€åªæœ‰å“²å­¦å®¶ä¸¤åªæ‰‹çš„ç­·å­éƒ½å¯ä»¥ç”¨æ—¶ï¼Œæ‰å…è®¸ä»–åƒé¥­2ã€å¥‡æ•°å·å…ˆå–å·¦æ‰‹è¾¹çš„å‰å­ï¼Œå¶æ•°å·å…ˆå–å³æ‰‹è¾¹çš„ç­·å­ï¼› ç®¡ç¨‹æœºåˆ¶ P.V æ“ä½œçš„ä¼˜ç¼ºç‚¹ï¼šç®€å•ï¼Œè€Œä¸”è¡¨è¾¾èƒ½åŠ›å¼ºï¼ˆç”¨ P.V æ“ä½œå¯è§£å†³ä»»ä½•åŒæ­¥å’Œäº’æ–¥é—®é¢˜ï¼‰ï¼Œä½† P, V æ“ä½œä»£ç å‡ç”±ç”¨æˆ·ç¼–å†™ï¼Œè®¡ç®—æœºç³»ç»Ÿæ— æ³•æœ‰æ•ˆåœ°æ§åˆ¶å’Œç®¡ç†è¿™äº› Pï¼ŒV æ“ä½œã€‚åˆ†æ•£åœ¨å„è¿›ç¨‹ä¸­çš„ä¸´ç•Œæ®µæ²¡æœ‰é›†ä¸­åŠ ä»¥ç®¡ç†ä¸å¤Ÿå®‰å…¨ï¼›P.V æ“ä½œä½¿ç”¨ä¸å½“ä¼šå‡ºç°æ­»é”ï¼›ä¸”è¿™ç§é”™è¯¯åªæœ‰åœ¨ç‰¹å®šé¡ºåºä¸‹æ‰å‡ºç°ï¼›é‡åˆ°å¤æ‚åŒæ­¥å’Œäº’æ–¥é—®é¢˜æ—¶å®ç°å¤æ‚ã€‚æ€»ä¹‹ï¼Œä¿¡å·é‡(P,V)ä¸æ˜¯æœ€å®‰å…¨çš„è¿›ç¨‹é€šè®¯æ‰‹æ®µç®¡ç¨‹çš„åŸºæœ¬åŸç†æŠŠåˆ†æ•£åœ¨å„è¿›ç¨‹ä¸­çš„ä¸´ç•ŒåŒºé›†ä¸­èµ·æ¥ç®¡ç†ï¼Œå¹¶æŠŠå…±äº«èµ„æºç”¨æ•°æ®ç»“æ„æŠ½è±¡åœ°è¡¨ç¤ºå‡ºæ¥,ä»£è¡¨å…±äº«èµ„æºçš„æ•°æ®ç»“æ„åŠå¹¶å‘è¿›ç¨‹åœ¨å…¶ä¸Šæ‰§è¡Œçš„ä¸€ç»„è¿‡ç¨‹å°±æ„æˆç®¡ç¨‹ã€‚ ç®¡ç¨‹çš„å±æ€§æ¨¡å—åŒ–ï¼šç®¡ç¨‹æ˜¯ä¸€ä¸ªåŸºæœ¬ç¨‹åºå•ä½æŠ½è±¡æ•°æ®ç±»å‹ï¼šç®¡ç¨‹ä¸­ä¸ä»…æœ‰æ•°æ®ï¼Œè€Œä¸”æœ‰å¯¹æ•°æ®çš„æ“ä½œä¿¡æ¯æ©è”½:ç®¡ç¨‹çš„æ•°æ®ç»“æ„åªèƒ½ä¾›è¿‡ç¨‹è°ƒç”¨ï¼Œè¿‡ç¨‹å†…çš„è¿‡ç¨‹è¢«ç®¡ç¨‹å¤–çš„è¿›ç¨‹è°ƒç”¨ï¼Œæ•°æ®ç»“æ„å’Œè¿‡ç¨‹å¯¹å¤–ä¸å¯è§ é€šå¸¸ç³»ç»Ÿä¸ºæ¯ä¸ªå…±äº«èµ„æºè®¾ç½®ä¸€ä¸ªç®¡ç¨‹ è¿›ç¨‹é€šä¿¡é€šä¿¡æœºåˆ¶æ¯ ä¸ªè¿›ç¨‹å„è‡ªæœ‰ä¸åŒçš„ç”¨æˆ·åœ°å€ç©ºé—´ï¼Œä»»ä½•ä¸€ä¸ªè¿›ç¨‹çš„å…¨å±€å˜é‡åœ¨å¦ä¸€ä¸ªè¿›ç¨‹ä¸­éƒ½çœ‹ä¸åˆ°ï¼Œæ‰€ä»¥è¿›ç¨‹ä¹‹é—´è¦äº¤æ¢æ•°æ®å¿…é¡»é€šè¿‡å†…æ ¸ï¼Œåœ¨å†…æ ¸ä¸­å¼€è¾Ÿä¸€å—ç¼“å†²åŒºï¼Œè¿›ç¨‹ 1 æŠŠæ•°æ®ä»ç”¨æˆ·ç©ºé—´æ‹·åˆ°å†…æ ¸ç¼“å†²åŒºï¼Œè¿›ç¨‹ 2 å†ä»å†…æ ¸ç¼“å†²åŒºæŠŠæ•°æ®è¯»èµ°ï¼Œå†…æ ¸æä¾›çš„è¿™ç§æœºåˆ¶ç§°ä¸ºè¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼ŒInterProcess ommunicationï¼‰ é«˜çº§é€šä¿¡æœºåˆ¶åˆ†ç±» å…±äº«å­˜å‚¨å™¨ç³»ç»Ÿ ç®¡é“é€šä¿¡ç®¡é“(pipeline)æ˜¯è¿æ¥è¯»å†™è¿›ç¨‹çš„ä¸€ä¸ªç‰¹æ®Šæ–‡ä»¶ï¼Œå…è®¸è¿›ç¨‹æŒ‰å…ˆè¿›å…ˆå‡ºæ–¹å¼ä¼ é€æ•°æ®,ä¹Ÿèƒ½ä½¿è¿›ç¨‹åŒæ­¥æ‰§è¡Œæ“ä½œã€‚å‘é€è¿›ç¨‹ä»¥å­—ç¬¦æµå½¢å¼æŠŠå¤§é‡æ•°æ®é€å…¥ç®¡é“ï¼Œæ¥æ”¶è¿›ç¨‹ä»ç®¡é“ä¸­æ¥æ”¶æ•°æ®ï¼Œæ‰€ä»¥å«ç®¡é“é€šä¿¡ã€‚ç®¡é“çš„å®è´¨æ˜¯ä¸€ä¸ªå…±äº«æ–‡ä»¶ï¼ŒåŸºæœ¬ä¸Šå¯å€ŸåŠ©äºæ–‡ä»¶ç³»ç»Ÿçš„æœºåˆ¶å®ç°ï¼ŒåŒ…æ‹¬ï¼ˆç®¡é“ï¼‰æ–‡ä»¶çš„åˆ›å»ºã€æ‰“å¼€ã€å…³é—­å’Œè¯»å†™ã€‚ æ¶ˆæ¯ä¼ é€’é€šä¿¡ç³»ç»Ÿ çº¿ç¨‹åŠå…¶å®ç°è¿›ç¨‹çš„â€œç‹¬ç«‹åˆ†é…èµ„æºâ€å’Œâ€œè¢«è°ƒåº¦åˆ†æ´¾æ‰§è¡Œâ€çš„åŠŸèƒ½åˆ†ç¦» ç‹¬ç«‹åˆ†é…èµ„æºï¼šç”±è¿›ç¨‹å®Œæˆï¼Œä½œä¸ºç³»ç»Ÿèµ„æºåˆ†é…å’Œä¿æŠ¤çš„ç‹¬ç«‹å•ä½ï¼Œæ— é¡»é¢‘ç¹çš„åˆ‡æ¢ è¢«è°ƒåº¦åˆ†æ´¾æ‰§è¡Œï¼šäº¤ç»™çº¿ç¨‹çš„å®ä½“æ¥å®Œæˆï¼Œçº¿ç¨‹ä½œä¸ºç³»ç»Ÿç³»ç»Ÿè°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½ï¼Œä¼šè¢«é¢‘ç¹åœ°è°ƒåº¦å’Œåˆ‡æ¢ã€‚]]></content>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ“ä½œç³»ç»Ÿâ€”â€”å¼•è®º]]></title>
    <url>%2Fblog%2Fposts%2F8239%2F</url>
    <content type="text"><![CDATA[æ“ä½œç³»ç»Ÿçš„ç›®æ ‡å’Œä½œç”¨æ“ä½œç³»ç»Ÿçš„ç›®æ ‡ æ–¹ä¾¿æ€§ï¼šç¼–å†™ä»£ç æ–¹ä¾¿ç”¨æˆ·ï¼Œæ–¹ä¾¿è®¡ç®—æœºç³»ç»Ÿçš„ä½¿ç”¨ æœ‰æ•ˆæ€§ï¼šåˆç†çš„ç»„ç»‡è®¡ç®—æœºçš„å·¥ä½œæµç¨‹ï¼Œæ”¹å–„èµ„æºçš„åˆ©ç”¨ç‡ã€æé«˜ç³»ç»Ÿååé‡ å¯æ‰©å……æ€§ï¼šæ“ä½œç³»ç»Ÿé‡‡ç”¨å±‚æ¬¡åŒ–ç»“æ„ï¼Œä»¥ä¾¿å¢åŠ æ–°çš„åŠŸèƒ½å±‚æ¬¡å’Œæ¨¡å—ï¼ˆLinux å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„ä¾‹å­ï¼‰ å¼€æ”¾æ€§ï¼šéµå¾ª OSI å›½é™…æ ‡å‡†ï¼Œå½¼æ­¤å…¼å®¹ï¼Œæ–¹ä¾¿äº’è” æ“ä½œç³»ç»Ÿçš„ä½œç”¨ ç”¨æˆ·è§’åº¦ï¼šä½œä¸ºç”¨æˆ·ä¸è®¡ç®—æœºç¡¬ä»¶ç³»ç»Ÿä¹‹é—´çš„æ¥å£ èµ„æºç®¡ç†è§’åº¦ï¼šä½œä¸ºè®¡ç®—æœºç³»ç»Ÿä¸ªèµ„æºçš„ç®¡ç†è€… å®ç°äº†å¯¹è®¡ç®—æœºèµ„æºçš„æŠ½è±¡ OS æ˜¯ä¸€ç»„æ§åˆ¶å’Œç®¡ç†è®¡ç®—æœºç¡¬è½¯ä»¶èµ„æºåˆç†å¯¹å„é¡¹ä½œä¸šè°ƒåº¦ä»¥åŠæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨çš„ç³»ç»Ÿè½¯ä»¶çš„é›†åˆã€‚ æ“ä½œä½“ç³»æä¾›ä¸‰ç§ç±»å‹è°ƒç”¨æ¥å£ï¼š ~å‘½ä»¤æ–¹å¼~ã€ ~ç³»ç»Ÿè°ƒç”¨æ–¹å¼~ã€ ~å›¾å½¢çª—å£æ–¹å¼~ æ“ä½œç³»ç»Ÿçš„å‘å±•è¿‡ç¨‹æ— æ“ä½œç³»ç»Ÿçš„è®¡ç®—æœºç³»ç»Ÿ äººå·¥æ“ä½œæ–¹å¼è¿™ç§äººå·¥æ“ä½œæ–¹å¼æœ‰ä»¥ä¸‹ä¸‰æ–¹é¢çš„ç¼ºç‚¹ï¼š(1) ç”¨æˆ·ç‹¬å å…¨æœºã€‚(2) CPU ç­‰å¾…äººå·¥æ“ä½œã€‚(3) æ•°æ®çš„è¾“å…¥ï¼Œç¨‹åºçš„æ‰§è¡Œã€ç»“æœçš„è¾“å‡ºå‡è”æœºè¿›è¡Œ è„±æœºè¾“å…¥/è¾“å‡º(Off-Line I/O)æ–¹å¼ä¼˜ç‚¹å¦‚ä¸‹ï¼š(1) å‡å°‘äº† CPU çš„ç©ºé—²æ—¶é—´ã€‚ ï¼ˆ2ï¼‰ æé«˜ I/O é€Ÿåº¦ã€‚ å•é“æ‰¹å¤„ç†æ“ä½œç³»ç»Ÿ å•é“æ‰¹å¤„ç†ç³»ç»Ÿçš„ç‰¹å¾(1) è‡ªåŠ¨æ€§ï¼šåœ¨é¡ºåˆ©çš„æƒ…å†µä¸‹ï¼Œåœ¨ç£å¸¦ä¸Šçš„ä¸€æ‰¹ä½œä¸šèƒ½è‡ªåŠ¨åœ°é€ä¸ªåœ°ä¾æ¬¡è¿è¡Œï¼Œè€Œæ— éœ€äººå·¥å¹²é¢„ã€‚(2) é¡ºåºæ€§ï¼šç£å¸¦ä¸Šçš„å„é“ä½œä¸šæ˜¯é¡ºåºåœ°è¿›å…¥å†…å­˜çš„ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œå„é“ä½œä¸šçš„å®Œæˆé¡ºåºä¸å®ƒä»¬è¿›å…¥å†…å­˜çš„é¡ºåºåº”ç›¸åŒã€‚(3) å•é“æ€§ï¼šå†…å­˜ä¸­ä»…æœ‰ä¸€é“ä½œä¸šè¿è¡Œã€‚æœ€æ—©å‡ºç°çš„ä¸€ç§ os å¤šé“æ‰¹å¤„ç†æ“ä½œç³»ç»Ÿ è¯¥ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·æ‰€æäº¤çš„ä½œä¸šéƒ½å…ˆå­˜æ”¾åœ¨å¤–å­˜ä¸Šï¼Œå¹¶æ’æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œç§°ä¸ºåå¤‡é˜Ÿåˆ—ï¼›ç„¶åï¼Œç”±ä½œä¸šè°ƒåº¦ç¨‹åºæŒ‰ä¸€å®šçš„ç®—æ³•ä»åå¤‡é˜Ÿåˆ—ä¸­é€‰æ‹©è‹¥å¹²ä¸ªä½œä¸šè°ƒå…¥å†…å­˜ï¼Œä½¿å®ƒä»¬å…±äº« CPU å’Œç³»ç»Ÿä¸­çš„å„ç§èµ„æºã€‚ä»å®è§‚ä¸Šè®²ï¼šæ˜¯å¹¶è¡Œçš„ä»å¾®è§‚ä¸Šè®²ï¼šæ˜¯ä¸²è¡Œçš„ å¤šé“ç¨‹åºè®¾è®¡çš„ä¼˜ç‚¹ï¼š(1) æé«˜ CPU çš„åˆ©ç”¨ç‡ã€‚(2) å¯æé«˜å†…å­˜å’Œ I/O è®¾å¤‡åˆ©ç”¨ç‡ã€‚(3) å¢åŠ ç³»ç»Ÿååé‡ã€‚ å¤šé“ç¨‹åºè®¾è®¡çš„ç¼ºç‚¹ï¼š(1) å¹³å‡å‘¨è½¬æ—¶é—´é•¿(2) æ— äº¤äº’èƒ½åŠ› åˆ†æ—¶æ“ä½œç³»ç»Ÿåˆ†æ—¶ç³»ç»Ÿæ˜¯æŒ‡ï¼Œåœ¨ä¸€å°ä¸»æœºä¸Šè¿æ¥äº†å¤šä¸ªå¸¦æœ‰æ˜¾ç¤ºå™¨å’Œé”®ç›˜çš„ç»ˆç«¯ï¼ŒåŒæ—¶å…è®¸å¤šä¸ªç”¨æˆ·é€šè¿‡è‡ªå·±çš„ç»ˆç«¯ï¼Œä»¥äº¤äº’æ–¹å¼ä½¿ç”¨è®¡ç®—æœºï¼Œå…±äº«ä¸»æœºä¸­çš„èµ„æºã€‚ åˆ†æ—¶ç³»ç»Ÿçš„ç‰¹å¾(1) å¤šè·¯æ€§ï¼ˆåŒæ—¶æ€§ï¼‰å®è§‚ä¸Šï¼Œå¤šä¸ªç”¨æˆ·åŒæ—¶å·¥ä½œï¼Œå…±äº«ä¸»æœºã€‚å¾®è§‚ä¸Šï¼Œå†…å­˜ä¸­å¤šä¸ªç”¨æˆ·ä½œä¸šè½®æµä½¿ç”¨æ—¶é—´ç‰‡ã€‚(2) ç‹¬ç«‹æ€§æ¯ä¸ªç”¨æˆ·ä¸€ä¸ªç»ˆç«¯ï¼Œäº’ä¸å¹²æ‰°ï¼Œç›¸äº’ç‹¬ç«‹ã€‚(3) åŠæ—¶æ€§å“åº”æ—¶é—´ï¼Œåº”è¯¥æ˜¯äººæ‰€èƒ½æ¥å—çš„ç­‰å¾…æ—¶é—´ï¼Œä¸€èˆ¬ä¸º 2~3 ç§’(4) äº¤äº’æ€§ç»ˆç«¯ç”¨æˆ·å¯ä»¥å¯¹ä¸»æœºå†…å­˜ä¸­è‡ªå·±çš„ç¨‹åºè¿›è¡Œæ§åˆ¶ã€ä¿®æ”¹åˆ†æ—¶ä¸æ‰¹å¤„ç†æ“ä½œç³»ç»Ÿçš„åŒºåˆ« ç›®æ ‡ä¸åŒæ‰¹å¤„ç†ç³»ç»Ÿï¼šä»¥æé«˜ç³»ç»Ÿèµ„æºåˆ©ç”¨ç‡å’Œä½œä¸šååèƒ½åŠ›ä¸ºç›®æ ‡åˆ†æ—¶ç³»ç»Ÿï¼šå¼ºè°ƒåŠæ—¶æ€§ï¼Œå¯¹äºè”æœºç”¨æˆ·çš„ç«‹å³å‹å‘½ä»¤è¦å¿«é€Ÿå“åº” é€‚åº”ä½œä¸šçš„æ€§è´¨ä¸åŒæ‰¹å¤„ç†ç³»ç»Ÿï¼šé€‚åº”å·²è°ƒè¯•å¥½çš„å¤§å‹ä½œä¸šåˆ†æ—¶ç³»ç»Ÿï¼šé€‚åº”æ­£åœ¨è°ƒè¯•çš„å°å‹ä½œä¸š èµ„æºä½¿ç”¨ç‡ä¸åŒæ‰¹å¤„ç†ç³»ç»Ÿï¼šå¯ä»¥åˆç†å®‰æ’ä¸åŒè´Ÿè½½çš„ä½œä¸šï¼Œä½¿èµ„æºåˆ©ç”¨ç‡è¾¾åˆ°æœ€ä½³åˆ†æ—¶ç³»ç»Ÿï¼šèƒ½å¤Ÿå…¬å¹³åœ°è°ƒé… CPU å’Œä¸»å­˜èµ„æº ä½œä¸šæ§åˆ¶æ–¹å¼ä¸åŒæ‰¹å¤„ç†ç³»ç»Ÿï¼šç”±ç”¨æˆ·é€šè¿‡ JCL ä¹¦å†™ä½œä¸šæ§åˆ¶æµï¼Œé¢„å…ˆæäº¤ï¼Œè„±æœºå·¥ä½œåˆ†æ—¶ç³»ç»Ÿï¼šäº¤äº’å‹ä½œä¸šç”±ç”¨æˆ·ä»é”®ç›˜è¾“å…¥æ§åˆ¶å‘½ä»¤ï¼Œä»¥äº¤äº’æ–¹å¼è”æœºå·¥ä½œ å®æ—¶æ“ä½œç³»ç»Ÿæä¾›åŠæ—¶çš„å“åº”å’Œé«˜å¯é æ€§æ˜¯å…¶ä¸»è¦ç‰¹ç‚¹ã€‚ï¼ˆä¾‹å¦‚é“¶è¡Œä¸šåŠ¡ï¼‰ æ“ä½œç³»ç»Ÿçš„åŸºæœ¬ç‰¹å¾ä¸‰ç§åŸºæœ¬æ“ä½œç³»ç»Ÿï¼šæ‰¹å¤„ç†ç³»ç»Ÿï¼šæ‰¹å¤„ç†å…·æœ‰æˆæ‰¹å¤„ç†çš„ç‰¹å¾åˆ†æ—¶ç³»ç»Ÿï¼šåˆ†æ—¶å…·æœ‰äº¤äº’ç‰¹å¾å®æ—¶ç³»ç»Ÿï¼šå®æ—¶ç³»ç»Ÿå…·æœ‰å®æ—¶ç‰¹å¾å®ƒä»¬åŒæ—¶å…·æœ‰å¹¶å‘ã€å…±äº«ã€è™šæ‹Ÿã€å¼‚æ­¥è¿™å››ä¸ªåŸºæœ¬ç‰¹å¾ï¼Œå…¶ä¸­å¹¶å‘ç‰¹å¾æ˜¯æ“ä½œç³»ç»Ÿæœ€é‡è¦çš„ç‰¹å¾ï¼Œå…¶ä»–ä¸‰ä¸ªä»¥å¹¶å‘ä¸ºå‰æ å¹¶å‘å’Œå…±äº«å…³ç³»ï¼šä»–ä»¬æ˜¯ OS ä¸¤ä¸ªæœ€åŸºæœ¬çš„ç‰¹å¾ï¼Œåˆæ˜¯äº’ä¸ºå­˜åœ¨æ¡ä»¶ å…±äº«ä»¥å¹¶å‘ä¸ºå‰ææ¡ä»¶ï¼Œæ²¡æœ‰å¹¶å‘ï¼Œä¸å­˜åœ¨å…±äº«ï¼Œå°±æ˜¯â€œç‹¬äº«â€ å¦‚æœå…±äº«èµ„æºçš„è®¿é—®ä¸èƒ½åè°ƒå¥½ï¼Œä¼šå½±å“è¿›ç¨‹çš„å¹¶å‘æ‰§è¡Œï¼Œç”šè‡³æ— æ³•å®ç°å¹¶å‘ï¼Œå‡ºç°è¿›ç¨‹æ­»é”çš„æƒ…å†µ ä¸ºä»€ä¹ˆè¦å¼•å…¥è¿›ç¨‹ æ“ä½œç³»ç»Ÿå¼•å…¥è¿›ç¨‹çš„æ¦‚å¿µï¼ˆ1ï¼‰ä»ç†è®ºè§’åº¦çœ‹ï¼šå¯¹æ­£åœ¨è¿è¡Œçš„ç¨‹åºè¿‡ç¨‹çš„æŠ½è±¡ï¼ˆ2ï¼‰ä»å®ç°è§’åº¦çœ‹ï¼šæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç›®çš„åœ¨äºæ¸…æ™°çš„åˆ»ç”»åŠ¨æ€ç³»ç»Ÿçš„å†…åœ¨è§„å¾‹ï¼Œæœ‰æ•ˆç®¡ç†å’Œè°ƒåº¦è¿›å…¥è®¡ç®—æœºç³»ç»Ÿä¸»å­˜å‚¨å™¨è¿è¡Œçš„ç¨‹åºã€‚ å› æ­¤ï¼Œè¿›ç¨‹æ—¢èƒ½æè¿°ç¨‹åºçš„å¹¶å‘æ‰§è¡ŒçŠ¶æ€ï¼Œåˆæ˜¯å…±äº«èµ„æºçš„ä¸€ç§åŸºæœ¬å•ä½ã€‚ ä¸ºä»€ä¹ˆè¦å¼•å…¥çº¿ç¨‹ è¿›ç¨‹åˆ‡æ¢ï¼ˆ1ï¼‰è¿›ç¨‹é—´è¿›è¡Œé€šä¿¡å’Œåˆ‡æ¢çš„ç³»ç»Ÿå¼€é”€å¤§ï¼Œé™åˆ¶äº†ç³»ç»Ÿä¸­å¹¶å‘è¿è¡Œçš„è¿›ç¨‹çš„æ•°ç›®ï¼ˆ2ï¼‰è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿä¸­èµ„æºåˆ†é…å’Œç³»ç»Ÿè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ‹¥æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´å’Œè¿è¡Œç¯å¢ƒï¼Œä»è€Œç›¸å…³è¿›ç¨‹é—´è€¦åˆå…³ç³»å·®ã€‚ è§£å†³æ–¹æ¡ˆï¼ˆ1ï¼‰æ¯ä¸ªè¿›ç¨‹ä¸­åŒ…å«å¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­çš„ä¸€æ¡æ‰§è¡Œè·¯å¾„ã€‚ï¼ˆ2ï¼‰æŠŠè¿›ç¨‹ä½œä¸ºåˆ†é…èµ„æºçš„åŸºæœ¬å•ä½ï¼Œè€ŒæŠŠçº¿ç¨‹ä½œä¸ºç‹¬ç«‹è¿è¡Œå’Œç‹¬ç«‹è°ƒåº¦çš„åŸºæœ¬å•ä½ï¼ˆ3ï¼‰çº¿ç¨‹åŸºæœ¬ä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºï¼Œæ•…å¯¹å®ƒçš„è°ƒåº¦æ‰€ä»˜å‡ºçš„å¼€é”€å° æ“ä½œç³»ç»Ÿçš„ç»“æ„ç°ä»£æ“ä½œç³»ç»Ÿçš„åŸºæœ¬å•ä½ï¼šå†…æ ¸ã€è¿›ç¨‹ã€çº¿ç¨‹ã€ç±»ç¨‹ã€ç®¡ç¨‹ å†…æ ¸ å†…æ ¸(kernel)æ˜¯ä¸€ç»„ç¨‹åºæ¨¡å—ï¼Œä½œä¸ºå¯ä¿¡è½¯ä»¶æ¥æä¾›æ”¯æŒè¿›ç¨‹å¹¶å‘æ‰§è¡Œçš„åŸºæœ¬åŠŸèƒ½å’ŒåŸºæœ¬æ“ä½œçš„ä¸€ç»„ç¨‹åºæ¨¡å—ï¼Œ å†…æ ¸é€šå¸¸é©»ç•™åœ¨å†…æ ¸ç©ºé—´ï¼Œè¿è¡Œäºæ ¸å¿ƒæ€ï¼Œå…·æœ‰è®¿é—®ç¡¬è®¾å¤‡å’Œæ‰€æœ‰ä¸»å­˜ç©ºé—´çš„æƒé™ï¼Œæ˜¯ä»…æœ‰çš„èƒ½æ‰§è¡Œç‰¹æƒæŒ‡ä»¤çš„é‚£éƒ¨åˆ†ç¨‹åºã€‚ åœ¨å†…æ ¸çš„æ”¯æ’‘ä¸‹ï¼Œæœºå™¨åŠŸèƒ½å¾—åˆ°æ‰©å±•ã€è¿›ç¨‹è¿è¡Œç¯å¢ƒå¾—åˆ°æ”¹å–„ï¼Œå®‰å…¨æ€§å¾—åˆ°ä¿è¯ï¼Œç³»ç»Ÿæ•ˆç‡å¾—åˆ°æé«˜ã€‚ å•å†…æ ¸ å•å†…æ ¸ï¼šæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„è¿›ç¨‹ã€‚å®ƒçš„å†…éƒ¨åˆå¯ä»¥è¢«åˆ†ä¸ºè‹¥å¹²æ¨¡å—ï¼ˆæˆ–è€…æ˜¯å±‚æ¬¡æˆ–å…¶å®ƒï¼‰ã€‚å…¶æ¨¡å—é—´çš„é€šè®¯æ˜¯é€šè¿‡ç›´æ¥è°ƒç”¨å…¶å®ƒæ¨¡å—ä¸­çš„å‡½æ•°å®ç°çš„ï¼Œè€Œä¸æ˜¯æ¶ˆæ¯ä¼ é€’ã€‚ å¾®å†…æ ¸ å¾®å†…æ ¸ï¼šæ“ä½œç³»ç»Ÿä»…å°†æ‰€æœ‰åº”ç”¨å¿…éœ€çš„æ ¸å¿ƒåŠŸèƒ½æ”¾å…¥å†…æ ¸ï¼Œå…¶ä»–åŠŸèƒ½éƒ½åœ¨å†…æ ¸ä¹‹å¤–ï¼Œç”±åœ¨ç”¨æˆ·æ€è¿è¡Œçš„æœåŠ¡è¿›è¡Œå®ç°ï¼Œé€šè¿‡å¾®å†…æ ¸æ‰€æä¾›çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶å®Œæˆè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚ å•å†…æ ¸ä¸å¾®å†…æ ¸çš„æ¯”è¾ƒå•å†…æ ¸ï¼šå¼€é”€ä¼šå°‘ä¸€äº›ï¼Œæ‰€ä»¥è¿è¡Œæ•ˆç‡ä¼šé«˜ä¸€äº›ã€‚å¾®å†…æ ¸ï¼šæ›´çµæ´»ä¸€äº›ï¼Œè‹¥æ°å½“çš„åˆ†é…å†…æ ¸ç©ºé—´çš„å†…å®¹ï¼Œå¯å‡å°‘å¼€æ”¯æé«˜è¿è¡Œå°æ•ˆç‡ å¾®å†…æ ¸çµæ´»ï¼šå†…æ ¸åªéœ€è¦ç¡®å®šå‡ºä¸€å¥—æ ‡å‡†(ç±»ä¼¼ API)ï¼Œéšä¾¿æ”¹å‘¨å›´çš„ä¸€åˆ‡éƒ½å¯ä»¥ï¼Œéƒ½ä¸ä¼šç›¸äº’å½±å“ã€‚å“ªæ€•æ”¹å†…æ ¸ï¼Œåªè¦ä¸æ”¹æ ‡å‡†ï¼Œå‘¨å›´çš„ä¸€åˆ‡éƒ½å¯ä»¥ä¸æ”¹å˜ã€‚ å¾®å†…æ ¸ç¨³å®šæ€§é«˜ï¼šæ¯•ç«Ÿå‘¨å›´çš„ä¸€åˆ‡éƒ½åœ¨è¿›ç¨‹ä¸­ï¼Œå“ªä¸€éƒ¨åˆ†å´©æºƒï¼Œä¹Ÿåªæ˜¯ä¼šå½±å“åˆ°å’Œè¿™ä¸ªè¿›ç¨‹æœ‰å…³çš„ä¸œè¥¿ã€‚ å•å†…æ ¸ä¸çµæ´»ï¼šæ”¹ä¸€ç‚¹ç‚¹ä¸œè¥¿ï¼Œæ•´ä¸ªå†…æ ¸å°±è¦é‡æ–°ç¼–ã€‚ å•å†…æ ¸ç¨³å®šæ€§å·®ï¼šä¸ç®¡å“ªä¸ªåœ°æ–¹å‡ºé—®é¢˜ï¼Œæ•´ä¸ªå†…æ ¸å°±å…¨å´©ï¼Œå†…æ ¸å…¨å´©ï¼Œç”µè„‘ä¹Ÿå°±å…¨å´©äº†ã€‚ åŸºæœ¬æœåŠ¡å’Œç”¨æˆ·æ¥å£åŸºæœ¬æœåŠ¡ åˆ›å»ºç¨‹åº æ‰§è¡Œç¨‹åº æ•°æ® I/O ä¿¡æ¯å­˜å– é€šä¿¡æœåŠ¡ é”™è¯¯æ£€æµ‹å’Œå¤„ç† è¿˜å…·æœ‰å¦å¤–ä¸€äº›åŠŸèƒ½:èµ„æºåˆ†é…,ç»Ÿè®¡,ä¿æŠ¤ã€‚ ç”¨æˆ·æ¥å£ ç¨‹åºæ¥å£ï¼ˆAPIï¼‰è¯¥æ¥å£æ˜¯ä¸ºç”¨æˆ·ç¨‹åºåœ¨æ‰§è¡Œä¸­è®¿é—®ç³»ç»Ÿèµ„æºè€Œè®¾ç½®çš„ï¼Œæ˜¯ç”¨æˆ·ç¨‹åºå–å¾—æ“ä½œç³»ç»ŸæœåŠ¡çš„æƒŸä¸€é€”å¾„ï¼ˆ æä¾›ç»™ç¨‹åºå‘˜åœ¨ç¼–ç¨‹æ—¶ä½¿ç”¨çš„æ¥å£ï¼Œæ˜¯ç”¨æˆ·ç¨‹åºå–å¾—æ“ä½œç³»ç»ŸæœåŠ¡çš„å”¯ä¸€é€”å¾„ï¼‰ã€‚å®ƒæ˜¯ç”±ä¸€ç»„ç³»ç»Ÿè°ƒç”¨ç»„æˆï¼Œæ¯ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨éƒ½æ˜¯ä¸€ä¸ªèƒ½å®Œæˆç‰¹å®šåŠŸèƒ½çš„å­ç¨‹åºï¼Œæ¯å½“åº”ç”¨ç¨‹åºè¦æ±‚ OS æä¾›æŸç§æœåŠ¡(åŠŸèƒ½)æ—¶ï¼Œä¾¿è°ƒç”¨å…·æœ‰ç›¸åº”åŠŸèƒ½çš„ç³»ç»Ÿè°ƒç”¨. æ“ä½œæ¥å£ç”±ä¸€ç»„æ§åˆ¶å‘½ä»¤å’Œï¼ˆæˆ–ï¼‰ä½œä¸šæ§åˆ¶è¯­å¥ç»„æˆï¼Œæ˜¯æ“ä½œç³»ç»Ÿä¸ºç”¨æˆ·æä¾›çš„ç»„ç»‡å’Œæ§åˆ¶ä½œä¸šæ‰§è¡Œçš„æ‰‹æ®µ ç³»ç»Ÿè°ƒç”¨ ç³»ç»Ÿè°ƒç”¨æ˜¯ä¸€ç§ä¸­ä»‹è§’è‰²ï¼ŒæŠŠç”¨æˆ·ä¸ç¡¬ä»¶éš”ç¦»å¼€æ¥ã€‚ ç³»ç»Ÿè°ƒç”¨æ˜¯åº”ç”¨ç¨‹åºè·å¾—æ“ä½œç³»ç»ŸæœåŠ¡çš„å”¯ä¸€é€”å¾„ å†…æ ¸çš„ä¸»ä½“æ˜¯ç³»ç»Ÿè°ƒç”¨çš„é›†åˆï¼Œå†…æ ¸å¯ä»¥çœ‹æˆæ˜¯ç‰¹æ®Šçš„å…¬å…±å­ç¨‹åº ç³»ç»Ÿè°ƒç”¨çš„ä½œç”¨ï¼ˆ1ï¼‰å†…æ ¸å¯ä»¥åŸºäºæƒé™å’Œè§„åˆ™å¯¹èµ„æºè®¿é—®è¿›è¡Œè£å†³ï¼Œä¿è¯ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼ˆ2ï¼‰ç³»ç»Ÿè°ƒç”¨å¯¹èµ„æºè¿›è¡ŒæŠ½è±¡ï¼Œæä¾›ä¸€è‡´æ€§æ¥å£ï¼Œé¿å…ç”¨æˆ·åœ¨ä½¿ç”¨èµ„æºæ—¶å‘ç”Ÿé”™è¯¯ï¼Œä¸”ç¼–ç¨‹æ•ˆç‡æé«˜ã€‚]]></content>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç®—æœºç»„æˆåŸç†â€”â€”ä¸­å¤®å¤„ç†å™¨]]></title>
    <url>%2Fblog%2Fposts%2F63815%2F</url>
    <content type="text"><![CDATA[CPU çš„ç»„æˆä¸åŠŸèƒ½CPU çš„åŸºæœ¬éƒ¨åˆ†ç”±è¿ç®—å™¨å’Œæ§åˆ¶å™¨ 2 ä¸ªä¸»è¦éƒ¨åˆ†ç»„æˆã€‚ æ§åˆ¶å™¨æ§åˆ¶å™¨ç”±ç¨‹åºè®¡æ•°å™¨ã€æŒ‡ä»¤å¯„å­˜å™¨ã€æŒ‡ä»¤è¯‘ç å™¨ã€åœ°å€å¯„å­˜å™¨ã€æ—¶åºäº§ç”Ÿå™¨ã€æ“ä½œæ§åˆ¶å™¨ç»„æˆã€‚æ˜¯å‘å¸ƒå‘½ä»¤çš„å†³ç­–æœºæ„ã€‚ æ§åˆ¶å™¨ä¸­çš„ä¸»è¦å¯„å­˜å™¨ ç¨‹åºè®¡æ•°å™¨å­˜æ”¾æŒ‡ä»¤çš„åœ°å€ï¼ˆå½“å‰æŒ‡ä»¤æˆ–è€…ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ï¼‰ åœ°å€å¯„å­˜å™¨(ARï¼ŒAddress Register)ç”¨æ¥ä¿å­˜å½“å‰ CPU æ‰€è®¿é—®çš„å†…å­˜å•å…ƒçš„åœ°å€ æŒ‡ä»¤å¯„å­˜å™¨(IRï¼ŒInstruction Register)ç”¨æ¥ä¿å­˜å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä¸€æ¡æŒ‡ä»¤ã€‚ æŒ‡ä»¤è¯‘ç å™¨ï¼ˆIDï¼‰å¯¹æŒ‡ä»¤å¯„å­˜å™¨ä¸­çš„æ“ä½œç å­—æ®µè¿›è¡Œåˆ†æï¼Œè¯†åˆ«è¯¥æŒ‡ä»¤è§„å®šçš„æ“ä½œï¼Œå‘æ“ä½œæ§åˆ¶å™¨å‘å‡ºå…·ä½“æ“ä½œçš„ç‰¹å®šä¿¡å·ã€‚æ§åˆ¶å™¨çš„ä¸»è¦ä½œç”¨ï¼š å–æŒ‡ä»¤ï¼šä»ä¸»å­˜å‚¨å™¨ä¸­å–å‡ºä¸€æ¡æŒ‡ä»¤ æŒ‡ä»¤è¯‘ç ï¼šå¯¹å½“å‰å–å¾—çš„æŒ‡ä»¤è¿›è¡Œåˆ†æ æ§åˆ¶æŒ‡ä»¤æ‰§è¡Œï¼šæ ¹æ®åˆ†ææŒ‡ä»¤æ—¶äº§ç”Ÿçš„æ“ä½œå‘½ä»¤å’Œæ“ä½œæ•°åœ°å€å½¢æˆç›¸åº”çš„æ“ä½œæ§åˆ¶åºåˆ—ï¼Œé€šè¿‡è¿ç®—å™¨ã€å­˜å‚¨å™¨ä»¥åŠè¾“å…¥è¾“å‡ºè®¾å¤‡çš„æ‰§è¡Œï¼Œå®ç°æ¯æ¡æŒ‡ä»¤çš„åŠŸèƒ½ã€‚CPU ä¸æ–­é‡å¤æ‰§è¡Œå–æŒ‡ã€è¯‘ç ã€æ‰§è¡Œï¼Œç›´è‡³é‡åˆ°åœæœºæˆ–å¤–æ¥çš„å¹²é¢„ã€‚ æ§åˆ¶ç¨‹åºå’Œæ•°æ®çš„è¾“å…¥ä¸ç»“æœè¾“å‡º å¤„ç†å¼‚å¸¸æƒ…å†µå’Œè¯·æ±‚ è¿ç®—å™¨è¿ç®—å™¨ç”±ç®—æœ¯é€»è¾‘å•å…ƒã€ç´¯åŠ å¯„å­˜å™¨ã€æ•°æ®ç¼“å†²å¯„å­˜å™¨ã€çŠ¶æ€æ ‡å¿—å¯„å­˜å™¨ç»„æˆã€‚è¿ç®—å™¨æ‰€è¿›è¡Œçš„å…¨éƒ¨æ“ä½œéƒ½æ˜¯ç”±æ§åˆ¶å™¨å‘å‡ºçš„æ§åˆ¶ä¿¡å·æ¥æŒ‡æŒ¥çš„ã€‚å®ƒæ˜¯æ‰§è¡Œéƒ¨ä»¶ã€‚ ç®—æœ¯é€»è¾‘å•å…ƒï¼ˆALUï¼‰ä¸»è¦è´Ÿè´£å®ç°å¯¹æ•°æ®çš„ç®—æœ¯è¿ç®—å’Œé€»è¾‘è¿ç®— ç´¯åŠ å¯„å­˜å™¨ï¼ˆACï¼‰æš‚æ—¶å­˜æ”¾å‚åŠ  ALU è¿ç®—çš„æ“ä½œæ•°æ®å’Œç»“æœçš„éƒ¨ä»¶ï¼Œæ˜¯ä¸€ä¸ªé€šç”¨å¯„å­˜å™¨ æ•°æ®ç¼“å†²å¯„å­˜å™¨ï¼ˆDRï¼‰æš‚æ—¶å­˜æ”¾ä»ä¸»å­˜å‚¨å™¨ã€è¾“å…¥/è¾“å‡ºè®¾å¤‡è¯»æ¥çš„æ•°æ®æˆ–è€…å‡†å¤‡å†™å…¥å®ƒä»¬çš„æ•°æ®æ•°æ®ç¼“å†²å¯„å­˜å™¨çš„ä½œç”¨æ˜¯ ï¼š(1)ä½œä¸º CPU å’Œå†…å­˜ã€å¤–éƒ¨è®¾å¤‡ä¹‹é—´ä¿¡æ¯ä¼ é€çš„ä¸­è½¬ç«™ï¼›(2)è¡¥å¿ CPU å’Œå†…å­˜ã€å¤–å›´è®¾å¤‡ä¹‹é—´åœ¨æ“ä½œé€Ÿåº¦ä¸Šçš„å·®åˆ«ï¼›(3)åœ¨å•ç´¯åŠ å™¨ç»“æ„çš„è¿ç®—å™¨ä¸­ï¼Œæ•°æ®ç¼“å†²å¯„å­˜å™¨è¿˜å¯å…¼ä½œä¸ºæ“ä½œæ•°å¯„å­˜å™¨ã€‚ çŠ¶æ€æ ‡å¿—å¯„å­˜å™¨ç”¨æ¥ä¿å­˜ç”±ç®—æœ¯æŒ‡ä»¤å’Œé€»è¾‘æŒ‡ä»¤è¿è¡Œæˆ–æµ‹è¯•çš„ç»“æœè€Œå»ºç«‹çš„å„ç§æ¡ä»¶ç å†…å®¹ã€‚å¦‚è¿ç®—ç»“æœè¿›ä½æ ‡å¿—ã€è¿ç®—ç»“æœæº¢å‡ºæ ‡å¿—ã€è¿ç®—ç»“æœä¸º 0 æ ‡å¿—ã€è¿ç®—ç»“æœä¸ºè´Ÿæ ‡å¿—ç­‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒçŠ¶æ€æ ‡å¿—å¯„å­˜å™¨è¿˜ç”¨æ¥ä¿å­˜ä¸­æ–­å’Œç³»ç»Ÿå·¥ä½œçŠ¶æ€ç­‰ä¿¡æ¯ï¼Œä»¥ä¾¿ CPU å’Œç³»ç»Ÿèƒ½åŠæ—¶äº†è§£æœºå™¨è¿è¡ŒçŠ¶æ€å’Œç¨‹åºè¿è¡ŒçŠ¶æ€ã€‚ CPU çš„åŠŸèƒ½æŒ‡ä»¤æ§åˆ¶æ“ä½œæ§åˆ¶æ—¶é—´æ§åˆ¶æ•°æ®åŠ å·¥ æ“ä½œæ§åˆ¶å™¨ æ•°æ®é€šè·¯æ˜¯è®¸å¤šå¯„å­˜å™¨ä¹‹é—´ä¼ é€ä¿¡æ¯çš„é€šè·¯ã€‚ä¿¡æ¯ä»ä»€ä¹ˆåœ°æ–¹å¼€å§‹ï¼Œä¸­é—´ç»è¿‡å“ªä¸ªå¯„å­˜å™¨æˆ–å¤šè·¯å¼€å…³ï¼Œæœ€åä¼ é€åˆ°å“ªä¸ªå¯„å­˜å™¨ï¼Œéƒ½è¦åŠ ä»¥æ§åˆ¶ã€‚åœ¨å„å¯„å­˜å™¨ä¹‹é—´å»ºç«‹æ•°æ®é€šè·¯çš„ä»»åŠ¡ï¼Œæ˜¯ç”±ç§°ä¸ºæ“ä½œæ§åˆ¶å™¨çš„éƒ¨ä»¶æ¥å®Œæˆçš„ã€‚ æ“ä½œæ§åˆ¶å™¨çš„åŠŸèƒ½æ ¹æ®æŒ‡ä»¤æ“ä½œç å’Œæ—¶åºä¿¡å·ï¼Œäº§ç”Ÿå„ç§æ“ä½œæ§åˆ¶ä¿¡å·ï¼Œä»¥ä¾¿æ­£ç¡®åœ°å»ºç«‹æ•°æ®é€šè·¯ï¼Œä»è€Œå®Œæˆå–æŒ‡ä»¤å’Œæ‰§è¡ŒæŒ‡ä»¤çš„æ§åˆ¶ã€‚ æ ¹æ®è®¾è®¡æ–¹æ³•ä¸åŒï¼Œæ“ä½œæ§åˆ¶å™¨å¯åˆ†ä¸ºä¸‰ç§ï¼š ç¡¬å¸ƒçº¿æ§åˆ¶å™¨æ˜¯é‡‡ç”¨æ—¶åºé€»è¾‘æŠ€æœ¯æ¥å®ç°çš„ï¼› å¾®ç¨‹åºæ§åˆ¶å™¨æ˜¯é‡‡ç”¨å­˜å‚¨é€»è¾‘æ¥å®ç°çš„ï¼› é—¨é˜µåˆ—æ§åˆ¶å™¨å‰ä¸¤ç§æ–¹å¼çš„ç»„åˆ æ—¶åºäº§ç”Ÿå™¨æŒ‡ä»¤å‘¨æœŸ éè®¿é—®ä¸»å­˜å‚¨å™¨æŒ‡ä»¤çš„æŒ‡ä»¤å‘¨æœŸç›´æ¥è®¿é—®ä¸»å­˜å‚¨å™¨æŒ‡ä»¤çš„æŒ‡ä»¤å‘¨æœŸé—´æ¥è®¿é—®ä¸»å­˜å‚¨å™¨æŒ‡ä»¤çš„æŒ‡ä»¤å‘¨æœŸç¨‹åºæ§åˆ¶æŒ‡ä»¤çš„æŒ‡ä»¤å‘¨æœŸï¼ˆè§ä¹¦æœ¬ï¼‰ æ—¶åºä¿¡å·çš„ä½œç”¨å’Œä½“åˆ¶ CPU èƒ½å¾ˆå®¹æ˜“é€šè¿‡æ—¶åºæ§åˆ¶ä¿¡å·ä»æ—¶é—´å’Œç©ºé—´ä¸Šè¯†åˆ«å‡ºæ˜¯æ•°æ®è¿˜æ˜¯æŒ‡ä»¤ã€‚ä»æ—¶é—´æ¥è¯´ï¼Œå–æŒ‡ä»¤å‘ç”Ÿåœ¨æŒ‡ä»¤å‘¨æœŸçš„ç¬¬ä¸€ä¸ª cpu å‘¨æœŸï¼Œå³å‘ç”Ÿåœ¨â€œå–æŒ‡ä»¤â€é˜¶æ®µï¼Œè€Œå–æ•°æ®äº‹ä»¶å‘ç”Ÿåœ¨æŒ‡ä»¤å‘¨æœŸåé¢å‡ ä¸ª cpu å‘¨æœŸä¸­ï¼Œå³å‘ç”Ÿåœ¨â€œæ‰§è¡ŒæŒ‡ä»¤â€é˜¶æ®µã€‚ä»ç©ºé—´ä¸Šæ¥è¯´ï¼Œå¦‚æœå–å‡ºçš„ä»£ç è¿˜æ˜¯æŒ‡ä»¤é‚£ä¹ˆä¸€å®šé€å¾€æŒ‡ä»¤å¯„å­˜å™¨ï¼Œå¦‚æœå–å‡ºçš„ä»£ç æ˜¯æ•°æ®ï¼Œé‚£ä¹ˆä¸€å®šé€å¾€è¿ç®—å™¨ã€‚ è®¡ç®—æœºç¡¬ä»¶çš„å™¨ä»¶ç‰¹æ€§å†³å®šäº†æ—¶åºä¿¡å·æœ€åŸºæœ¬çš„ä½“åˆ¶æ˜¯ç”µä½â€”è„‰å†²åˆ¶ã€‚ æ—¶åºä¿¡å·çš„ä½“åˆ¶ï¼š æ—¶åºä¿¡å·äº§ç”Ÿå™¨çš„æœ€åŸºæœ¬çš„ç»“æ„æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ç”±æ—¶é’Ÿæºã€ç¯å½¢è„‰å†²å‘ç”Ÿå™¨ã€èŠ‚æ‹è„‰å†²ã€è¯»å†™æ—¶åºè¯‘ç é€»è¾‘ã€å¯åœæ§åˆ¶é€»è¾‘ç­‰éƒ¨åˆ†ç»„æˆ CPU çš„æ§åˆ¶æ–¹å¼æ§åˆ¶æ–¹å¼ï¼šå½¢æˆæ§åˆ¶ä¸åŒæ“ä½œåºåˆ—çš„æ—¶åºä¿¡å·çš„æ–¹æ³• åŒæ­¥æ§åˆ¶æ–¹å¼åœ¨ä»»ä½•æƒ…å†µä¸‹ç»™å®šçš„æŒ‡ä»¤åœ¨æ‰§è¡Œæ—¶æ‰€éœ€çš„æœºå™¨å‘¨æœŸæ•°å’Œæ—¶é’Ÿå‘¨æœŸæ•°éƒ½å›ºå®šä¸å˜çš„æ§åˆ¶æ–¹å¼ å¼‚æ­¥æ§åˆ¶æ–¹å¼æ¯æ¡æŒ‡ä»¤ã€æ¯ä¸ªæ“ä½œæ§åˆ¶ä¿¡å·éœ€è¦å¤šå°‘æ—¶é—´å°±å ç”¨å¤šå°‘æ—¶é—´è¿è¡Œé€Ÿåº¦å¿«ã€æ§åˆ¶ç”µè·¯å¤æ‚ è”åˆæ§åˆ¶æ–¹å¼åŒæ­¥å’Œå¼‚æ­¥çš„è”åˆ å¾®ç¨‹åºè®¾è®¡æŠ€æœ¯å’Œå¾®ç¨‹åºæ§åˆ¶å™¨å¾®ç¨‹åºè®¾è®¡æŠ€æœ¯æ˜¯åˆ©ç”¨è½¯ä»¶æ–¹æ³•è¿›è¡Œç¡¬ä»¶è®¾è®¡çš„æŠ€æœ¯é‡‡ç”¨å¾®ç¨‹åºè®¾è®¡æ€æƒ³çš„å¾®ç¨‹åºæ§åˆ¶å™¨ã€åŒç»„åˆé€»è¾‘æ§åˆ¶å™¨ç›¸æ¯”è¾ƒï¼Œå…·æœ‰è§„æ•´ã€çµæ´»ã€æ˜“ç»´æŠ¤ç­‰ä¸€ç³»åˆ—ä¼˜ç‚¹ã€‚ åŸºæœ¬æ€æƒ³è‹¥å¹²æ¡å¾®å‘½ä»¤ç¼–åˆ¶æˆä¸€æ¡å¾®æŒ‡ä»¤ï¼Œæ§åˆ¶å®ç°ä¸€æ­¥æ“ä½œå°±æ˜¯æŒ‰ç…§è®¾è®¡è§£é¢˜ç¨‹åºçš„æ€è·¯ï¼ŒæŠŠæ“ä½œæ§åˆ¶ä¿¡å·ç¼–æˆå¾®æŒ‡ä»¤ï¼Œå¹¶å°†å¾®æŒ‡ä»¤ä»£ç å­˜æ”¾åˆ°åªè¯»å­˜å‚¨å™¨é‡Œï¼›å½“æœºå™¨è¿è¡Œæ—¶ï¼Œä¸€æ¡ä¸€æ¡åœ°è¯»å‡ºè¿™äº›å¾®æŒ‡ä»¤ï¼Œäº§ç”Ÿè®¡ç®—æœºæ‰€éœ€è¦çš„å„ç§æ“ä½œæ§åˆ¶ä¿¡å·ï¼Œä½¿ç›¸åº”éƒ¨ä»¶æ‰§è¡Œè§„å®šçš„æ“ä½œã€‚ å¾®ç¨‹åºè®¾è®¡æŠ€æœ¯çš„åŸºæœ¬æ¦‚å¿µ å¾®æ“ä½œï¼šæŒ‡ä»¤æ‰§è¡Œæ—¶å¿…é¡»å®Œæˆçš„åŸºæœ¬æ“ä½œã€‚ä¾‹å¦‚ï¼ŒPCâ†’ARï¼ŒPC+1â†’ PCï¼ŒRAMâ†’IRã€‚ å¾®å‘½ä»¤ï¼šæ˜¯ç»„æˆå¾®æŒ‡ä»¤çš„æœ€å°å•ä½ï¼Œä¹Ÿå°±æ˜¯æ§åˆ¶å¾®æ“ä½œå®ç°çš„æ§åˆ¶ä¿¡å·ã€‚ä¸€èˆ¬ç”¨äºæ§åˆ¶æ•°æ®é€šè·¯ä¸Šé—¨çš„æ‰“å¼€/å…³é—­ï¼Œæˆ–è€…åŠŸèƒ½é€‰æ‹©ã€‚ å¾®æŒ‡ä»¤ï¼šæ˜¯ä¸€ç»„å¾®å‘½ä»¤çš„é›†åˆï¼Œç”¨äºå®Œæˆä¸€ä¸ªåŠŸèƒ½ç›¸å¯¹å®Œæ•´çš„æ“ä½œã€‚ å¾®ç¨‹åºï¼šå¾®æŒ‡ä»¤çš„æœ‰åºé›†åˆï¼Œç”¨äºå®ç°æœºå™¨æŒ‡ä»¤çš„åŠŸèƒ½ã€‚ æ§åˆ¶å­˜å‚¨å™¨ï¼ˆCMï¼‰å±äº CPUï¼šæ˜¯å­˜æ”¾å¾®ç¨‹åºçš„å­˜å‚¨å™¨ã€‚è¯¥å­˜å‚¨å™¨ä¸»è¦å­˜æ”¾æ§åˆ¶å‘½ä»¤å’Œä¸‹ä¸€æ¡æ‰§è¡Œçš„å¾®æŒ‡ä»¤åœ°å€ã€‚ å¾®æŒ‡ä»¤å¯„å­˜å™¨ï¼ˆÂµIRï¼‰ç”¨äºå­˜æ”¾ç°è¡Œå¾®æŒ‡ä»¤å¾®å‘½ä»¤å­—æ®µï¼ˆå¾®æ“ä½œæ§åˆ¶å­—æ®µï¼‰ï¼šæä¾›ä¸€æ­¥æ“ä½œæ‰€éœ€çš„å¾®å‘½ä»¤ã€‚å¾®åœ°å€å­—æ®µï¼ˆé¡ºåºæ§åˆ¶å­—æ®µï¼‰ï¼šæŒ‡æ˜åç»­å¾®åœ°å€çš„å½¢æˆæ–¹å¼ï¼Œæä¾›å¾®åœ°å€çš„ç»™å®šéƒ¨åˆ† å¾®æŒ‡ä»¤çš„åŸºæœ¬æ ¼å¼ï¼šæ“ä½œæ§åˆ¶éƒ¨åˆ†ï¼šç”¨æ¥å‘å‡ºæŒ‡æŒ¥è®¡ç®—æœºå·¥ä½œçš„æ§åˆ¶ä¿¡å·ã€‚å¯ä»¥ç”¨æ“ä½œå­—æ®µçš„æ¯ä¸€ä½è¡¨ç¤ºä¸€ä¸ªå¾®å‘½ä»¤ï¼Œä½ä¿¡æ¯ä¸ºâ€œ1â€è¡¨ç¤ºå‘å‡ºå¾®å‘½ä»¤ï¼›ä½ä¿¡æ¯ä¸ºâ€œ0â€è¡¨ç¤ºä¸å‘å‡ºå¾®å‘½ä»¤ã€‚å¾®å‘½ä»¤ä¿¡å·æ—¢ä¸èƒ½æ¥å¾—å¤ªæ—©ï¼Œä¹Ÿä¸èƒ½æ¥å¾—å¤ªæ™šï¼Œä¸ºæ­¤è¦æ±‚è¿™äº›å¾®å‘½ä»¤ä¿¡å·è¿˜è¦åŠ å…¥æ—¶é—´æ§åˆ¶ã€‚é¡ºåºæ§åˆ¶éƒ¨åˆ†ï¼šç”¨æ¥å†³å®šäº§ç”Ÿä¸‹ä¸€æ¡å¾®æŒ‡ä»¤çš„åœ°å€ã€‚é¡ºåºæ§åˆ¶å­—æ®µçš„è‹¥å¹²ä½ç›´æ¥ç»™å‡ºä¸‹ä¸€æ¡å¾®æŒ‡ä»¤çš„åœ°å€ï¼Œå…¶ä½™å„ä½åˆ™åšä¸ºåˆ¤åˆ«æµ‹è¯•çŠ¶æ€çš„æ ‡å¿—ï¼Œå¦‚æ ‡å¿—ä¸ºâ€œ0â€è¡¨ç¤ºä¸è¿›è¡Œåˆ¤åˆ«æµ‹è¯•ï¼Œç›´æ¥æŒ‰é¡ºåºæ§åˆ¶å­—æ®µç»™å‡ºçš„åœ°å€å–ä¸‹ä¸€æ¡å¾®æŒ‡ä»¤ï¼›è‹¥æ ‡å¿—ä¸ºâ€œ1â€è¡¨ç¤ºè¦è¿›è¡Œåˆ¤åˆ«æµ‹è¯•ï¼Œæ ¹æ®æµ‹è¯•ç»“æœï¼ŒæŒ‰è¦æ±‚ä¿®æ”¹ç›¸åº”çš„åœ°å€ä½ä¿¡æ¯ï¼Œå¹¶æŒ‰ä¿®æ”¹åçš„åœ°å€å–ä¸‹ä¸€æ¡å¾®æŒ‡ä»¤ã€‚ å¾®åœ°å€å½¢æˆç”µè·¯æä¾›ä¸¤ç±»å¾®åœ°å€å¾®ç¨‹åºå…¥å£åœ°å€ï¼šç”±æœºå™¨æŒ‡ä»¤æ“ä½œç å½¢æˆåç»­å¾®åœ°å€ï¼šç”±å¾®åœ°å€å­—æ®µã€ç°è¡Œå¾®åœ°å€ã€è¿è¡ŒçŠ¶æ€ç­‰å½¢æˆã€‚ å¾®æŒ‡ä»¤å‘¨æœŸä¸ CPU å‘¨æœŸçš„å…³ç³» å¾®æŒ‡ä»¤ä¸æœºå™¨æŒ‡ä»¤çš„å…³ç³» ä¸€æ¡æœºå™¨æŒ‡ä»¤å¯¹åº”ä¸€ä¸ªå¾®ç¨‹åºï¼Œè¿™ä¸ªå¾®ç¨‹åºæ˜¯ç”±è‹¥å¹²æ¡å¾®æŒ‡ä»¤åºåˆ—ç»„æˆçš„ã€‚å› æ­¤ï¼Œä¸€æ¡æœºå™¨æŒ‡ä»¤çš„åŠŸèƒ½æ˜¯ç”±è‹¥å¹²æ¡å¾®æŒ‡ä»¤ç»„æˆçš„åºåˆ—æ¥å®ç°çš„ã€‚ç®€è¨€ä¹‹ï¼Œä¸€æ¡æœºå™¨æŒ‡ä»¤æ‰€å®Œæˆçš„ æ“ä½œåˆ’åˆ†æˆè‹¥å¹²æ¡å¾®æŒ‡ä»¤æ¥å®Œæˆï¼Œç”±å¾®æŒ‡ä»¤è¿›è¡Œè§£é‡Šå’Œæ‰§è¡Œã€‚ ä»æŒ‡ä»¤ä¸å¾®æŒ‡ä»¤ï¼Œç¨‹åºä¸å¾®ç¨‹åºï¼Œåœ°å€ä¸å¾®åœ°å€çš„å¯¹åº”å…³ç³»æ¥çœ‹ï¼Œå‰è€…ä¸å†…å­˜å‚¨å™¨æœ‰å…³ï¼Œåè€…ä¸æ§åˆ¶å­˜å‚¨å™¨æœ‰å…³ã€‚ æ¯ä¸€ä¸ª CPU å‘¨æœŸå¯¹åº”ä¸€æ¡å¾®æŒ‡ä»¤ã€‚ å¾®ç¨‹åºè®¾è®¡å¾®å‘½ä»¤ç¼–ç æ˜¯æŒ‡å¯¹å¾®æŒ‡ä»¤ä¸­çš„æ“ä½œæ§åˆ¶å­—æ®µé‡‡ç”¨çš„è¡¨ç¤ºæ–¹æ³•ã€‚é€šå¸¸æœ‰ä»¥ä¸‹ä¸‰ç§æ–¹æ³• ç›´æ¥è¡¨ç¤ºæ³•å…¶ç‰¹ç‚¹æ˜¯æ“ä½œæ§åˆ¶å­—æ®µä¸­çš„ æ¯ä¸€ä½ä»£è¡¨ä¸€ä¸ªå¾®å‘½ä»¤ã€‚è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯ç®€å•ç›´è§‚ï¼Œå…¶è¾“å‡ºç›´æ¥ç”¨äºæ§åˆ¶ã€‚ç¼ºç‚¹æ˜¯å¾®æŒ‡ä»¤å­—è¾ƒé•¿ï¼Œå› è€Œä½¿æ§åˆ¶å­˜å‚¨å™¨å®¹é‡è¾ƒå¤§ã€‚ ç¼–ç è¡¨ç¤ºæ³•ç¼–ç è¡¨ç¤ºæ³•æ˜¯æŠŠä¸€ç»„ç›¸æ–¥æ€§çš„å¾®å‘½ä»¤ä¿¡å·ç»„æˆä¸€ä¸ªå°ç»„(å³ä¸€ä¸ªå­—æ®µ) ï¼Œç„¶åé€šè¿‡å°ç»„(å­—æ®µï¼‰è¯‘ç å™¨å¯¹æ¯ä¸€ä¸ªå¾®å‘½ä»¤ä¿¡å·è¿›è¡Œè¯‘ç  ï¼Œè¯‘ç è¾“å‡ºä½œä¸ºæ“ä½œæ§åˆ¶ä¿¡å·ï¼Œç»“æ„å¦‚å›¾ã€‚ æ··åˆè¡¨ç¤ºæ³•è¿™ç§æ–¹æ³•æ˜¯æŠŠç›´æ¥è¡¨ç¤ºæ³•ä¸å­—æ®µç¼–ç æ³•æ··åˆä½¿ç”¨ï¼Œä»¥ä¾¿èƒ½ç»¼åˆè€ƒè™‘æŒ‡ä»¤å­—é•¿ã€çµæ´»æ€§ã€é€Ÿåº¦ç­‰è¦æ±‚ã€‚ å¸¸æ•°å­—æ®µæ§åˆ¶æ³•è¿™ç§æ–¹æ³•åœ¨å¾®æŒ‡ä»¤ä¸­é™„è®¾ä¸€ä¸ªå¸¸æ•°å­—æ®µï¼Œå°±è±¡æŒ‡ä»¤ä¸­çš„ç«‹å³æ•°ä¸€æ ·ï¼Œç”¨å®ƒæ¥ç»™æŸäº›æ‰§è¡Œéƒ¨ä»¶ç›´æ¥å‘é€å¸¸æ•°ã€‚è¯¥å¸¸æ•°æœ‰æ—¶ä½œä¸ºæ“ä½œæ•°é€å…¥ ALU å‚åŠ è¿ç®—ï¼Œæœ‰æ—¶ä¹Ÿä½œä¸ºè®¡æ•°å™¨çš„åˆå€¼æ¥æ§åˆ¶å¾®ç¨‹åºå¾ªç¯æ¬¡æ•°ã€‚ å¾®æŒ‡ä»¤æ‰§è¡Œçš„é¡ºåºæ§åˆ¶é—®é¢˜ï¼Œå®é™…ä¸Šæ˜¯å¦‚ä½•ç¡®å®šä¸‹ä¸€æ¡å¾®æŒ‡ä»¤çš„åœ°å€é—®é¢˜ã€‚é€šå¸¸ï¼Œäº§ç”Ÿåç»§å¾®åœ°å€æœ‰ä¸‰ç§æ–¹æ³•ï¼š1ï¼‰è®¡æ•°å™¨æ–¹å¼2ï¼‰å¢é‡æ–¹å¼ä¸æ–­å®šæ–¹å¼ç›¸ç»“åˆ3ï¼‰å¤šè·¯è½¬ç§»æ–¹å¼ å¾®æŒ‡ä»¤æ ¼å¼ æ°´å¹³å‹å¾®æŒ‡ä»¤ä¸€æ¬¡èƒ½å®šä¹‰å¹¶æ‰§è¡Œå¤šä¸ªå¹¶è¡Œæ“ä½œå¾®å‘½ä»¤çš„å¾®æŒ‡ä»¤ï¼Œå«åšæ°´å¹³å‹å¾®æŒ‡ä»¤ã€‚ å‚ç›´å‹å¾®æŒ‡ä»¤å¾®æŒ‡ä»¤ä¸­è®¾ç½®å¾®æ“ä½œç å­—æ®µï¼Œé‡‡ç”¨å¾®æ“ä½œç ç¼–è¯‘æ³•ï¼Œç”±å¾®æ“ä½œç è§„å®šå¾®æŒ‡ä»¤çš„åŠŸèƒ½ ï¼Œç§°ä¸ºå‚ç›´å‹å¾®æŒ‡ä»¤ã€‚ æ°´å¹³å‹å¾®æŒ‡ä»¤ä¸å‚ç›´å‹å¾®æŒ‡ä»¤çš„æ¯”è¾ƒ(1)æ°´å¹³å‹å¾®æŒ‡ä»¤å¹¶è¡Œæ“ä½œèƒ½åŠ›å¼ºï¼Œæ•ˆç‡é«˜ï¼Œçµæ´»æ€§å¼ºï¼Œå‚ç›´å‹å¾®æŒ‡ä»¤åˆ™è¾ƒå·®ã€‚(2)æ°´å¹³å‹å¾®æŒ‡ä»¤æ‰§è¡Œä¸€æ¡æŒ‡ä»¤çš„æ—¶é—´çŸ­ï¼Œå‚ç›´å‹å¾®æŒ‡ä»¤æ‰§è¡Œæ—¶é—´é•¿ã€‚(3)ç”±æ°´å¹³å‹å¾®æŒ‡ä»¤è§£é‡ŠæŒ‡ä»¤çš„å¾®ç¨‹åºï¼Œæœ‰å¾®æŒ‡ä»¤å­—è¾ƒé•¿è€Œå¾®ç¨‹åºçŸ­çš„ç‰¹ç‚¹ã€‚å‚ç›´å‹å¾®æŒ‡ä»¤åˆ™ç›¸åã€‚(4)æ°´å¹³å‹å¾®æŒ‡ä»¤ç”¨æˆ·éš¾ä»¥æŒæ¡ï¼Œè€Œå‚ç›´å‹å¾®æŒ‡ä»¤ä¸æŒ‡ä»¤æ¯”è¾ƒç›¸ä¼¼ï¼Œç›¸å¯¹æ¥è¯´ï¼Œæ¯”è¾ƒå®¹æ˜“æŒæ¡ã€‚ ä¸²è¡Œ/å¹¶è¡Œå¾®ç¨‹åºæ§åˆ¶ ä¸²è¡Œå¾®ç¨‹åºæ§åˆ¶æ–¹å¼ï¼ˆé¡ºåºï¼‰åœ¨ä¸²è¡Œå¾®ç¨‹åºæ§åˆ¶æ–¹å¼ä¸­ï¼Œæ‰§è¡Œç°è¡Œå¾®æŒ‡ä»¤çš„æ“ä½œä¸å–ä¸‹ä¸€æ¡å¾®æŒ‡ä»¤çš„æ“ä½œåœ¨æ—¶é—´ä¸Šæ˜¯æŒ‰é¡ºåºè¿›è¡Œçš„ï¼Œæ‰€ä»¥å¾®æŒ‡ä»¤å‘¨æœŸ=å–å¾®æŒ‡ä»¤çš„æ—¶é—´+æ‰§è¡Œå¾®æ“ä½œçš„æ—¶é—´ï¼Œå³ç­‰äºåªè¯»å­˜å‚¨å™¨çš„è¯»æ•°å‘¨æœŸã€‚ å¹¶è¡Œå¾®ç¨‹åºæ§åˆ¶æ–¹å¼ï¼ˆæ—¶é—´ä¸Šé‡å ï¼‰å°±æ˜¯å°†å–å¾®æŒ‡ä»¤å’Œæ‰§è¡Œå¾®æŒ‡ä»¤è¿™ä¸¤ç±»æ“ä½œåœ¨æ—¶é—´ä¸Šé‡å å¹¶è¡Œè¿›è¡Œçš„æ–¹å¼ã€‚ç”±äºå–å¾®æŒ‡ä»¤å’Œæ‰§è¡Œå¾®æŒ‡ä»¤çš„æ“ä½œæ˜¯åœ¨ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„éƒ¨ä»¶ä¸­æ‰§è¡Œçš„ï¼Œå› æ­¤ï¼Œå¯ä»¥å°†è¿™ä¸¤éƒ¨åˆ†æ“ä½œåŒæ—¶è¿›è¡Œï¼Œä»¥ç¼©çŸ­å¾®æŒ‡ä»¤å‘¨æœŸã€‚ åŠ¨æ€å¾®ç¨‹åºè®¾è®¡ å¾®ç¨‹åºè®¾è®¡æœ‰é™æ€å¾®ç¨‹åºè®¾è®¡å’ŒåŠ¨æ€å¾®ç¨‹åºè®¾è®¡ä¹‹åˆ†ã€‚ è‹¥è®¡ç®—æœºçš„æœºå™¨æŒ‡ä»¤åªæœ‰ä¸€ç»„å¾®ç¨‹åºï¼Œè€Œä¸”è¿™ä¸€ç»„å¾®ç¨‹åºè®¾è®¡å¥½ä¹‹åï¼Œä¸€èˆ¬æ— éœ€æ”¹å˜è€Œä¸”ä¹Ÿä¸æ˜“æ”¹å˜ï¼Œé‚£ä¹ˆè¿™ç§å¾®ç¨‹åºè®¾è®¡ç§°ä¸ºé™æ€å¾®ç¨‹åºè®¾è®¡ã€‚ å½“é‡‡ç”¨ EPROM ä½œä¸ºæ§åˆ¶å­˜å‚¨å™¨æ—¶ï¼Œå¯ä»¥é€šè¿‡æ”¹å˜å¾®æŒ‡ä»¤å’Œå¾®ç¨‹åºæ¥æ”¹å˜æœºå™¨çš„æŒ‡ä»¤ç³»ç»Ÿï¼Œè¿™ç§å¾®ç¨‹åºè®¾è®¡ç§°ä¸ºåŠ¨æ€å¾®ç¨‹åºè®¾è®¡ã€‚ æ¯«å¾®ç¨‹åºè®¾è®¡ æ¯«å¾®ç¨‹åºæ˜¯ç”¨ä»¥è§£é‡Šå¾®ç¨‹åºçš„ä¸€ç§å¾®ç¨‹åºï¼Œå› æ­¤ç»„æˆæ¯«å¾®ç¨‹åºçš„æ¯«å¾®æŒ‡ä»¤å°±å¯çœ‹ä½œæ˜¯è§£é‡Šå¾®æŒ‡ä»¤çš„å¾®æŒ‡ä»¤ã€‚ é‡‡ç”¨æ¯«å¾®ç¨‹åºè®¾è®¡çš„ä¸»è¦ç›®çš„æ˜¯å‡å°‘æ§åˆ¶å­˜å‚¨å™¨çš„å®¹é‡ã€‚ é‡‡ç”¨çš„æ˜¯ä¸¤çº§å¾®ç¨‹åºè®¾è®¡æ–¹æ³•ã€‚é€šå¸¸ç¬¬ä¸€çº§é‡‡ç”¨å‚ç›´å¾®ç¨‹åºï¼Œç¬¬äºŒçº§é‡‡ç”¨æ°´å¹³å¾®ç¨‹åºã€‚ å¾®ç¨‹åºæ§åˆ¶å™¨å®ƒä¸»è¦ç”±æ§åˆ¶å­˜å‚¨å™¨ã€å¾®æŒ‡ä»¤å¯„å­˜å™¨å’Œåœ°å€è½¬ç§»é€»è¾‘ä¸‰å¤§éƒ¨åˆ†ç»„æˆã€‚ ç¡¬å¸ƒçº¿æ§åˆ¶å™¨ è¿™ç§æ–¹æ³•æŠŠæ§åˆ¶éƒ¨ä»¶ä½œä¸ºäº§ç”Ÿä¸“é—¨å›ºå®šæ—¶åºæ§åˆ¶ä¿¡å·çš„é€»è¾‘ç”µè·¯ï¼Œè€Œæ­¤é€»è¾‘ç”µè·¯ä»¥ä½¿ç”¨æœ€å°‘å…ƒä»¶å’Œå–å¾—æœ€é«˜æ“ä½œé€Ÿåº¦ä¸ºè®¾è®¡ç›®æ ‡ã€‚ å› ä¸ºè¯¥é€»è¾‘ç”µè·¯æ˜¯ç”±é—¨ç”µè·¯å’Œè§¦å‘å™¨æ„æˆçš„å¤æ‚æ ‘å½¢ç½‘ç»œï¼Œæ‰€ä»¥ç§°ä¸ºç¡¬å¸ƒçº¿æ§åˆ¶å™¨ã€‚ç¡¬å¸ƒçº¿æ§åˆ¶å™¨ç”±ç»„åˆé€»è¾‘ç½‘ç»œ å‡ ä¸ªé—®é¢˜ å¦‚ä½•ç¼©çŸ­å¾®æŒ‡ä»¤å­—çš„é•¿åº¦ï¼Ÿé‡‡ç”¨æ··åˆç¼–ç è¯‘ç æ§åˆ¶æ³• å¦‚ä½•å‡å°æ§åˆ¶å­˜å‚¨å™¨çš„å®¹é‡ï¼Ÿé‡‡ç”¨æ¯«å¾®ç¨‹åºè®¾è®¡ å¦‚ä½•å‡å°‘å¾®ç¨‹åºé•¿åº¦ï¼Ÿæ°´å¹³å‹å¾®æŒ‡ä»¤ å¦‚ä½•æé«˜å¾®ç¨‹åºçš„æ‰§è¡Œé€Ÿåº¦ï¼Ÿæ°´å¹³å‹å¾®æŒ‡ä»¤ å¦‚ä½•æ˜“äºä¿®æ”¹å¾®æŒ‡ä»¤ï¼ŸåŠ¨æ€å¾®ç¨‹åºè®¾è®¡ å¦‚ä½•å¢åŠ å¾®ç¨‹åºè®¾è®¡çš„çµæ´»æ€§ï¼Ÿä¸¤çº§å¾®ç¨‹åºè®¾è®¡ï¼Œç¬¬ä¸€å±‚å‚ç›´å‹ï¼Œç¬¬äºŒå±‚æ°´å¹³å‹]]></content>
      <tags>
        <tag>è®¡ç®—æœºç»„æˆåŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç®—æœºç»„æˆåŸç†â€”â€”æŒ‡ä»¤ç³»ç»Ÿ]]></title>
    <url>%2Fblog%2Fposts%2F49447%2F</url>
    <content type="text"><![CDATA[æŒ‡ä»¤æ ¼å¼æŒ‡ä»¤æ“ä½œç ä¸åœ°å€ç  æŒ‡ä»¤å­—ï¼ˆç®€ç§°æŒ‡ä»¤ï¼‰å³è¡¨ç¤ºä¸€æ¡æŒ‡ä»¤çš„æœºå™¨å­—ã€‚ æŒ‡ä»¤æ ¼å¼åˆ™æ˜¯æŒ‡ä»¤å­—ç”¨äºŒè¿›åˆ¶ä»£ç è¡¨ç¤ºçš„ç»“æ„å½¢å¼ï¼Œç”±æ“ä½œç å­—æ®µå’Œåœ°å€ç å­—æ®µç»„æˆ æ“ä½œç å­—æ®µï¼šæŒ‡æ˜äº†æŒ‡ä»¤çš„æ“ä½œæ€§è´¨åŠåŠŸèƒ½ åœ°å€ç å­—æ®µï¼šæŒ‡æ˜äº†æ“ä½œæ•°çš„åœ°å€ ä¸åŒçš„æŒ‡ä»¤ç”¨æ“ä½œç å­—æ®µçš„ä¸åŒç¼–ç æ¥è¡¨ç¤ºï¼Œæ¯ä¸€ç§ç¼–ç ä»£è¡¨ä¸€ç§æŒ‡ä»¤ã€‚ æ“ä½œç ç»„æˆæ“ä½œç å­—æ®µçš„ä½æ•°ä¸€èˆ¬å–å†³äºè®¡ç®—æœºæŒ‡ä»¤ç³»ç»Ÿçš„è§„æ¨¡ã€‚åœ°å€ç æ ¹æ®ä¸€æ¡æŒ‡ä»¤ä¸­æœ‰å‡ ä¸ªæ“ä½œæ•°åœ°å€ï¼Œå¯å°†è¯¥æŒ‡ä»¤ç§°ä¸ºå‡ æ“ä½œæ•°æŒ‡ä»¤æˆ–å‡ åœ°å€æŒ‡ä»¤ã€‚ æŒ‡ä»¤å­—é•¿åº¦ä¸æ‰©å±•æ–¹æ³• æŒ‡ä»¤å­—é•¿åº¦ï¼šä¸€ä¸ªæŒ‡ä»¤å­—ä¸­åŒ…å«äºŒè¿›åˆ¶ä»£ç çš„ä½æ•°ã€‚ æœºå™¨å­—é•¿ï¼šè®¡ç®—æœºèƒ½ç›´æ¥å¤„ç†çš„äºŒè¿›åˆ¶æ•°æ®çš„ä½æ•°ï¼Œå®ƒå†³å®šäº†è®¡ç®—æœºçš„è¿ç®—ç²¾åº¦ã€‚ ä½¿ç”¨å¤šå­—é•¿æŒ‡ä»¤ï¼Œç›®çš„åœ¨äºæä¾›è¶³å¤Ÿçš„åœ°å€ä½æ¥è§£å†³è®¿é—®å†…å­˜ä»»ä½•å•å…ƒçš„å¯»å€é—®é¢˜ã€‚å…¶ä¸»è¦ç¼ºç‚¹æ˜¯å¿…é¡»ä¸¤æ¬¡æˆ–å¤šæ¬¡è®¿é—®å†…å­˜ä»¥å–å‡ºä¸€æ•´æ¡æŒ‡ä»¤ï¼Œé™ä½äº† CPU çš„è¿ç®—é€Ÿåº¦ï¼Œåˆå ç”¨äº†æ›´å¤šçš„å­˜å‚¨ç©ºé—´ã€‚ æŒ‡ä»¤æ“ä½œç æ‰©å±•æ–¹æ³•æ“ä½œç ä¸å›ºå®šå°†å¢åŠ æŒ‡ä»¤è¯‘ç å’Œåˆ†æçš„éš¾åº¦ï¼Œä½¿æ§åˆ¶å™¨çš„è®¾è®¡å¤æ‚ã€‚é€šå¸¸åœ¨æŒ‡ä»¤å­—ä¸­ç”¨ä¸€ä¸ªå›ºå®šé•¿åº¦çš„å­—æ®µæ¥è¡¨ç¤ºåŸºæœ¬æ“ä½œç ï¼Œè€Œå¯¹äºä¸€éƒ¨åˆ†ä¸éœ€è¦æŸä¸ªåœ°å€ç çš„æŒ‡ä»¤ï¼Œåˆ™æŠŠå®ƒä»¬çš„æ“ä½œç çš„é•¿åº¦æ‰©å……åˆ°è¯¥åœ°å€å­—æ®µã€‚ æŒ‡ä»¤å’Œæ•°æ®çš„å¯»å€æ–¹å¼é‡ç‚¹æŒæ¡ä¹¦ä¸Šçš„ä¾‹é¢˜ æŒ‡ä»¤çš„å¯»å€æ–¹å¼ é¡ºåºçš„å¯»å€æ–¹å¼æŒ‡ä»¤åœ¨å†…å­˜ä¸­å¼æŒ‰åœ°å€é¡ºåºå®‰æ’çš„ï¼Œæ‰§è¡Œç¨‹åºæ—¶ï¼Œé€šå¸¸æ˜¯ä¸€æ¡æŒ‡ä»¤æ¥ä¸€æ¡æŒ‡ä»¤é¡ºåºè¿›è¡Œã€‚ è·³è·ƒçš„å¯»å€æ–¹å¼å½“ç¨‹åºè¦è½¬ç§»æ‰§è¡Œçš„é¡ºåºæ—¶ï¼ŒæŒ‡ä»¤çš„å¯»å€å°±é‡‡å–è·³è·ƒå¯»å€æ–¹å¼ã€‚è·³è·ƒï¼Œåˆç§°è·³è½¬ï¼Œæ˜¯æŒ‡ä¸‹æ¡æŒ‡ä»¤çš„åœ°å€ç ä¸æ˜¯ç”±ç¨‹åºè®¡æ•°å™¨ç»™å‡ºï¼Œè€Œæ˜¯ç”±æœ¬æ¡æŒ‡ä»¤ç»™å‡ºã€‚ æ•°æ®çš„å¯»å€æ–¹å¼æ‰€è°“æ“ä½œæ•°å¯»å€æ–¹å¼ï¼Œå°±æ˜¯å½¢æˆæ“ä½œæ•°çš„æœ‰æ•ˆåœ°å€ï¼ˆEAï¼‰çš„æ–¹æ³•ã€‚æŒ‡ä»¤å­—ä¸­çš„åœ°å€ç å­—æ®µï¼Œé€šå¸¸æ˜¯ç”±å½¢å¼åœ°å€å’Œå¯»å€æ–¹å¼ç‰¹å¾ä½ç»„æˆçš„ï¼Œå¹¶ä¸æ˜¯æ“ä½œæ•°çš„æœ‰æ•ˆåœ°å€ã€‚ éšå«å¯»å€åœ¨æŒ‡ä»¤ä¸­ä¸æ˜æ˜¾çš„ç»™å‡ºè€Œæ˜¯éšå«ç€æ“ä½œæ•°çš„åœ°å€ã€‚ ç«‹å³å¯»å€æŒ‡ä»¤çš„åœ°å€å­—æ®µæŒ‡å‡ºçš„ä¸æ˜¯æ“ä½œæ•°çš„åœ°å€ï¼Œè€Œæ˜¯æ“ä½œæ•°æœ¬èº«ã€‚è¿™ç§æ–¹å¼çš„ç‰¹ç‚¹æ˜¯æŒ‡ä»¤æ‰§è¡Œæ—¶é—´å¾ˆçŸ­ï¼Œä¸éœ€è¦è®¿é—®å†…å­˜å–æ•°ï¼ˆæ“ä½œæ•°åœ¨åœ°å€ç å­—æ®µä¸­ï¼‰ã€‚ å¯„å­˜å™¨å¯»å€æ“ä½œæ•°æ”¾åœ¨ CPU çš„é€šç”¨å¯„å­˜å™¨ä¸­ï¼Œæ“ä½œæ•°æ‰€åœ¨çš„å¯„å­˜å™¨ç¼–å·å­˜æ”¾åœ¨æŒ‡ä»¤çš„åœ°å€å­—æ®µ A ä¸­ ç›´æ¥å¯»å€å¯„å­˜å™¨ç›´æ¥å¯»å€æ–¹å¼ï¼šæŒ‡ä»¤åœ°å€ç å­—æ®µç›´æ¥ç»™å‡ºæ‰€éœ€æ“ä½œæ•°åœ¨é€šç”¨å¯„å­˜å™¨ä¸­åœ°å€ç¼–å·ã€‚å­˜å‚¨å™¨ç›´æ¥å¯»å€æ–¹å¼ï¼šä¸€èˆ¬ç®€ç§°ç›´æ¥å¯»å€æ–¹å¼ï¼Œå…¶æŒ‡ä»¤åœ°å€ç å­—æ®µç›´æ¥ç»™å‡ºå­˜æ”¾åœ¨å­˜å‚¨å™¨ä¸­æ“ä½œæ•°çš„å­˜å‚¨åœ°å€ã€‚ é—´æ¥å¯»å€é—´æ¥å¯»å€çš„æƒ…å†µä¸‹ï¼ŒæŒ‡ä»¤åœ°å€å­—æ®µä¸­çš„å½¢å¼åœ°å€ A ä¸æ˜¯æ“ä½œæ•°çš„çœŸæ­£åœ°å€ï¼Œè€Œæ˜¯æ“ä½œæ•°åœ°å€çš„æŒ‡ç¤ºå™¨ï¼ŒA å•å…ƒçš„å†…å®¹æ˜¯æ“ä½œæ•°çš„æœ‰æ•ˆåœ°å€ã€‚å¯„å­˜å™¨é—´æ¥å¯»å€æ–¹å¼ï¼šå¯„å­˜å™¨é—´æ¥å¯»å€æ—¶ï¼Œéœ€å…ˆè®¿é—®å¯„å­˜å™¨ï¼Œä»å¯„å­˜å™¨è¯»å‡ºæ“ä½œæ•°åœ°å€åï¼Œå†è®¿é—®å­˜å‚¨å™¨æ‰èƒ½å–å¾—æ“ä½œæ•°ã€‚å­˜å‚¨å™¨é—´æ¥å¯»å€æ–¹å¼ï¼šå­˜å‚¨å™¨é—´æ¥å¯»å€æ—¶ï¼Œéœ€è®¿é—®ä¸¤æ¬¡å­˜å‚¨å™¨æ‰èƒ½å–å¾—æ•°æ®ï¼Œç¬¬ä¸€æ¬¡å…ˆä»å­˜å‚¨å™¨è¯»å‡ºæ“ä½œæ•°åœ°å€ï¼Œç¬¬äºŒæ¬¡æ‰èƒ½æ ¹æ®è¯»å‡ºçš„æ“ä½œæ•°åœ°å€å†å–å‡ºçœŸæ­£çš„æ“ä½œæ•°ã€‚ ç›¸å¯¹å¯»å€æ‰€è°“ç›¸å¯¹å¯»å€æ–¹å¼ï¼Œæ˜¯æŒ‡æ ¹æ®ä¸€ä¸ªåŸºå‡†åœ°å€åŠå…¶ç›¸å¯¹é‡æ¥å¯»æ‰¾æ“ä½œæ•°åœ°å€çš„æ–¹å¼PCç›¸å¯¹å¯»å€æ–¹å¼ï¼Œä¸€èˆ¬ç®€ç§°ç›¸å¯¹å¯»å€æ–¹å¼ï¼Œæ˜¯æŒ‡å°†ç¨‹åºè®¡æ•°å™¨ PCçš„å†…å®¹ï¼ˆå³å½“å‰æ‰§è¡ŒæŒ‡ä»¤çš„åœ°å€ï¼‰ä¸åœ°å€ç éƒ¨åˆ†ç»™å‡ºçš„ä½ç§»é‡(Disp)é€šè¿‡åŠ æ³•å™¨ç›¸åŠ ï¼Œæ‰€å¾—ä¹‹å’Œä½œä¸ºæ“ä½œæ•°çš„æœ‰æ•ˆåœ°å€çš„æ–¹å¼ã€‚ åŸºå€å¯»å€è®¡ç®—æœºè®¾ç½®ä¸€ä¸ªå¯„å­˜å™¨ï¼Œä¸“é—¨ç”¨æ¥å­˜æ”¾åŸºå‡†åœ°å€ï¼Œè¯¥å¯„å­˜å™¨å°±æ˜¯åŸºå€å¯„å­˜å™¨(RB)ã€‚RB æ—¢å¯åœ¨ CPU ä¸­ä¸“è®¾ï¼Œä¹Ÿå¯ç”±æŒ‡ä»¤æŒ‡å®šæŸä¸ªé€šç”¨å¯„å­˜å™¨æ‹…ä»»ã€‚åŸºå€å¯»å€æ–¹å¼æ˜¯å°† CPU ä¸­åŸºå€å¯„å­˜å™¨ RB çš„å†…å®¹åŠ ä¸ŠæŒ‡ä»¤æ ¼å¼ä¸­çš„å½¢å¼åœ°å€ A è€Œå½¢æˆæ“ä½œæ•°çš„æœ‰æ•ˆåœ°å€ã€‚ä¼˜ç‚¹æ˜¯å¯ä»¥æ‰©å¤§å¯»å€èƒ½åŠ›ã€‚åŒå½¢å¼åœ°å€ç›¸æ¯”ï¼ŒåŸºå€å¯„å­˜å™¨çš„ä½æ•°å¯ä»¥è®¾ç½®å¾—å¾ˆé•¿ï¼Œä»è€Œå¯ä»¥åœ¨è¾ƒå¤§çš„å­˜å‚¨ç©ºé—´ä¸­å¯»å€ã€‚ å˜å€å¯»å€å˜å€å¯»å€æ–¹å¼ä¸åŸºå€å¯»å€æ–¹å¼è®¡ç®—æœ‰æ•ˆåœ°å€çš„æ–¹æ³•å¾ˆç›¸ä¼¼ï¼Œå®ƒæŠŠ CPU ä¸­æŸä¸ªå˜å€å¯„å­˜å™¨çš„å†…å®¹ä¸åç§»é‡ D ç›¸åŠ æ¥å½¢æˆæ“ä½œæ•°æœ‰æ•ˆåœ°å€ã€‚ å †æ ˆå¯»å€æ“ä½œæ•°ä½äºå­˜å‚¨å™¨ä¸­ï¼Œæ“ä½œæ•°æ‰€åœ¨çš„å­˜å‚¨å™¨åœ°å€ EA ç”±å †æ ˆæŒ‡é’ˆå¯„å­˜å™¨ SP éšå«æŒ‡å‡ºï¼Œé€šå¸¸ç”¨äºå †æ ˆæŒ‡ä»¤ã€‚ æŒ‡ä»¤çš„åˆ†ç±» æ•°æ®ä¼ é€æŒ‡ä»¤ ç®—æœ¯/é€»è¾‘è¿ç®—æŒ‡ä»¤ ç§»ä½æ“ä½œæŒ‡ä»¤ ç¨‹åºæ§åˆ¶æŒ‡ä»¤ è¾“å…¥è¾“å‡ºæŒ‡ä»¤ å­—ç¬¦ä¸²å¤„ç†æŒ‡ä»¤ å †æ ˆæ“ä½œæŒ‡ä»¤ ç‰¹æƒæŒ‡ä»¤ å…¶ä»–æŒ‡ä»¤ï¼ˆçŠ¶æ€å¯„å­˜å™¨ç½®ä½ã€å¤ä½æŒ‡ä»¤ã€æµ‹è¯•æŒ‡ä»¤ã€æš‚åœæŒ‡ä»¤ï¼Œç©ºæ“ä½œæŒ‡ä»¤ï¼Œä»¥åŠå…¶ä»–ä¸€äº›ç³»ç»Ÿæ§åˆ¶ç”¨çš„ç‰¹æ®ŠæŒ‡ä»¤ã€‚ï¼‰]]></content>
      <tags>
        <tag>è®¡ç®—æœºç»„æˆåŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç®—æœºç»„æˆåŸç†â€”â€”å­˜å‚¨å™¨åŠå­˜å‚¨ç³»ç»Ÿ]]></title>
    <url>%2Fblog%2Fposts%2F46991%2F</url>
    <content type="text"><![CDATA[å­˜å‚¨å™¨çš„åˆ†ç±» æŒ‰å­˜å‚¨ä»‹è´¨åˆ†åŠå¯¼ä½“å­˜å‚¨å™¨ï¼šå¦‚ ramã€romï¼Œç”¨ä½œä¸»å­˜ç£è¡¨é¢å­˜å‚¨å™¨ï¼šå¦‚ç£ç›˜ã€ç£å¸¦ï¼Œç”¨ä½œè¾…å­˜æ¿€å…‰å­˜å‚¨å™¨ï¼šå…‰ç›˜ï¼Œç”¨ä½œè¾…å­˜ æŒ‰å­˜å‚¨æ–¹å¼åˆ†éšæœºå­˜å‚¨å™¨ï¼ˆRAMï¼‰ï¼šä»»ä½•å­˜å‚¨å•å…ƒçš„å†…å®¹éƒ½èƒ½è¢«éšæœºå­˜å–ï¼Œä¸”å­˜å–æ—¶é—´å’Œå­˜å‚¨å•å…ƒçš„ç‰©ç†ä½ç½®æ— å…³ä¸²è¡Œè®¿é—®å­˜å‚¨å™¨ï¼ˆSASï¼‰ï¼šå­˜å‚¨å•å…ƒçš„å†…å®¹åªèƒ½æŒ‰æŸç§é¡ºåºæ¥å­˜å–ï¼Œå­˜å–æ—¶é—´ä¸å­˜å‚¨å•å…ƒçš„ç‰©ç†ä½ç½®æœ‰å…³ï¼Œå–å†³äºè®¿é—®å­˜å‚¨å•å…ƒçš„åœ°å€é¡ºåºåªè¯»å­˜å‚¨å™¨ï¼ˆROMï¼‰ï¼šå¯¹å†…å®¹åªèƒ½è¯»ä¸èƒ½å†™å…¥çš„å­˜å‚¨å™¨ã€‚ æŒ‰ä¿¡æ¯çš„å¯ä¿å­˜æ€§åˆ†éæ°¸ä¹…æ€§è®°å¿†çš„å­˜å‚¨å™¨ï¼šæ–­ç”µåä¿¡æ¯å³æ¶ˆå¤±çš„å­˜å‚¨å™¨ï¼ˆRAMï¼‰æ°¸ä¹…æ€§è®°å¿†çš„å­˜å‚¨å™¨ï¼šæ°¸ä¹…è®°å¿†æ€§å­˜å‚¨å™¨ï¼ˆROMï¼‰ æŒ‰åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­çš„ä½œç”¨åˆ†ä¸»å­˜å‚¨å™¨ã€è¾…åŠ©å­˜å‚¨å™¨ã€é«˜é€Ÿç¼“å­˜å­˜å‚¨å™¨ã€æ§åˆ¶å­˜å‚¨å™¨ å­˜å‚¨å™¨çš„æ€§èƒ½æŒ‡æ ‡ ï¼š é€Ÿåº¦ ä»·æ ¼ å®¹é‡ å­˜å‚¨å™¨çš„åˆ†çº§ç»“æ„å¦‚å›¾æ‰€ç¤ºè¾…å­˜ã€ä¸»å­˜å’Œç¼“å­˜çš„ä¸‰çº§å­˜å‚¨ç³»ç»Ÿç»“æ„ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œâ€œCacheï¼ä¸»å­˜â€å±‚æ¬¡ç”¨æ¥å¼¥è¡¥ä¸»å­˜é€Ÿåº¦çš„ä¸è¶³ï¼›â€œä¸»å­˜ï¼è¾…å­˜â€å±‚æ¬¡ç”¨æ¥å¼¥è¡¥ä¸»å­˜å®¹é‡çš„ä¸è¶³ã€‚ ä¸»å­˜å‚¨å™¨ä¸»å­˜å‚¨å™¨çš„æ€§èƒ½æŒ‡æ ‡ å­˜å‚¨å®¹é‡ï¼šåœ¨ä¸€ä¸ªå­˜å‚¨å™¨ä¸­å¯ä»¥å®¹çº³çš„å‡ºå­˜å‚¨å™¨çš„å•å…ƒæ€»æ•°é€šå¸¸ç§°ä¸ºè¯¥å­˜å‚¨å™¨çš„å­˜å‚¨å®¹é‡ï¼ˆå•ä½ï¼šå­—èŠ‚ Bï¼‰ å­˜å–æ—¶é—´ï¼šå­˜å‚¨å™¨æ¥å—åˆ°å‘½ä»¤åˆ°å­˜å‚¨å™¨è¯»ï¼ˆå†™ï¼‰å‡ºä¿¡æ¯çš„æ—¶é—´ å­˜å–å‘¨æœŸï¼šè¿ç»­è®¿é—®æ“ä½œè¿‡ç¨‹ä¸€æ¬¡å®Œæ•´å­˜å–æ“ä½œçš„æ—¶é—´ã€‚ å­˜å‚¨å™¨å¸¦å®½ï¼šå•ä½æ—¶é—´å†…å­˜å‚¨å™¨æ‰€å­˜å–çš„ä¿¡æ¯é‡ï¼ˆä½/ç§’ï¼Œå­—èŠ‚/ç§’ï¼‰ åŠå¯¼ä½“å­˜å‚¨å™¨èŠ¯ç‰‡SRAMï¼šé™æ€éšæœºå­˜å–å­˜å‚¨å™¨ï¼Œæ˜¯éšæœºå­˜å–å­˜å‚¨å™¨çš„ä¸€ç§ã€‚æ‰€è°“çš„â€œé™æ€â€ï¼Œæ˜¯æŒ‡è¿™ç§å­˜å‚¨å™¨åªè¦ä¿æŒé€šç”µï¼Œé‡Œé¢å‚¨å­˜çš„æ•°æ®å°±å¯ä»¥æ’å¸¸ä¿æŒã€‚DRAMï¼šåŠ¨æ€éšæœºå­˜å–å­˜å‚¨å™¨ï¼Œæ˜¯ä¸€ç§åŠå¯¼ä½“å†…å­˜ï¼Œä¸»è¦çš„ä½œç”¨åŸç†æ˜¯åˆ©ç”¨ç”µå®¹å†…å­˜å‚¨ç”µè·çš„å¤šå¯¡æ¥ä»£è¡¨ä¸€ä¸ªäºŒè¿›åˆ¶æ¯”ç‰¹ï¼ˆbitï¼‰æ˜¯ 1 è¿˜æ˜¯ 0ï¼ˆç”µå®¹ä¸Šç”µè·çš„æœ‰æ— ï¼‰ã€‚ç”±äºåœ¨ç°å®ä¸­ç”µå®¹ä¼šæœ‰æ¼ç”µçš„ç°è±¡ï¼Œå¯¼è‡´ç”µä½å·®ä¸è¶³è€Œä½¿è®°å¿†æ¶ˆå¤±ï¼Œå› æ­¤é™¤éç”µå®¹ç»å¸¸å‘¨æœŸæ€§åœ°å……ç”µï¼Œå¦åˆ™æ— æ³•ç¡®ä¿è®°å¿†é•¿å­˜ã€‚ç”±äºè¿™ç§éœ€è¦å®šæ—¶åˆ·æ–°çš„ç‰¹æ€§ï¼Œå› æ­¤è¢«ç§°ä¸ºâ€œåŠ¨æ€â€å†…å­˜ã€‚ç›¸å¯¹æ¥è¯´ï¼Œé™æ€å†…å­˜ï¼ˆSRAMï¼‰åªè¦å­˜å…¥æ•°æ®åï¼Œçºµä½¿ä¸åˆ·æ–°ä¹Ÿä¸ä¼šä¸¢å¤±è®°å¿†ã€‚SRAM çš„å­˜å–é€Ÿåº¦å¿«ï¼Œä½†é›†æˆåº¦ä½ï¼ŒåŠŸè€—è¾ƒå¤§ï¼Œä¸€èˆ¬ç”¨æ¥ç»„æˆé«˜é€Ÿç¼“å†²å­˜å‚¨å™¨ã€‚DRAM å…·æœ‰å®¹æ˜“é›†æˆï¼Œä½ä»·ä½ï¼Œå®¹é‡å¤§å’ŒåŠŸè€—ä½ç­‰ä¼˜ç‚¹ã€‚ä½†æ˜¯å­˜å–é€Ÿåº¦æ¯” SRAM æ…¢ï¼Œä¸€èˆ¬ç”¨æ¥ç»„æˆå¤§å®¹é‡çš„ä¸»å­˜ç³»ç»Ÿã€‚ åŠ¨æ€ MOS å­˜å‚¨å™¨ DRAM çš„åˆ·æ–° é‡‡ç”¨è¯»å‡ºçš„æ–¹å¼è¿›è¡Œåˆ·æ–°ï¼ŒæŒ‰è¡Œæ¥åˆ·æ–°ï¼Œï¼ˆè¡Œï¼šå•ä¸ªèŠ¯ç‰‡çš„å•ä¸ªçŸ©é˜µçš„è¡Œæ•°ï¼‰ åˆ·æ–°æœ‰ä¸‰ç§æ–¹å¼ï¼šé›†ä¸­å¼ã€åˆ†æ•£å¼ã€å¼‚æ­¥å¼åŠå¯¼ä½“åªè¯»å­˜å‚¨å™¨ MROM(æ©æ¨¡å‹)ï¼šæ©æ¨¡å·¥è‰ºåˆ¶ä½œ, åªèƒ½è¯»å‡º, ä¸èƒ½å†™ï¼Œå¯é æ€§é«˜, é›†æˆåº¦é«˜, ä¸èƒ½é‡å†™ PROM: å¯ä¸€æ¬¡ç¼–ç¨‹ä¹‹ç›¾å­˜å‚¨å™¨ EPROM: å¯æ“¦å»å¯å˜æˆåªè¯»å­˜å‚¨å™¨(ç”¨ç´«å¤–å…‰æ“¦å»å¹¶ä¸”å¯ä»¥é‡å¤ç¼–ç¨‹) EEPROM: ç”µæ“¦å»å¯é‡å†™åªè¯»å­˜å‚¨å™¨ Flash Memoey(é—ªå­˜å­˜å‚¨å™¨)æ–°å‹çš„ç”µæ“¦å»å¯ç¼–ç¨‹ ROM, åœ¨ EPROM åŠŸèƒ½åŸºç¡€ä¸Šå¢åŠ äº†èŠ¯ç‰‡çš„ç‚¹æ“¦é™¤å’Œé‡æ–°ç¼–ç¨‹èƒ½åŠ›å¼ºç‰¹ç‚¹: é«˜å¯†åº¦, å¯ç›´æ¥æ‰§è¡Œ, å…·æœ‰ RAM çš„è¯»å†™åŠŸèƒ½ å­˜å‚¨å™¨ä¸ CPU çš„è¿æ¥ï¼ˆè§ä¹¦æœ¬å’Œç¬”è®°ï¼‰ ä½æ‰©å±• å­—æ‰©å±• é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨Cache çš„åŠŸèƒ½ä¸åŸºæœ¬åŸç† Cache æ˜¯æŒ‡ä½äº CPU å’Œä¸»å­˜ä¹‹é—´çš„ä¸€ä¸ªé«˜é€Ÿå°å®¹é‡çš„å­˜å‚¨å™¨ï¼Œä¸€èˆ¬ç”± SRAM æ„æˆã€‚ Cache åŠŸèƒ½ï¼šç”¨äºå¼¥è¡¥ CPU å’Œä¸»å­˜ä¹‹é—´çš„é€Ÿåº¦å·®å¼‚ï¼Œæé«˜ CPU è®¿é—®ä¸»å­˜çš„å¹³å‡é€Ÿåº¦ã€‚ è®¾ç½® Cache çš„ç†è®ºåŸºç¡€ï¼Œæ˜¯ç¨‹åºè®¿é—®çš„å±€éƒ¨æ€§åŸç†ã€‚ Cache çš„å†…å®¹æ˜¯ä¸»å­˜éƒ¨åˆ†å†…å®¹çš„å‰¯æœ¬ï¼ŒCache çš„åŠŸèƒ½å‡ç”±ç¡¬ä»¶å®ç°ï¼Œå¯¹ç¨‹åºå‘˜æ˜¯é€æ˜çš„ã€‚åŸºæœ¬åŸç† CPU ä¸ Cache ä¹‹é—´çš„æ•°æ®äº¤æ¢æ˜¯ä»¥å­—ä¸ºå•ä½ï¼Œè€Œ Cache ä¸ä¸»å­˜ä¹‹é—´çš„æ•°æ®äº¤æ¢æ˜¯ä»¥å—ä¸ºå•ä½ã€‚ä¸€ä¸ªå—ç”±è‹¥å¹²å®šé•¿å­—ç»„æˆçš„ã€‚ å½“ CPU è¯»å–ä¸»å­˜ä¸­ä¸€ä¸ªå­—æ—¶ï¼Œä¾¿å‘å‡ºæ­¤å­—çš„å†…å­˜åœ°å€åˆ° Cache å’Œä¸»å­˜ã€‚ æ­¤æ—¶ Cache æ§åˆ¶é€»è¾‘ä¾æ®åœ°å€åˆ¤æ–­æ­¤å­—å½“å‰æ˜¯å¦åœ¨ Cache ä¸­ï¼šè‹¥åœ¨(ç§°ä¸º ~å‘½ä¸­~ ï¼‰ï¼Œæ­¤å­—ç«‹å³ä¼ é€ç»™ CPUï¼›è‹¥ä¸åœ¨(ç§°ä¸º ~ä¸å‘½ä¸­~ ï¼‰ï¼Œåˆ™ç”¨ä¸»å­˜è¯»å‘¨æœŸæŠŠæ­¤å­—ä»ä¸»å­˜è¯»å‡ºé€åˆ° CPUï¼Œä¸æ­¤åŒæ—¶ï¼ŒæŠŠå«æœ‰è¿™ä¸ªå­—çš„æ•´ä¸ªæ•°æ®å—ä»ä¸»å­˜è¯»å‡ºé€åˆ° Cache ä¸­ã€‚ç”±å§‹ç»ˆç®¡ç† Cache ä½¿ç”¨æƒ…å†µçš„ç¡¬ä»¶é€»è¾‘ç”µè·¯æ¥å®ç° LRU æ›¿æ¢ç®—æ³•ã€‚ ä¸»å­˜ä¸ Cache çš„åœ°å€æ˜ å°„ä¸‰ç§æ–¹å¼ï¼šç›´æ¥æ–¹å¼ã€å…¨ç›¸è”ã€ç»„ç›¸è” ç›´æ¥æ˜ å°„æ–¹å¼è‹¥ä¸»å­˜çš„ç¬¬ j å—ä¸€å®šæ˜ å°„åˆ° Cache çš„ç¬¬ i è¡Œï¼ŒCache çš„è¡Œå· i å’Œä¸»å­˜çš„å—å· j æœ‰å¦‚ä¸‹å‡½æ•°å…³ç³»ï¼ši = j mod mï¼ˆm æ˜¯ Cache ä¸­çš„æ€»è¡Œæ•°ã€‚ä¼˜ç‚¹æ˜¯ç¡¬ä»¶ç®€å•ï¼Œæˆæœ¬ä½ã€‚ç¼ºç‚¹æ˜¯æ¯ä¸ªä¸»å­˜å—åªæœ‰ä¸€ä¸ªå›ºå®šçš„è¡Œä½ç½®å¯å­˜æ”¾ï¼Œå®¹æ˜“äº§ç”Ÿå†²çªã€‚å› æ­¤é€‚åˆå¤§å®¹é‡ Cache é‡‡ç”¨ã€‚ å…¨ç›¸è”æ˜ å°„æ–¹å¼ä¸»å­˜ä¸­ä¸€ä¸ªå—çš„åœ°å€ä¸å—çš„å†…å®¹ä¸€èµ·å­˜äº Cache çš„è¡Œä¸­ï¼Œå…¶ä¸­å—åœ°å€å­˜äº Cache è¡Œçš„æ ‡è®°éƒ¨åˆ†ä¸­ã€‚è¿™ç§æ–¹æ³•å¯ä½¿ä¸»å­˜çš„ä¸€ä¸ªå—ç›´æ¥æ‹·è´åˆ° Cache ä¸­çš„ä»»æ„ä¸€è¡Œä¸Šï¼Œéå¸¸çµæ´»ã€‚å®ƒçš„ä¸»è¦ç¼ºç‚¹æ˜¯æ¯”è¾ƒå™¨ç”µè·¯éš¾äºè®¾è®¡å’Œå®ç°,å› æ­¤åªé€‚åˆäºå°å®¹é‡ Cache é‡‡ç”¨ã€‚ ç»„ç›¸è”æ˜ å°„æ–¹å¼è¿™æ˜¯å‰ä¸¤ç§æ–¹å¼çš„æŠ˜è¡·æ–¹æ¡ˆã€‚å®ƒæŠŠ Cache å­˜å‚¨å™¨åˆ†ä¸ºè‹¥å¹²ä¸ªç»„ï¼Œæ¯ç»„åŒ…å«è‹¥å¹²ä¸ªé¡µé¢ã€‚ç»„é—´é‡‡ç”¨ç›´æ¥æ˜ åƒï¼Œè€Œç»„å†…çš„é¡µé¢åˆ™é‡‡ç”¨å…¨ç›¸è”æ˜ åƒã€‚ç»„ç›¸è”æ˜ å°„æ–¹å¼ä¸­çš„æ¯ç»„è¡Œæ•° v ä¸€èˆ¬å–å€¼è¾ƒå°ï¼Œè¿™ç§è§„æ¨¡çš„ v è·¯æ¯”è¾ƒå™¨å®¹æ˜“è®¾è®¡å’Œå®ç°ã€‚è€Œå—åœ¨ç»„ä¸­çš„æ’æ”¾åˆæœ‰ä¸€å®šçš„çµæ´»æ€§ï¼Œå†²çªå‡å°‘ã€‚ å¤šä½“äº¤å‰å­˜å‚¨å™¨ å‡ºå‘ç‚¹ï¼šèƒ½å¤Ÿå®ç°åŒæ—¶ä»å­˜å‚¨å™¨å–å‡º n æ¡æŒ‡ä»¤ ç‰¹ç‚¹ï¼šé€šè¿‡æ”¹è¿›ä¸»å­˜çš„ç»„ç»‡æ–¹å¼ï¼Œåœ¨ä¸æ”¹å˜å­˜å‚¨å™¨å­˜å–å‘¨æœŸçš„æƒ…å†µä¸‹ï¼Œæé«˜å­˜å‚¨å™¨çš„å¸¦å®½ã€‚ ç»“æ„ç‰¹ç‚¹ï¼šå¤šä½“äº¤å‰å­˜å‚¨å™¨ç”± M ä¸ªçš„å­˜å‚¨ä½“ï¼ˆæˆ–ç§°å­˜å‚¨æ¨¡å—ï¼‰ç»„æˆï¼Œæ¯ä¸ªå­˜å‚¨ä½“æœ‰ç›¸åŒçš„å®¹é‡å’Œå­˜å–é€Ÿåº¦ï¼Œåˆæœ‰å„è‡ªç‹¬ç«‹çš„åœ°å€å¯„å­˜å™¨ã€åœ°å€è¯‘ç å™¨ã€è¯»å†™ç”µè·¯å’Œé©±åŠ¨ç”µè·¯ã€‚ æ¯ä¸ªæ¨¡å—å„è‡ªä»¥ç­‰åŒçš„æ–¹å¼ä¸ CPU ä¼ é€ä¿¡æ¯ã€‚CPU åŒæ—¶è®¿é—®å››ä¸ªæ¨¡å—ï¼Œç”±å­˜å‚¨å™¨æ§åˆ¶éƒ¨ä»¶æ§åˆ¶å®ƒä»¬åˆ†æ—¶ä½¿ç”¨æ•°æ®æ€»çº¿è¿›è¡Œä¿¡æ¯ä¼ é€’ã€‚è¿™æ˜¯ä¸€ç§å¹¶è¡Œå­˜å‚¨å™¨ç»“æ„ã€‚ è™šæ‹Ÿå­˜å‚¨å™¨åŸºæœ¬æ¦‚å¿µè™šæ‹Ÿå­˜å‚¨å™¨æ˜¯å»ºç«‹åœ¨ä¸»å­˜â€”â€”è¾…å­˜ç‰©ç†ç»“æ„åŸºç¡€ä¹‹ä¸Šï¼Œç”±é™„åŠ ç¡¬ä»¶è£…ç½®ä»¥åŠæ“ä½œç³»ç»Ÿå­˜å‚¨ç®¡ç†è½¯ä»¶ç»„æˆçš„ä¸€ç§å­˜å‚¨ä½“ç³»ï¼Œå®ƒæŠŠä¸»å­˜å’Œè¾…å­˜çš„åœ°å€ç©ºé—´ç»Ÿä¸€ç¼–å€ï¼Œå½¢æˆä¸€ä¸ªåºå¤§çš„å­˜å‚¨ç©ºé—´ã€‚ å®åœ°å€å’Œè™šåœ°å€ å®åœ°å€ï¼šå®é™…çš„ä¸»å­˜å‚¨å™¨å•å…ƒçš„åœ°å€ï¼Œå³ä¸»å­˜åœ°å€ï¼Œæˆ–å«ç‰©ç†åœ°å€ã€‚ è™šåœ°å€ï¼šè™šæ‹Ÿå­˜å‚¨å™¨çš„è¾…å­˜éƒ¨åˆ†ä¹Ÿèƒ½è®©ç”¨æˆ·è±¡å†…å­˜ä¸€æ ·ä½¿ç”¨ï¼Œç”¨æˆ·ç¼–ç¨‹æ—¶æŒ‡ä»¤åœ°å€å…è®¸æ¶‰åŠåˆ°è¾…å­˜çš„ç©ºé—´èŒƒå›´ï¼Œè¿™ç§æŒ‡ä»¤åœ°å€ç§°ä¸ºâ€œè™šåœ°å€â€ï¼ˆå³è™šæ‹Ÿåœ°å€ï¼‰ï¼Œæˆ–å«â€œé€»è¾‘åœ°å€â€ã€‚ è™šæ‹Ÿå­˜å‚¨å™¨çš„ç”¨æˆ·ç¨‹åºä»¥è™šåœ°å€ç¼–å€å¹¶å­˜æ”¾åœ¨è¾…å­˜é‡Œï¼Œç¨‹åºè¿è¡Œæ—¶ CPU ä»¥è™šåœ°å€è®¿é—®ä¸»å­˜ï¼Œç”±è¾…åŠ©ç¡¬ä»¶æ‰¾å‡ºè™šåœ°å€å’Œç‰©ç†åœ°å€çš„å¯¹åº”å…³ç³» ä¸»å­˜â€”â€”å¤–å­˜å±‚æ¬¡å’Œ Cacheâ€”â€”ä¸»å­˜å±‚æ¬¡ç”¨çš„åœ°å€å˜æ¢æ˜ å°„æ–¹æ³•å’Œæ›¿æ¢ç­–ç•¥æ˜¯ç›¸åŒçš„ï¼Œéƒ½åŸºäºç¨‹åºå±€éƒ¨æ€§åŸç†ã€‚ è™šæ‹Ÿå­˜å‚¨å™¨å’Œ Cache çš„åŒºåˆ« Cache å­˜å‚¨å™¨é‡‡ç”¨ä¸ CPU é€Ÿåº¦åŒ¹é…çš„å¿«é€Ÿå­˜å‚¨å…ƒä»¶æ¥å¼¥è¡¥ä¸»å­˜å’Œ CPU ä¹‹é—´çš„é€Ÿåº¦å·®è·ï¼›è€Œè™šæ‹Ÿå­˜å‚¨å™¨çš„ä¸»è¦åŠŸèƒ½æ˜¯å¼¥è¡¥äº†ä¸»å­˜å’Œè¾…å­˜ä¹‹é—´çš„å®¹é‡å·®è·ã€‚ ä¸¤ä¸ªå­˜å‚¨ä½“ç³»å‡ä»¥ä¿¡æ¯å—ä½œä¸ºå­˜å‚¨å±‚æ¬¡ä¹‹é—´åŸºæœ¬ä¿¡æ¯çš„ä¼ é€’å•ä½ï¼šCache å­˜å‚¨å™¨æ¯æ¬¡ä¼ é€’æ˜¯å®šé•¿çš„çš„ä¿¡æ¯å—ï¼Œé•¿åº¦åªæœ‰å‡ åå­—èŠ‚ï¼›è€Œè™šæ‹Ÿå­˜å‚¨å™¨ä¿¡æ¯å—åˆ’åˆ†æ–¹æ¡ˆå¾ˆå¤šï¼Œæœ‰é¡µã€æ®µç­‰ç­‰ï¼Œé•¿åº¦å‡åœ¨å‡ ç™¾ B~å‡ ç™¾ KBå·¦å³ã€‚ CPU è®¿é—®å¿«é€Ÿ Cache å­˜å‚¨å™¨çš„é€Ÿåº¦æ¯”è®¿é—®æ…¢é€Ÿä¸»å­˜å¿« 5~10 å€ã€‚è™šæ‹Ÿå­˜å‚¨å™¨ä¸­ä¸»å­˜çš„é€Ÿåº¦è¦æ¯”è¾…å­˜å¿« 100~1000 å€ä»¥ä¸Šã€‚ Cache å­˜å‚¨å™¨å­˜å–ä¿¡æ¯çš„è¿‡ç¨‹ã€åœ°å€å˜æ¢å’Œæ›¿æ¢ç­–ç•¥å…¨éƒ¨ç”¨ç¡¬ä»¶å®ç°ã€‚ä¸»ï½è¾…å±‚æ¬¡çš„è™šæ‹Ÿå­˜å‚¨å™¨åŸºæœ¬ä¸Šç”±æ“ä½œç³»ç»Ÿçš„å­˜å‚¨ç®¡ç†è½¯ä»¶è¾…åŠ©ä¸€äº›ç¡¬ä»¶è¿›è¡Œä¿¡æ¯å—çš„åˆ’åˆ†å’Œä¸»ï½è¾…å­˜ä¹‹é—´çš„è°ƒåº¦ã€‚ ä¸»å­˜ï½ Cache å­˜å‚¨ä½“ç³»ä¸­ CPU ä¸ Cache å’Œä¸»å­˜éƒ½å»ºç«‹äº†ç›´æ¥è®¿é—®çš„é€šè·¯ï¼Œä¸€æ—¦åœ¨ä¸»å­˜å‘½ä¸­ï¼ŒCPU å°†ç›´æ¥è®¿é—®ä¸»å­˜ï¼›è¾…åŠ©å­˜å‚¨å™¨ä¸ CPU ä¹‹é—´æ²¡æœ‰ç›´æ¥é€šè·¯ï¼Œä¸€æ—¦åœ¨ä¸»å­˜ä¸å‘½ä¸­ï¼Œåªèƒ½ä»è¾…å­˜è°ƒåº¦ä¿¡æ¯å—åˆ°ä¸»å­˜ã€‚åŒæ—¶å› ä¸ºè¾…å­˜çš„é€Ÿåº¦ç›¸å¯¹ CPU å·®è·å¤ªå¤§ï¼Œè°ƒåº¦éœ€è¦æ¯«ç§’çº§æ—¶é—´ï¼Œå› æ­¤ CPU ä¸€èˆ¬å°†æ”¹æ¢æ‰§è¡Œå¦ä¸€ä¸ªç¨‹åºï¼Œç­‰åˆ°è°ƒåº¦å®Œæˆåå†è¿”å›åŸç¨‹åºç»§ç»­å·¥ä½œã€‚ é¡µå¼è™šæ‹Ÿå­˜å‚¨å™¨ é¡µæ˜¯ä¸»å­˜ç‰©ç†ç©ºé—´ä¸­åˆ’åˆ†å‡ºæ¥çš„ç­‰é•¿çš„å›ºå®šåŒºåŸŸã€‚ é¡µå¼è™šæ‹Ÿå­˜å‚¨ç³»ç»Ÿä¸­ï¼Œè™šæ‹Ÿç©ºé—´åˆ†æˆé¡µï¼Œç§°ä¸ºé€»è¾‘é¡µï¼›ä¸»å­˜ç©ºé—´ä¹Ÿåˆ†æˆåŒæ ·å¤§å°çš„é¡µï¼Œç§°ä¸ºç‰©ç†é¡µã€‚ è™šå­˜åœ°å€åˆ†ä¸ºä¸¤ä¸ªå­—æ®µï¼šé€»è¾‘é¡µå· é¡µå†…è¡Œåœ°å€ å®å­˜åœ°å€ä¹Ÿåˆ†ä¸¤ä¸ªå­—æ®µï¼šç‰©ç†é¡µå· é¡µå†…è¡Œåœ°å€ ~è™šæ‹Ÿå­˜å‚¨å™¨åœ°å€~åˆ°~ä¸»å­˜åœ°å€~çš„å˜æ¢æ˜¯ç”±æ”¾åœ¨ä¸»å­˜çš„é¡µè¡¨å®ç°çš„ã€‚ é¡µè¡¨ä¸­æ¯ä¸€ä¸ªè™šå­˜é€»è¾‘é¡µå·æœ‰ä¸€ä¸ªè¡¨ç›®ï¼Œè¡¨ç›®å†…å®¹åŒ…å«è¯¥é€»è¾‘é¡µæ‰€åœ¨çš„ä¸»å­˜é¡µé¢åœ°å€(ç‰©ç†é¡µå·)ï¼Œç”¨å®ƒä½œä¸ºå®å­˜åœ°å€çš„é«˜å­—æ®µï¼Œä¸è™šå­˜åœ°å€çš„é¡µå†…è¡Œåœ°å€å­—æ®µç›¸æ‹¼æ¥ï¼Œäº§ç”Ÿå®Œæ•´çš„å®ä¸»å­˜åœ°å€ï¼Œæ®æ­¤æ¥è®¿é—®ä¸»å­˜ã€‚ ä¸ºäº†é¿å…é¡µè¡¨å·²ä¿å­˜æˆ–å·²è°ƒå…¥ä¸»å­˜å‚¨å™¨æ—¶å¯¹ä¸»å­˜è®¿é—®æ¬¡æ•°çš„å¢å¤šï¼ŒæŠŠé¡µè¡¨çš„æœ€æ´»è·ƒéƒ¨åˆ†å­˜æ”¾åœ¨é«˜é€Ÿå­˜å‚¨å™¨ä¸­ç»„æˆå¿«è¡¨ã€‚ å¿«è¡¨ç”±ç¡¬ä»¶ç»„æˆï¼Œæ¯”é¡µè¡¨å°å¾—å¤šï¼Œåªæ˜¯æ…¢è¡¨çš„å°å‰¯æœ¬ã€‚æŸ¥è¡¨æ—¶ï¼Œç”±é€»è¾‘é¡µå·åŒæ—¶å»æŸ¥å¿«è¡¨å’Œæ…¢è¡¨ï¼Œå½“åœ¨å¿«è¡¨ä¸­æœ‰æ­¤é€»è¾‘é¡µå·æ—¶ï¼Œå°±èƒ½å¾ˆå¿«åœ°æ‰¾åˆ°å¯¹åº”çš„ç‰©ç†é¡µå·é€å…¥å®ä¸»å­˜åœ°å€å¯„å­˜å™¨ã€‚ ä¼˜ç‚¹æ˜¯é¡µé¢çš„èµ·ç‚¹å’Œç»ˆç‚¹åœ°å€æ˜¯å›ºå®šçš„,æ–¹ä¾¿é€ é¡µè¡¨,æ–°é¡µè°ƒå…¥ä¸»å­˜ä¹Ÿå¾ˆå®¹æ˜“æŒæ¡ï¼Œæ¯”æ®µå¼ç©ºé—´æµªè´¹å°ã€‚ ç¼ºç‚¹æ˜¯å¤„ç†ã€ä¿æŠ¤å’Œå…±äº«éƒ½ä¸åŠæ®µå¼æ¥å¾—æ–¹ä¾¿ã€‚ æ®µå¼è™šæ‹Ÿå­˜å‚¨å™¨ æ®µæ˜¯æŒ‰ç…§ç¨‹åºçš„é€»è¾‘ç»“æ„åˆ’åˆ†æˆçš„å¤šä¸ªç›¸å¯¹ç‹¬ç«‹éƒ¨åˆ†ï¼Œä½œä¸ºç‹¬ç«‹çš„é€»è¾‘å•ä½ï¼Œå„ä¸ªæ®µçš„é•¿åº¦å› ç¨‹åºè€Œå¼‚ã€‚ è™šæ‹Ÿåœ°å€ç”±æ®µå·å’Œæ®µå†…åœ°å€ç»„æˆï¼Œä¸ºäº†æŠŠè™šæ‹Ÿåœ°å€å˜æ¢æˆå®ä¸»å­˜åœ°å€ï¼Œéœ€è¦ä¸€ä¸ªæ®µè¡¨ã€‚ ä¼˜ç‚¹æ˜¯æ®µçš„é€»è¾‘ç‹¬ç«‹æ€§ä½¿å®ƒæ˜“äºç¼–è¯‘ã€ç®¡ç†ã€ä¿®æ”¹å’Œä¿æŠ¤ï¼Œä¹Ÿä¾¿äºå¤šé“ç¨‹åºå…±äº«ï¼›æŸäº›ç±»å‹çš„æ®µå…·æœ‰åŠ¨æ€å¯å˜é•¿åº¦,å…è®¸è‡ªç”±è°ƒåº¦ä»¥ä¾¿æœ‰æ•ˆåˆ©ç”¨ä¸»å­˜ç©ºé—´ã€‚ ç¼ºç‚¹æ˜¯å› ä¸ºæ®µçš„é•¿åº¦å„ä¸ç›¸åŒï¼Œèµ·ç‚¹å’Œç»ˆç‚¹ä¸å®šï¼Œç»™ä¸»å­˜ç©ºé—´åˆ†é…å¸¦æ¥éº»çƒ¦ï¼Œè€Œä¸”å®¹æ˜“åœ¨æ®µé—´ç•™ä¸‹è®¸å¤šç©ºä½™çš„é›¶ç¢å­˜å‚¨ç©ºé—´ï¼Œé€ æˆæµªè´¹ã€‚ æ®µé¡µå¼è™šæ‹Ÿå­˜å‚¨å™¨ æ®µé¡µå¼è™šæ‹Ÿå­˜å‚¨å™¨æ˜¯æ®µå¼è™šæ‹Ÿå­˜å‚¨å™¨å’Œé¡µå¼è™šæ‹Ÿå­˜å‚¨å™¨çš„ç»“åˆã€‚ å®ƒæŠŠç¨‹åºæŒ‰é€»è¾‘å•ä½åˆ†æ®µä»¥åï¼Œå†æŠŠæ¯æ®µåˆ†æˆå›ºå®šå¤§å°çš„é¡µã€‚ ç¨‹åºå¯¹ä¸»å­˜çš„è°ƒå…¥è°ƒå‡ºæ˜¯æŒ‰é¡µé¢è¿›è¡Œçš„ï¼Œä½†å®ƒåˆå¯ä»¥æŒ‰æ®µå®ç°å…±äº«å’Œä¿æŠ¤ï¼Œå…¼å¤‡é¡µå¼å’Œæ®µå¼çš„ä¼˜ç‚¹ã€‚ ç¼ºç‚¹æ˜¯åœ¨æ˜ è±¡è¿‡ç¨‹ä¸­éœ€è¦å¤šæ¬¡æŸ¥è¡¨ã€‚ å­˜å‚¨æ ¡éªŒæŠ€æœ¯æ£€é”™ç  å¥‡å¶æ ¡éªŒåŒ…å«å¥‡æ ¡éªŒå’Œå¶æ ¡éªŒä¸¤ç§æ ¡éªŒã€‚ å¥‡æ ¡éªŒçº¦å®šçš„ç¼–ç è§„å¾‹ï¼Œæ˜¯è®©æ•´ä¸ªæ ¡éªŒç ï¼ˆåŒ…å«æœ‰æ•ˆä¿¡æ¯å’Œæ ¡éªŒä½ï¼‰ä¸­â€œ1â€çš„ä¸ªæ•°ä¸ºå¥‡æ•°ã€‚ å¶æ ¡éªŒçº¦å®šçš„ç¼–ç è§„å¾‹ï¼Œæ˜¯è®©æ•´ä¸ªæ ¡éªŒç ä¸­â€œ1â€çš„ä¸ªæ•°ä¸ºå¶æ•°ã€‚ è¿™ä¸ªæ ¡éªŒä½å–â€œ0â€ è¿˜æ˜¯å–â€œ1â€çš„åŸåˆ™æ˜¯ï¼šè‹¥æ˜¯å¥‡æ ¡éªŒï¼Œåˆ™è¿åŒæ ¡éªŒä½åœ¨å†…ç¼–ç é‡Œå«â€œ1â€çš„ä¸ªæ•°å…±æœ‰å¥‡æ•°ä¸ªï¼›è‹¥æ˜¯å¶æ ¡éªŒï¼Œåˆ™è¿åŒæ ¡éªŒä½åœ¨å†…ç¼–ç é‡Œå«â€œ1â€çš„ä¸ªæ•°æ˜¯å¶æ•°ä¸ªã€‚ çº é”™ç  å¸¸ç”¨çš„çº é”™ç æœ‰æµ·æ˜ç ã€å¾ªç¯ç ç­‰ã€‚ åªè¦ä½¿ç”¨è¶³å¤Ÿçš„æ ¡éªŒä½ï¼Œå°±å¯ä»¥è¾¾åˆ°å¯¹ä»»ä½•é”™è¯¯çš„æ£€æµ‹å’Œçº é”™æ°´å¹³ã€‚ è‹¥éœ€è¦æ ¡æ­£å­—é•¿ kä½çš„å•é”™ï¼Œåˆ™å¿…é¡»æ·»åŠ  rä¸ªæ ¡éªŒä½ï¼Œå®ƒèƒ½å¤ŸæŒ‡å‡ºk+rä¸ªé”™è¯¯åŠæ— é”™è¯¯çš„æƒ…å†µï¼Œrå¿…é¡»æ»¡è¶³ 2 çš„ r æ¬¡æ–¹ â‰¥k+r+1ã€‚]]></content>
      <tags>
        <tag>è®¡ç®—æœºç»„æˆåŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç®—æœºç»„æˆåŸç†â€”â€”è¿ç®—æ–¹æ³•ä¸è¿ç®—å™¨]]></title>
    <url>%2Fblog%2Fposts%2F24844%2F</url>
    <content type="text"><![CDATA[æ•°å€¼æ•°æ®çš„è¡¨ç¤º è®¡ç®—æœºä¸­çš„æ•°æ®è¡¨ç¤ºï¼ŒåŒ…æ‹¬å®šç‚¹æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ã€åè¿›åˆ¶æ•°çš„è¡¨ç¤ºæ–¹æ³• ; åŸç ã€è¡¥ç ã€åç ã€ç§»ç ç­‰ç åˆ¶ä¹‹é—´çš„å…³ç³»ä»¥åŠå„ç åˆ¶ä¹‹é—´çœŸå€¼æ•°çš„è½¬æ¢ï¼› åŸç æ±‚è¡¥ç çš„æ–¹æ³•ï¼šæ­£æ•°ï¼Œä¸å˜ï¼Œå³åŸç =è¡¥ç è´Ÿæ•°ï¼Œç¬¦å·ä½ä¸å˜ï¼Œæ•°å€¼ä¸ºå–åå¹¶åŠ  1 è¡¥ç ä¸­é›¶åªæœ‰ä¸€ä¸ªï¼š0.0000000 è¡¥ç  1.0000000 è¡¨ç¤ºè´Ÿ 1 åŸç  å¦‚æœæœºå™¨å­—é•¿ä¸º nï¼Œé‚£ä¹ˆä¸€ä¸ªæ•°çš„åŸç å°±æ˜¯ç”¨ä¸€ä¸ª n ä½çš„äºŒè¿›åˆ¶æ•°ï¼Œå…¶ä¸­æœ€é«˜ä½ä¸ºç¬¦å·ä½ï¼šæ­£æ•°ä¸º 0ï¼Œè´Ÿæ•°ä¸º 1ã€‚å‰©ä¸‹çš„ n-1 ä½è¡¨ç¤ºè¯¥æ•°çš„ç»å¯¹å€¼ æ­£æ•°çš„åŸã€åã€è¡¥ç éƒ½ä¸€æ ·ï¼Œ0 çš„åŸç è·Ÿåç éƒ½æœ‰ä¸¤ä¸ªï¼Œå› ä¸ºè¿™é‡Œ 0 è¢«åˆ†ä¸º+0 å’Œ-0ã€‚ åç  åç å°±æ˜¯åœ¨åŸç çš„åŸºç¡€ä¸Šï¼Œç¬¦å·ä½ä¸å˜å…¶ä»–ä½æŒ‰ä½å–å(å°±æ˜¯ 0 å˜ 1ï¼Œ1 å˜ 0)å°±å¯ä»¥äº† è¡¥ç  è¡¥ç ä¹Ÿéå¸¸çš„ç®€å•ï¼Œå°±æ˜¯åœ¨åç çš„åŸºç¡€ä¸ŠæŒ‰ç…§æ­£å¸¸çš„åŠ æ³•è¿ç®—åŠ  1 è´Ÿæ•°çš„è¡¥ç è¿™ä¹ˆè®°æ›´ç®€å•ï¼š ~ç¬¦å·ä½ä¸å˜ï¼Œå…¶ä»–çš„ä»ä½ä½å¼€å§‹ï¼Œç›´åˆ°é‡è§ç¬¬ä¸€ä¸ª 1 ä¹‹å‰ï¼Œä»€ä¹ˆéƒ½ä¸å˜ï¼›é‡è§ç¬¬ä¸€ä¸ª 1 åä¿ç•™è¿™ä¸ª 1ï¼Œä»¥åæŒ‰ä½å–å~ é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ç”¨ [1000_0000]è¡¥ è¡¨ç¤º-128ï¼š(-1) + (-127) = [1000_0001]åŸ + [1111_1111]åŸ = [1111_1111]è¡¥ + [1000_0001]è¡¥ = [1000_0000]è¡¥-1-127 çš„ç»“æœåº”è¯¥æ˜¯-128ï¼Œåœ¨ç”¨è¡¥ç è¿ç®—çš„ç»“æœä¸­ï¼Œ [1000_0000]è¡¥ å°±ä»£è¡¨-128ã€‚æ³¨æ„ï¼Œ-128 å¹¶æ²¡æœ‰åŸç å’Œåç è¡¨ç¤ºã€‚ ç§»ç  ç§»ç æœ€ç®€å•äº†ï¼Œä¸ç®¡æ­£è´Ÿæ•°ï¼Œåªè¦å°†å…¶è¡¥ç çš„ç¬¦å·ä½å–åå³å¯ã€‚ æ•°çš„æµ®ç‚¹è¡¨ç¤ºæ³•é˜¶ç å†³å®šèŒƒå›´ï¼Œå°¾æ•°å†³å®šç²¾åº¦ã€‚ æµ®ç‚¹æ•°çš„è§„æ ¼åŒ–ä¸ºäº†ä½¿æµ®ç‚¹è¡¨ç¤ºæ³•æœ‰å°½å¯èƒ½é«˜çš„ç²¾åº¦ï¼Œé‡‡å–çš„æªæ–½ä¹‹ä¸€æ˜¯å¢åŠ ä½æ•°ï¼Œæˆ–è€…åœ¨å­—é•¿ä¸€å®šçš„æƒ…å†µä¸‹å°†é˜¶ç å’Œå°¾æ•°æ‰€å çš„ä½æ•°åè°ƒå¥½ï¼Œæªæ–½ä¹‹äºŒæ˜¯é‡‡ç”¨æµ®ç‚¹æ•°è§„æ ¼åŒ–è¡¨ç¤ºï¼Œå°±æ˜¯é€šè¿‡è°ƒæ•´ç•Œé¢ï¼Œä½¿å…¶å°¾æ•°æ»¡è¶³ä»¥ä¸‹å½¢å¼ï¼šåŸç è§„æ ¼åŒ–åï¼š æ­£æ•°ä¸º 0.1Ã—â€¦â€¦Ã— çš„å½¢å¼ï¼Œè´Ÿæ•°ä¸º 1.1Ã—â€¦â€¦Ã— çš„å½¢å¼ã€‚è¡¥ç è§„æ ¼åŒ–å ï¼š æ­£æ•°ä¸º 0.1Ã—â€¦â€¦Ã— çš„å½¢å¼ï¼Œè´Ÿæ•°ä¸º 1.0Ã—â€¦â€¦Ã— çš„å½¢å¼ã€‚ éæ•°å€¼æ•°æ®çš„è¡¨ç¤º ASCII ç æœ‰ 7 ä½ï¼Œæ€»å…± 128 ä¸ªï¼Œæœ€é«˜ä½åŒºåˆ†æ˜¯å¦æ˜¯æ±‰å­— åŒºä½ç ï¼ˆåå…­è¿›åˆ¶ï¼‰+ 2020H = å›½æ ‡ç  æœºå†…ç  = å›½æ ‡ç  + 8080H ä¸€ä¸ªæ±‰å­—å  2 ä¸ªå­—èŠ‚ 16 ä½æœºå†…ç ã€‚ å®šç‚¹åŠ å‡æ³•è¿ç®—æº¢å‡ºåˆ¤æ–­ åŒç¬¦å·ä½æ³• è¿›ä½åˆ¤æ–­æ³•]]></content>
      <tags>
        <tag>è®¡ç®—æœºç»„æˆåŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç®—æœºç»„æˆåŸç†â€”â€”æ¦‚è¿°]]></title>
    <url>%2Fblog%2Fposts%2F49260%2F</url>
    <content type="text"><![CDATA[è®¡ç®—æœºçš„å‘å±• ç¬¬äº”ä»£çš„è®¡ç®—æœºæ˜¯é€šä¿¡ã€å­˜å‚¨ã€ä¿¡æ¯å¤„ç†å’Œäººå·¥æ™ºèƒ½ç›¸ç»“åˆçš„è¶…å·¨å‹è®¡ç®—æœºã€‚ ç¬¬å…­ä»£è®¡ç®—æœºï¼Œä½œä¸ºè®¡ç®—æœºçš„æ ¸å¿ƒå…ƒä»¶ä¸æ˜¯ä¼ ç»Ÿçš„ç”µå­å…ƒä»¶ã€‚è€Œæ˜¯æ›´æ–°çš„å…‰ç”µå­å…ƒä»¶ã€è¶…å¯¼ç”µå­å…ƒä»¶æˆ–ç”Ÿç‰©ç”µå­å…ƒä»¶ã€‚ äººå·¥æ™ºèƒ½ï¼ˆartificial intelligenceï¼‰æ˜¯è®¡ç®—æœºæ¨¡æ‹Ÿäººç±»çš„æ™ºèƒ½æ´»åŠ¨ï¼ŒåŒ…æ‹¬æ„ŸçŸ¥ã€åˆ¤æ–­ã€ç†è§£ã€å­¦ä¹ ã€é—®é¢˜æ±‚è§£å’Œå›¾åƒè¯†åˆ«ç­‰ã€‚ å¤§æ•°æ®çš„å››å¤§ç‰¹å¾ï¼šæµ·é‡çš„æ•°æ®è§„æ¨¡ï¼ˆvolumeï¼‰ã€å¤šæ ·çš„æ•°æ®ç±»å‹ï¼ˆvarietyï¼‰ã€ä»·å€¼å¯†åº¦ä½ï¼ˆvalueï¼‰ã€å¿«é€Ÿçš„æ•°æ®å¤„ç†ï¼ˆvelocityï¼‰ã€‚- è®¡ç®—æœºç³»ç»Ÿçš„ç»„æˆä¸€å°å®Œæ•´çš„è®¡ç®—æœºåº”åŒ…æ‹¬ç¡¬ä»¶éƒ¨åˆ†å’Œè½¯ä»¶éƒ¨åˆ† è®¡ç®—æœºçš„ç¡¬ä»¶ç³»ç»Ÿ å†¯Â·è¯ºä¼Šæ›¼è®¡ç®—æœºä½“ç³»ç»“æ„ï¼šå­˜å‚¨å™¨ï¼šå­˜æ”¾æ•°æ®å’Œç¨‹åºï¼ˆæŒ‰åœ°å€é¡ºåºå­˜å‚¨ï¼‰è¿ç®—å™¨ï¼šç®—æœ¯è¿ç®—å’Œé€»è¾‘è¿ç®—æ§åˆ¶å™¨ï¼šæŒ‡æŒ¥ç¨‹åºè¿è¡Œï¼Œå†…å«ç¨‹åºè®¡æ•°å™¨è¾“å…¥è®¾å¤‡ï¼šå°†ä¿¡æ¯è½¬æ¢æˆæœºå™¨èƒ½è¯†åˆ«çš„å½¢å¼è¾“å‡ºè®¾å¤‡ï¼šå°†ç»“æœè½¬æ¢æˆäººä»¬ç†Ÿæ‚‰çš„å½¢å¼ å†¯Â·è¯ºä¼Šæ›¼æ€æƒ³ï¼šç¡¬ä»¶ç³»ç»Ÿã€äºŒè¿›åˆ¶ã€è‡ªåŠ¨é¡ºåºæ‰§è¡Œã€æŒ‡ä»¤ã€ç¨‹åº å­˜å‚¨ç¨‹åºåŸç†ï¼šç¨‹åºè®¾è®¡è€…äº‹å…ˆæŒ‰ä¸€å®šè¦æ±‚ç¼–å¥½ç¨‹åºï¼ŒæŠŠå®ƒå’Œæ•°æ®ä¸€èµ·å­˜å…¥å­˜å‚¨å™¨å†…ï¼Œè€Œæœºå™¨èƒ½è‡ªåŠ¨åœ°æŒ‰ç…§ç¨‹åºæ‰§è¡Œä¸€æ¡æ¡æŒ‡ä»¤ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿å…¨éƒ¨è¿ç®—æˆä¸ºçœŸæ­£çš„è‡ªåŠ¨è¿‡ç¨‹ã€‚ è¿ç®—å™¨å’Œæ§åˆ¶å™¨åˆç§° CPUã€‚CPU å’Œå­˜å‚¨å™¨é€šå¸¸ç»„è£…åœ¨ä¸€ä¸ªä¸»æ¿ä¸Šï¼Œåˆç§°ä¸»æœºã€‚ è®¡ç®—æœºä¸­æœ‰ä¸¤è‚¡ä¿¡æ¯åœ¨æµåŠ¨ï¼šä¸€è‚¡æ˜¯æ§åˆ¶ä¿¡æ¯ï¼Œå…¶å‘æºåœ°æ˜¯æ§åˆ¶å™¨ï¼Œå®ƒåˆ†æ•£æµå‘å„ä¸ªéƒ¨ä»¶ï¼›å¦ä¸€è‚¡æ˜¯æ•°æ®ä¿¡æ¯ï¼Œå®ƒå—æ§åˆ¶ä¿¡æ¯çš„æ§åˆ¶ï¼Œä»ä¸€ä¸ªéƒ¨ä»¶æµå‘å¦ä¸€ä¸ªéƒ¨ä»¶ï¼Œè¾¹æµåŠ¨è¾¹è¢«åŠ å·¥å¤„ç†ã€‚ è®¡ç®—æœºçš„è½¯ä»¶ç³»ç»Ÿ è½¯ä»¶æŒ‰å…¶åŠŸèƒ½åˆ†ä¸ºåº”ç”¨è½¯ä»¶å’Œç³»ç»Ÿè½¯ä»¶ä¸¤å¤§ç±»ã€‚åˆç§°æ”¯æ’‘è½¯ä»¶ã€‚ è®¡ç®—æœºç³»ç»Ÿçš„å±‚æ¬¡ç»“æ„ã€‚ å¾®ç¨‹åºè®¾è®¡çº§ï¼šæ˜¯ä¸€ä¸ªå®åœ¨çš„ç¡¬ä»¶çº§ï¼Œå®ƒç”±æœºå™¨ç¡¬ä»¶ç›´æ¥æ‰§è¡Œå¾®æŒ‡ä»¤ ä¸€èˆ¬æœºå™¨çº§ï¼šç”±å¾®ç¨‹åºè§£é‡Šæœºå™¨æŒ‡ä»¤ç³»ç»Ÿã€‚ç¡¬ä»¶çº§ æ“ä½œç³»ç»Ÿçº§ï¼šæœ‰æ“ä½œç³»ç»Ÿç¨‹åºå®ç°ã€‚æ··åˆçº§ æ±‡ç¼–è¯­è¨€çº§ï¼šæä¾›ä¸€ç§ç¬¦å·å½¢å¼çš„è¯­è¨€ é«˜çº§è¯­è¨€çº§ï¼šé¢å‘ç”¨æˆ·ï¼Œä¸ºæ–¹ä¾¿ç”¨æˆ·ç¼–å†™ç¨‹åºè€Œè®¾ç½® ä¸€æ¡æœºå™¨è¯­è¨€å¯¹åº”ä¸€æ®µå¾®ç¨‹åº è®¡ç®—æœºçš„ç‰¹ç‚¹ã€æ€§èƒ½æŒ‡æ ‡åŠåˆ†ç±»è®¡ç®—æœºçš„å·¥ä½œç‰¹ç‚¹ å¿«é€Ÿæ€§ é€šç”¨æ€§ å‡†ç¡®æ€§ é€»è¾‘æ€§ è®¡ç®—æœºçš„æ€§èƒ½æŒ‡æ ‡ åŸºæœ¬å­—é•¿æŒ‡å‚ä¸è¿ç®—çš„æ•°çš„åŸºæœ¬é•¿åº¦ï¼Œç”¨äºŒè¿›åˆ¶ä½çš„é•¿çŸ­æ¥è¡¡é‡ ä¸»å­˜å®¹é‡ è¿ç®—é€Ÿåº¦ç”¨æ¯ç§’èƒ½æ‰§è¡Œçš„æŒ‡ä»¤æ¡æ•°æ¥è¡¨ç¤ºï¼Œå•ä½æ˜¯æ¡/ç§’MFLOPS æ¯ç§’æ‰§è¡Œç™¾ä¸‡æ¡æµ®ç‚¹æŒ‡ä»¤æ¡æ•° CPU å¤„ç†æ—¶é—´]]></content>
      <tags>
        <tag>è®¡ç®—æœºç»„æˆåŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Unix/Linuxç³»ç»ŸåŸºç¡€]]></title>
    <url>%2Fblog%2Fposts%2F52302%2F</url>
    <content type="text"><![CDATA[ä¸€ã€Unix æ“ä½œç³»ç»ŸåŸºç¡€1ã€shellshell æ˜¯å†…æ ¸ä¸ç”¨æˆ·ä¹‹é—´çš„æ¥å£ï¼Œæ˜¯ä¸€ä¸ªäº¤äº’çš„å‘½ä»¤è§£é‡Šå™¨ 2ã€unix ç›®å½•ç»„ç»‡ åœ¨ unix ä¸­ï¼Œä¸€åˆ‡éƒ½æ˜¯æ–‡ä»¶ï¼Œæ–‡ä»¶ç»„ç»‡æˆç›®å½•ï¼Œç›®å½•æ˜¯ä¸€ç§ç»„ç»‡å’Œæ§åˆ¶æ–‡ä»¶è®¿é—®çš„å¾ˆå¥½çš„æ–¹å¼ï¼Œç”¨æˆ·å¯ä»¥ä¸ºç›®å½•è®¾ç½®æƒé™ä»¥å…è®¸å…¶ä»–äººè®¿é—®çš„æ–‡ä»¶æˆ–åªå…è®¸è‡ªå·±è®¿é—® æ–‡ä»¶ç±»å‹ï¼š1ã€æ™®é€šæ–‡ä»¶2ã€ç›®å½•æ–‡ä»¶3ã€å­—ç¬¦è®¾å¤‡æ–‡ä»¶4ã€å—è®¾å¤‡æ–‡ä»¶ äºŒã€Unix åŸºæœ¬å‘½ä»¤\$æç¤ºç¬¦æ˜¯ bourne shellã€korn shellã€posix shell çš„æ ‡å‡†æç¤ºç¬¦%æç¤ºç¬¦é€šå¸¸æ˜¯ c shell çš„æç¤ºç¬¦â€œ#â€æç¤ºç¬¦ä¸€èˆ¬æ˜¯ä¸ºç³»ç»Ÿç®¡ç†å‘˜ä¿ç•™çš„ç”¨åˆ†å·åˆ†å‰²ä¸€è¡Œä¸­ä¸¤ä¸ªå‘½ä»¤ 1ã€å‡ ç§å‘½ä»¤ manå‘½ä»¤ç”¨æ¥æŸ¥çœ‹å¸®åŠ©æ‰‹å†Œman 4 passwdç”¨æ¥æŸ¥çœ‹ passwd çš„æ‰‹å†Œçš„ç¬¬å››èŠ‚çš„å†…å®¹ whoå‘½ä»¤æŠ¥å‘Šæœ‰å“ªäº›ç”¨æˆ·å·²ç»ç™»é™†ç³»ç»Ÿï¼Œæ¯ä¸€ä¸ªç”¨æˆ·è¿æ¥çš„ç»ˆç«¯å’Œç™»é™†æ—¶é—´çš„ä¿¡æ¯ã€‚who am iæŠ¥å‘Šæœ¬ç”¨æˆ·çš„ç”¨æˆ·åå’Œç«¯å£ä¿¡æ¯ã€‚whoamiå‘½ä»¤æŠ¥å‘Šç³»ç»Ÿä¸æœ¬åœ°ç»ˆç«¯å…³è”çš„ç”¨æˆ·å— writeå‘½ä»¤å‘å½“å‰ç™»é™†åˆ°åŒä¸€ä¸ªç³»ç»Ÿçš„ç”¨æˆ·çš„ç»ˆç«¯å‘é€ä¿¡æ¯å¹¶æ˜¾ç¤ºï¼Œå®ç°äº†é€šè¿‡ç»ˆç«¯çš„äº¤äº’å¯¹è¯ã€‚ echoå‘½ä»¤ç”¨äºå‘å±å¹•ä¸Šæ‰“å°ä¿¡æ¯~åŒå¼•å·~ ï¼šå¯å¼•ç”¨é™¤äº†å­—ç¬¦\$ã€`ã€\å¤–çš„ä»»æ„å­—ç¬¦æˆ–å­—ç¬¦ä¸²~å•å¼•å·~ ï¼šshell ä¼šå¿½ç•¥ä»»ä½•å¼•ç”¨å€¼ï¼Œå³å±è”½å•å¼•å·å†…çš„ç‰¹æ®Šå­—ç¬¦çš„åŸæœ¬å«ä¹‰ã€‚~åå¼•å·~ ï¼šshell è®¤ä¸ºåå¼•å·ä¸­çš„å†…å®¹æ˜¯ä¸€ä¸ªç³»ç»Ÿå‘½ä»¤ dateå‘½ä»¤å¯ä»¥ç”¨æ¥æ˜¾ç¤ºæˆ–è®¾å®šç³»ç»Ÿçš„æ—¥æœŸä¸æ—¶é—´ï¼Œåœ¨æ˜¾ç¤ºæ–¹é¢ï¼Œä½¿ç”¨è€…å¯ä»¥è®¾å®šæ¬²æ˜¾ç¤ºçš„æ ¼å¼ï¼Œæ ¼å¼è®¾å®šä¸ºä¸€ä¸ªåŠ å·åæ¥æ•°ä¸ªæ ‡è®° 12date +%Y%m%d20184012/23/18 passwdå‘½ä»¤ä¸ºä½ çš„è´¦æˆ·è®¾ç½®å¯†ç  unameæŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„ç‰ˆæœ¬å· 2ã€å‘½ä»¤è¯­æ³• é€šé…ç¬¦â€œ?â€è¡¨ç¤ºä»»æ„å•ä¸ªå­—ç¬¦â€œ*â€è¡¨ç¤ºä»»ä½•å­—ç¬¦â€œ[]â€è¡¨ç¤ºæ‹¬å·ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ é‡å®šå‘å­—ç¬¦æ ‡å‡†è¾“å…¥ï¼š &lt;æ ‡å‡†è¾“å‡ºï¼š &gt; &gt;&gt;åœ¨åŸæ¥æ–‡ä»¶å†…å®¹çš„åŸºç¡€ä¸Šé™„åŠ æ ‡å‡†é”™è¯¯è¾“å‡ºï¼š2&gt; å‘½ä»¤è¡Œé€‰é¡¹ç”¨ä¸€ä¸ªç ´æŠ˜çº¿å®šä¹‰å‘½ä»¤çš„ä¸åŒå½¢å¼ ç®¡é“ç¬¦â€œ|â€ å®Œæˆä¸¤ç¨‹åºçš„è¿æ¥ï¼Œä¾‹å¦‚ps -ef | moreå¸¸ç”¨äºè¿‡æ»¤ã€ä¿®æ”¹æˆ–ç»´æŠ¤å‘½ä»¤çš„è¾“å‡º åå°å¤„ç†å°†ä»»åŠ¡æ”¾åœ¨åå°å¤„ç†ï¼Œä¾‹å¦‚ â€œ&amp;â€ 3ã€æ–‡ä»¶ç³»ç»Ÿç›®å½•æ–‡ä»¶é€šå¸¸æ˜¯æ•°æ®çš„å®¹å™¨ï¼Œè€Œç›®å½•æ˜¯æ–‡ä»¶æˆ–è€…å…¶ä»–ç›®å½•çš„å®¹å™¨ã€‚ /opt è¿™ä¸ªç›®å½•ä¼šç”¨æ¥å­˜æ”¾åº”ç”¨ç¨‹åºå’Œäº§å“ /usr/bin åŒ…å«çš„åŸºç¡€çš„ unix ç³»ç»Ÿæ“ä½œå’Œæ–‡ä»¶å¤„ç†çš„å‘½ä»¤ /usr/lib åŒ…å«åº”ç”¨ç¨‹åºä½¿ç”¨çš„æ–‡æ¡£å’Œå…±äº«çš„åº“ /usr/local/bin å­˜æ”¾æœ¬åœ°å¼€å‘çš„ç¨‹åºçš„å·¥å…·ï¼ˆ/usr/contrib/bin å­˜æ”¾å…¬ç”¨çš„ï¼‰ /etc ç³»ç»Ÿé…ç½®æ–‡ä»¶ /stand/vmunix å­˜æ”¾ç³»ç»Ÿå†…æ ¸æ–‡ä»¶ /tmp é€šå¸¸ä½œä¸ºæ“ä½œç³»ç»Ÿçš„ä¸€ä¸ªä¸´æ—¶ç©ºé—´ /dev å­˜æ”¾å¯ä»¥è¢«è¿æ¥åˆ°ç³»ç»Ÿç¡¬ä»¶è®¾å¤‡çš„æ–‡ä»¶ï¼Œé€šå¸¸è¢«å«åšâ€œè®¾å¤‡æ–‡ä»¶â€ 4ã€æ–‡ä»¶æƒé™drwxr-xr-xç¬¬ä¸€ä½ l è½¯è¿æ¥ d ç›®å½• b å—æ–‡ä»¶ c å­—ç¬¦ -éƒ½ä¸æ˜¯ ï¼›å 9 ä½æ¯ä¸‰ä½åˆ†åˆ«æ˜¯ userã€groupã€other çš„æƒé™ï¼šreadã€writeã€execute 5ã€æ–‡ä»¶ç³»ç»Ÿå‘½ä»¤ pwd æŸ¥çœ‹å½“å‰ç›®å½• ls æŸ¥çœ‹ç›®å½•ä¸‹æ–‡ä»¶åï¼ˆll ä¼šæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼‰-a æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶-d åˆ—å‡ºæ–‡ä»¶æè¿°-l æ¯ä¸€ä¸ªæ–‡ä»¶æè¿°å±æ€§çš„é•¿åˆ—è¡¨-F åœ¨æ¯ä¸ªç›®å½•åé¢åŠ åæ–œæ /ï¼Œåœ¨å¯æ‰§è¡Œæ–‡ä»¶åé¢åŠ æ˜Ÿå·*-R é€’å½’åœ°åˆ—å‡ºç»™å‡ºçš„ç›®å½•å’Œæ‰€æœ‰å­ç›®å½•ä¸­çš„æ–‡ä»¶ cd è¿›å…¥ç›®å½• find æ‰¾åˆ°æ–‡ä»¶ mkdir åˆ›å»ºç›®å½• rmdir åˆ é™¤ç›®å½• more ä¸€æ¬¡ä¸€å±çš„æ˜¾ç¤º cp å¤åˆ¶æ–‡ä»¶ cp file1 fiel2-i ä¼šåœ¨å¤åˆ¶æ—¶å‘ä½ ç¡®è®¤æ˜¯å¦è¦†ç›–æ—§æ–‡ä»¶-r é€‰é¡¹å¯å¤åˆ¶ç›®å½•-p å¤åˆ¶æ—¶ä¿ç•™æƒé™ mv ç§»åŠ¨æˆ–è€…ç»™æ–‡ä»¶é‡å‘½å touch åˆ›å»ºæ–°æ–‡ä»¶touch å‘½ä»¤æœ‰ä»¥ä¸‹é€‰é¡¹ï¼š-a time æ›´æ”¹å­˜å–(Access)æ—¶é—´ä¸ºæŒ‡å®šçš„æ—¶é—´-m time æ›´æ”¹ä¿®æ”¹(Modify)æ—¶é—´ä¸ºæŒ‡å®šçš„æ—¶é—´-t time ä½¿ç”¨æŒ‡å®šæ—¶é—´(time)æ¥ä»£æ›¿å½“å‰æ—¶é—´ã€‚-c å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¸åˆ›å»ºæ–°æ–‡ä»¶ã€‚ find è·¯å¾„ -name æ–‡ä»¶å cat å‘½ä»¤ä¸»è¦æœ‰ä¸‰å¤§åŠŸèƒ½ï¼š 1.ä¸€æ¬¡æ˜¾ç¤ºæ•´ä¸ªæ–‡ä»¶ã€‚$ cat filename 2.ä»é”®ç›˜åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ã€‚$ cat &gt; filenameåªèƒ½åˆ›å»ºæ–°æ–‡ä»¶,ä¸èƒ½ç¼–è¾‘å·²æœ‰æ–‡ä»¶. 3.å°†å‡ ä¸ªæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶ã€‚$cat file1 file2 &gt; file file å‘½ä»¤ æŸ¥çœ‹æ–‡ä»¶ç±»å‹ grep æœç´¢æ–‡ä»¶å†…å®¹ ç»Ÿè®¡æ–‡æœ¬ wcç»Ÿè®¡è¡Œæ•°ã€å­—æ•°ã€å­—ç¬¦æ•°wc -[l,w,c] filename whereis æŸ¥æ‰¾å‘½ä»¤-b ä»…æœç´¢äºŒè¿›åˆ¶æ–‡ä»¶-m ä»…æœç´¢å¸®åŠ©æ–‡ä»¶-s ä»…æœç´¢æºä»£ç  6ã€ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†æœ‰å…³ç”¨æˆ·è´¦å·çš„æ–‡ä»¶ï¼š passwd æ–‡ä»¶ï¼šæ¯ä¸€ä¸ªåˆæ³•ç”¨æˆ·çš„è´¦å·å¯¹åº”è¯¥æ–‡ä»¶ä¸­çš„ä¸€è¡Œè®°å½•ï¼ˆç™»é™†åï¼šå¯†ç ï¼šç”¨æˆ·æ ‡å¿—å·ï¼šç»„æ ‡å¿—å·ï¼šç”¨æˆ·çš„å…¨åæˆ–å…¶ä»–æè¿°ï¼šä¸»ç›®å½•ï¼šç™»é™† shellï¼‰ shadow æ–‡ä»¶ï¼š /etc/shadow æ–‡ä»¶å­˜æ”¾ç”¨æˆ·è´¦æˆ·çš„åŠ å¯†å¯†ç ä¿¡æ¯å’Œå¯†ç çš„æœ‰æ•ˆæœŸã€‚ group æ–‡ä»¶ï¼š/etc/group å­˜æ”¾ç³»ç»Ÿä¸­çš„æ‰€æœ‰ç»„ï¼ˆç»„åï¼šå¯†ç ï¼šç»„æ ‡å¿—å·ï¼šç”¨æˆ·åˆ—è¡¨ï¼‰ ä½¿ç”¨ useradd å’Œ groupadd å‘½ä»¤æ¥æ·»åŠ ç”¨æˆ·å’Œç»„ï¼›ä¿®æ”¹ç»„å±æ€§ï¼šgroupmod [-g &lt;æ–° GID&gt; [-o]][-n &lt;æ–°ç»„å&gt;] &lt;ç°æœ‰ç»„å&gt; ä¸‰ã€ç®¡ç†æ–‡ä»¶1ã€lp å‘½ä»¤ lp å‘½ä»¤è®©ç”¨æˆ·å°†æ–‡ä»¶é€å¾€æ‰“å°é˜Ÿåˆ—æ¥æ‰“å°æ–‡ä»¶ã€‚æ¯ä¸ªä½¿ç”¨ lp æäº¤çš„æ‰“å°è¯·æ±‚éƒ½ä¼šè¢«åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ä»»åŠ¡æ ‡è¯†å·ï¼ˆç§°ä¸ºä¸€ä¸ªè¯·æ±‚ IDï¼‰ã€‚lp å‘½ä»¤çš„è¯­æ³•æ˜¯ï¼šlp [-d dest][-n number] [-o option] â€“t title [-w][fileâ€¦.]ä¸€äº› lp å‘½ä»¤çš„é€‰é¡¹ï¼š-n number æ–‡ä»¶æ‰“å°çš„é‡å¤çš„ä»½æ•°ï¼ˆé»˜è®¤æ˜¯ 1ï¼‰ã€‚-d dest æ‰“å°è¯·æ±‚ä¼šè¢«é€åˆ°çš„æ‰“å°æœºçš„åå­—ã€‚-t title åœ¨æ‰“å°è¾“å‡ºçš„æ ‡é¢˜é¡µä¸­æ‰“å°æ ‡é¢˜ã€‚-o option æŒ‡å®šä½ çš„æ‰“å°æœºçš„å…·ä½“çš„é€‰é¡¹ï¼Œä¾‹å¦‚å­—ä½“ï¼Œé—´è·ï¼Œç°åº¦ç­‰ç­‰-w åœ¨æ–‡ä»¶æ‰“å°å®Œæˆä»¥åï¼Œå†™ä¸€æ¡ä¿¡æ¯åˆ°ç”¨æˆ·çš„ç»ˆç«¯ã€‚lpstat æŠ¥å‘Šå·²ç»é€å¾€æ‰“å°æœºé˜Ÿåˆ—çš„æ‰“å°è¯·æ±‚ 2ã€cancel å‘½ä»¤cancel id [id â€¦] å–æ¶ˆä¸€ä¸ªæœ‰ lp å‘½ä»¤äº§ç”Ÿçš„æ‰“å°æœºä»»åŠ¡cannel printer [ printerâ€¦] å–æ¶ˆå½“å‰åœ¨æŒ‡å®šæ‰“å°æœºä¸Šçš„æ‰“å°ä»»åŠ¡ 3ã€ln å‘½ä»¤ln file1 file2 ç¡¬é“¾æ¥æ–‡ä»¶å’ŒåŸæ–‡ä»¶æŒ‡å‘åŒæ ·çš„æ•°æ®ï¼Œå°±åƒå…‹éš†ä¸€æ ·ï¼Œinode å·ä¹Ÿç›¸åŒï¼Œå½“åˆ é™¤åŸæ–‡ä»¶æ—¶ï¼Œç¡¬é“¾æ¥æ–‡ä»¶ä»ç„¶å­˜åœ¨æœ‰æ•ˆã€‚ä½†ç¡¬é“¾æ¥æ–‡ä»¶ä¸åŒäºæ–‡ä»¶çš„å¤åˆ¶ï¼Œå¹¶æ²¡æœ‰å¤åˆ¶åŸæ–‡ä»¶æ•°æ®ã€‚ç®€å•è¯´ï¼Œç¡¬é“¾æ¥å°±æ˜¯ä¸€ä¸ªç±»ä¼¼äºåˆ«åçš„æ¦‚å¿µã€‚å½“åŸæ¥çš„åå­—æ²¡æœ‰äº†ï¼Œåˆ«åç…§æ ·å¯ä»¥ä½¿ç”¨ã€‚ç¡¬é“¾æ¥æŒ‡é€šè¿‡ç´¢å¼•èŠ‚ç‚¹æ¥è¿›è¡Œçš„è¿æ¥ç¡¬é“¾æ¥ä¸å¯ä»¥è·¨æ–‡ä»¶ç³»ç»Ÿï¼Œä¸èƒ½ä¸ºç›®å½•å»ºç¡¬é“¾æ¥çœ‹ä¸å‡ºç¡¬é“¾æ¥å’Œæ–‡ä»¶çš„åŒºåˆ«ï¼Œå±æ€§ä¸Šéƒ½ç”¨-è¡¨ç¤º è½¯é“¾æ¥å’Œ windows ç³»ç»Ÿçš„å¿«æ·æ–¹å¼å«ä¹‰ä¸€æ ·ã€‚è½¯é“¾æ¥å’ŒåŸæ–‡ä»¶çš„ inode ä¸åŒï¼Œè¯¥æ–‡ä»¶çš„å†…å®¹æ˜¯æŒ‡å‘åŸæ–‡ä»¶çš„è·¯å¾„ä¿¡æ¯ã€‚è½¯é“¾æ¥å°±å¥½åƒæ˜¯æŒ‡é’ˆä¸€æ ·ã€‚è€Œç¡¬é“¾æ¥å°±æ˜¯å¼•ç”¨ã€‚è½¯é“¾æ¥å¯ä»¥è·¨æ–‡ä»¶ç³»ç»Ÿå±æ€§ä¸Šç”¨ l è¡¨ç¤º 4ã€æ–‡ä»¶çš„æƒé™ç®¡ç† chmod æ”¹å˜æ–‡ä»¶çš„å­˜å–æƒé™ chown æ”¹å˜ä¸€ä¸ªæ–‡ä»¶çš„å±ä¸»ï¼Œåªæœ‰æ–‡ä»¶çš„å±ä¸»å’Œ root æ‰èƒ½æ›´æ”¹ä¸€ä¸ªæ–‡ä»¶çš„æ‰€æœ‰æƒ umask æ”¹å˜é»˜è®¤çš„æ–‡ä»¶å­˜å–æƒé™ chgrp æ”¹å˜ä¸€ä¸ªæ–‡ä»¶çš„ç»„ su è½¬æ¢ä½ çš„ç”¨æˆ·çš„èº«ä»½ newgrp è½¬æ¢ä½ çš„ç»„çš„èº«ä»½ å››ã€å®šåˆ¶å·¥ä½œç¯å¢ƒ alias ä¸ºå‘½ä»¤è®¾ç½®åˆ«åalias dir=&#39;ls&#39; tab æ–‡ä»¶åè‡ªåŠ¨è¡¥å…¨ history å†å²å‘½ä»¤ï¼Œåœ¨é»˜è®¤æ–¹å¼ä¸‹ï¼Œbash ä½¿ç”¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹é¢çš„æ–‡ä»¶â€œ.bash_historyâ€æ¥ä¿å­˜å†å²å‘½ä»¤æ”¹å˜å­˜æ”¾å†å²å‘½ä»¤çš„æ–‡ä»¶# HISTFILE=â€œ/home/mengqc/.myhistoryâ€é‡æ–°è®¾å®šèƒ½å¤Ÿä¿ç•™çš„å‘½ä»¤ä¸ªæ•°# HISTSIZE=600 1ã€ç¯å¢ƒå˜é‡ ä½¿ç”¨envå‘½ä»¤æ¥æŸ¥çœ‹ç”¨æˆ·ç¯å¢ƒå˜é‡æ³¨æ„ï¼Œå¤šæ•°ç¯å¢ƒå˜é‡ï¼Œéƒ½éœ€è¦exportæ‰èµ·ä½œç”¨ä¾‹å¦‚ # export $PATH ä¸ç¯å¢ƒå˜é‡ç›¸å…³çš„å…¨å±€é…ç½®æ–‡ä»¶/etc/bashrc å…¨å±€é…ç½®/etc/profile ç™»å½• shell çš„å…¨å±€é…ç½® ä¸ªäººé…ç½®æ–‡ä»¶ï¼Œæ¯ä¸ªç™»å½•ç”¨æˆ·çš„ home ç›®å½•ä¸‹æœ‰ï¼š~/.bshrc~/.bash_profile~/.cshrc äº”ã€vi ç¼–è¾‘å™¨1ã€å¼€å§‹æŒ‡ä»¤ vi +n filename è¿›å…¥ vi å¹¶ä¸”ç”±æ–‡ä»¶çš„ç¬¬å‡ è¡Œå¼€å§‹ã€‚ vi +filename è¿›å…¥ vi å¹¶ä¸”ç”±æ–‡ä»¶çš„æœ€åä¸€è¡Œå¼€å§‹ã€‚ vi + /word filename è¿›å…¥ vi å¹¶ä¸”ç”±æ–‡ä»¶çš„ word è¿™ä¸ªå­—å¼€å§‹ã€‚ vi filename(s) è¿›å…¥ vi å¹¶ä¸”å°†å„æŒ‡å®šæ–‡ä»¶åˆ—å…¥åå•å†…ï¼Œç¬¬ä¸€ä¸ªæ–‡ä»¶å…ˆè¯»å…¥ã€‚ï¼ˆå¤šæ–‡ä»¶ï¼‰ vedit è¿›å…¥ vi å¹¶ä¸”åœ¨è¾“å…¥æ–¹å¼æ—¶ä¼šåœ¨çŠ¶æ€è¡Œæ˜¾ç¤ºâ€œINSERT MODEâ€ã€‚ 2ã€åŠ æ•°æ®æŒ‡ä»¤ i åœ¨å…³æ ‡ä½ç½®å¼€å§‹æ’å…¥å­—ç¬¦ï¼Œç»“æŸæ—¶å€™æŒ‰ ESC é”®ã€‚ I åœ¨å…‰æ ‡æ‰€åœ¨è¡Œé¦–å¼€å§‹åŠ å­—ï¼Œç»“æŸæ—¶æŒ‰ ESC é”®ã€‚ a åœ¨å…‰æ ‡ä½ç½®åå¼€å§‹åŠ å­—ï¼Œç»“æŸæ—¶æŒ‰ ESC é”®ã€‚ A åœ¨å…‰æ ‡æ‰€åœ¨è¡Œå°¾éƒ¨å¼€å§‹åŠ å­—ï¼Œç»“æŸæ—¶æŒ‰ ESC é”®ã€‚ o åœ¨å…‰æ ‡æ‰€åœ¨è¡Œä¸‹æ’å…¥ä¸€ç©ºç™½è¡Œå¹¶å¼€å§‹åŠ å­—ã€‚ O åœ¨å…‰æ ‡æ‰€åœ¨è¡Œä¸Šæ’å…¥ä¸€ç©ºç™½è¡Œå¹¶å¼€å§‹åŠ å­—ã€‚ 3ã€åˆ é™¤æŒ‡ä»¤ x åˆ é™¤å…‰æ ‡å¤„å­—ç¬¦ã€‚ dw åˆ é™¤ä»å…‰æ ‡ä½ç½®å¼€å§‹åˆ°å•è¯ç»“æŸå¤„çš„å­—ç¬¦ã€‚ dd åˆ é™¤å½“å‰ä¸€æ•´è¡Œã€‚ d0 åˆ é™¤ä»è¡Œé¦–åˆ°å…‰æ ‡ä½ç½®çš„å­—ç¬¦ã€‚ d\$ æˆ– D åˆ é™¤ä»å…‰æ ‡ä½ç½®åˆ°è¡Œå°¾çš„å­—ç¬¦ã€‚ nx åˆ é™¤ç”±å…‰æ ‡ä½ç½®èµ·å§‹çš„ n ä¸ªå­—ç¬¦ï¼ˆå«å…‰æ ‡ä½ç½®ï¼‰ nX åˆ é™¤ç”±å…‰æ ‡ä½ç½®èµ·å§‹çš„ n ä¸ªå­—ç¬¦ï¼ˆä¸å«å…‰æ ‡ä½ç½®ï¼‰ã€‚ ndw åˆ é™¤å…‰æ ‡ä½ç½®å¼€å§‹çš„ n ä¸ªå­—ç¬¦ç»„ï¼ˆword)ã€‚ ndd å°†å…‰æ ‡ä½ç½®èµ·å§‹çš„ n è¡Œï¼ˆæ•´è¡Œï¼‰åˆ é™¤ã€‚ :start,endd åˆ é™¤æ–‡ä»¶çš„ç¬¬ start åˆ° end è¡Œã€‚ 4ã€å…‰æ ‡ç§»åŠ¨h å¾€å·¦ç§» 1 ä½l æˆ–è€… spacebar å¾€å³ç§» 1 ä½k å‘ä¸Šç§» 1 è¡Œj å‘ä¸‹ç§» 1 è¡Œ0 ç§»åˆ°ä¸€è¡Œçš„å¼€å§‹\$ ç§»åˆ°ä¸€è¡Œçš„æœ«å°¾[ ç§»åˆ°æ–‡ä»¶å¼€å§‹ä½ç½®] ç§»åˆ°æ–‡ä»¶ç»“æŸä½ç½®G ç§»åˆ°æ–‡ä»¶çš„æœ€åä¸€è¡ŒnG æˆ–è€…:n ç§»åˆ°æ–‡ä»¶çš„ç¬¬ n è¡ŒCtrl + u å±å¹•ä¸Šå·åŠå±Ctrl + d å±å¹•ä¸‹å·åŠå±Ctrl + b å±å¹•ä¸Šå·ä¸€å±Ctrl + f å±å¹•ä¸‹å·ä¸€å± 5ã€æŸ¥æ‰¾ä¸æ›¿æ¢r ä¿®æ”¹å…‰æ ‡æ‰€æŒ‡çš„å­—ç¬¦R ä»å…‰æ ‡ä½ç½®å¼€å§‹ä¿®æ”¹ï¼Œç»“æŸæ—¶æŒ‰ ESC é”®/text ä»å…‰æ ‡ä½ç½®å¾€ä¸‹æ‰¾å­—ä¸² text?text ä»å…‰æ ‡ä½ç½®å¾€ä¸Šæ‰¾å­—ä¸² textn ç»§ç»­æ‰¾ä¸‹ä¸€ä¸ªå­—ä¸²ï¼ˆåœ¨è¾“å…¥ä¸Šé¢çš„æŸ¥æ‰¾æŒ‡ä»¤ä¹‹åä½¿ç”¨ï¼‰[range]s/old_string/new_string[ /option ] å°†æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦å¤„æ›¿æ¢ä¸ºæ–°ä¸² 6ã€å¤åˆ¶åŠç§»åŠ¨æ–‡æœ¬nY å¤åˆ¶å…‰æ ‡æ‰€åœ¨ä½ç½®å¼€å§‹çš„ n è¡Œæ•°æ®p å°†æ•°æ®ç²˜è´´åœ¨å…‰æ ‡çš„ä¸‹ä¸€è¡ŒP å°†æ•°æ®ç²˜è´´åœ¨å…‰æ ‡çš„ä¸Šä¸€è¡Œ:first,last co dest å°† first åˆ° last è¡Œçš„æ•°æ®å¤åˆ¶åˆ°ç›®æ ‡è¡Œ(destï¼‰ä¸‹é¢:Start,end m dest å°† start åˆ° end è¡Œçš„æ•°æ®ç§»åŠ¨åˆ°ç›®æ ‡è¡Œï¼ˆdest)ä¸‹ã€‚ :r filename å°†æŒ‡å®šæ–‡ä»¶çš„å†…å®¹è¯»å…¥å…‰æ ‡æ‰€åœ¨è¡Œä¸‹ã€‚ å…­ã€shell ç¼–ç¨‹åŸºç¡€1ã€ç¤ºä¾‹12345678#ï¼ /bin/bash# create a group of filesfor((i=1;i&lt;=10;i++))do touch tt$i echo this is tt$i &gt;&gt; tt$idonels -l tt* 2ã€æ‰§è¡Œ shell è„šæœ¬çš„åŸºæœ¬æ–¹æ³• source test.sh sh test.sh 12* chmod 755 test.sh ./test.sh 3ã€å˜é‡ å®šä¹‰å˜é‡å˜é‡å=å­—ç¬¦ä¸² ã€æ³¨æ„ï¼Œç­‰å·å·¦å³æ— ç©ºæ ¼ã€‘ å¦‚æœå˜é‡å€¼é¡»å‡ºç°åœ¨é•¿å­—ç¬¦ä¸²çš„å¼€å¤´æˆ–è€…ä¸­é—´ï¼Œä¸ºäº†ä½¿å˜é‡åä¸å…¶åçš„å­—ç¬¦åŒºåˆ†å¼€ï¼Œé¿å… shell æŠŠå®ƒä¸å…¶å®ƒå­—ç¬¦æ··åœ¨ä¸€èµ·è§†ä¸ºä¸€ä¸ªæ–°å˜é‡ï¼Œåˆ™åº”è¯¥ç”¨èŠ±æ‹¬å·å°†è¯¥å˜é‡åæ‹¬èµ·æ¥ã€‚ å‘½ä»¤æ›¿æ¢é™¤äº†åå¼•å·çš„å¦ä¸€ç§å½¢åŠ¿ï¼š $(pwd) å£°æ˜ä¸€ä¸ªæ•°ç»„ï¼šdeclare -a æ•°ç»„åå®šä¹‰æ•°ç»„ï¼š a=(1 2 3 4 .... n)å…¶ä¸­ï¼Œå„ä¸ªå€¼ä¹‹é—´ä»¥ç©ºæ ¼åˆ†å¼€ã€‚è¯»å–æ•°ç»„å…ƒç´ å€¼ï¼šecho ${æ•°ç»„å[ä¸‹æ ‡]} è‹¥æ²¡æœ‰ç»™å‡ºæ•°ç»„å…ƒç´ çš„ä¸‹æ ‡ï¼Œåˆ™æ•°ç»„åè¡¨ç¤ºä¸‹æ ‡ä¸º 0 çš„æ•°ç»„å…ƒç´  é€»è¾‘æ“ä½œç¬¦ &amp;&amp; ||cmd1 &amp;&amp; cmd2 ä»…å½“å‘½ä»¤ cmd1 æ‰§è¡ŒæˆåŠŸæ—¶ï¼Œæ‰ä¼šæ‰§è¡Œå‘½ä»¤ cmd2ã€‚cmd1 || cmd2 ä»…å½“å‘½ä»¤ cmd1 æ‰§è¡Œå¤±è´¥æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œå‘½ä»¤ cmd2ã€‚ ä½ç½®å‚æ•° 0,1,2,â€¦â€¦å‘½ä»¤è¡Œå®å‚ä¸è„šæœ¬ä¸­ä½ç½®å˜é‡çš„å¯¹åº”å…³ç³»å¦‚ä¸‹æ‰€ç¤ºï¼šexam1 m1 m2 m3 m4$0 $1 $2 $3 $4 $5 $6 $7 $8 $9 ${10} ${11}å¼•ç”¨å®ƒä»¬çš„æ–¹å¼ä¾æ¬¡æ˜¯$0, $1, $2, â€¦, $9, ${10}, ${11}ç­‰ã€‚å…¶ä¸­ï¼Œ\$0 å§‹ç»ˆè¡¨ç¤ºå‘½ä»¤åæˆ– shell è„šæœ¬åã€‚ä½¿ç”¨ set å‘½ä»¤ä¸ºä½ç½®å‚æ•°èµ‹å€¼ ç‰¹æ®Šå˜é‡$# è¡¨ç¤ºå‘½ä»¤è¡Œä¸Šå®é™…å‚æ•°çš„ä¸ªæ•°(ä¸åŒ…æ‹¬shellç¨‹åºåæœ¬èº«)$ è¡¨ç¤ºå‘½ä»¤è¡Œå®é™…ç»™å‡ºçš„æ‰€æœ‰å®å‚å­—ç¬¦ä¸²\$@ è¡¨ç¤ºå‘½ä»¤è¡Œå®é™…ç»™å‡ºçš„æ‰€æœ‰å®å‚å­—ç¬¦ä¸² æ³¨æ„:\$å’Œ$@åŸºæœ¬åŠŸèƒ½ç›¸åŒï¼Œä½†æ˜¯å½“ä¸¤ä¾§æœ‰åŒå¼•å·æ—¶åˆ™å­˜åœ¨å·®åˆ«!å³:â‘  â€œ$*â€æŠŠå®é™…ç»™å‡ºçš„æ‰€æœ‰å®å‚å½“ä½œä¸€ä¸ªæ•´ä½“ï¼Œå³ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚â‘¡ â€œ\$@â€æŠŠå®é™…ç»™å‡ºçš„æ¯ä¸ªå®å‚å½“ä½œä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå³å¤šä¸ªå­—ç¬¦ä¸²ã€‚ 4ã€ç®—æœ¯è¿ç®—12345678910111213a=4;b=3((c=a+b))echo $c--------------a=4;b=3let &quot;c=b-a&quot;echo $c--------------expr 4 + 37a=`expr 4 + 3`echo $a7 åœ¨ç®—æœ¯è¡¨è¾¾å¼ä¸­ï¼Œå˜é‡åå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä¸éœ€è¦åŠ \$ä½¿ç”¨ expr å‘½ä»¤è¿›è¡Œç®—æœ¯è¿ç®—ï¼Œè¿ç®—ç¬¦ä¸¤ä¾§å¿…é¡»æœ‰ç©ºæ ¼-f æ˜¯å¦æ˜¯æ–‡ä»¶-d æ˜¯å¦æ˜¯ç›®å½• 5ã€å‡½æ•° ç¤ºä¾‹ 12345678910111213ave()&#123; sum=0; for((i=0;i&lt;=n;i++)) do ((sum=sum+a[i])) done ((sum=sum/n)) echo $sun&#125;n=5a=(90 82 84 72 61)ave ä¸ƒã€ç³»ç»Ÿç®¡ç†1ã€å‰ã€åå°æ‰§è¡Œ å‘½ä»¤è¡Œæœ«å°¾ï¼ŒåŠ  &amp; å­—ç¬¦ï¼Œä½œä¸šæ”¾åˆ°åå°æ‰§è¡Œ ç»„åˆé”®ã€ctrl -zã€‘ï¼šæŠŠæ­£åœ¨å‰å°æ‰§è¡Œçš„ä½œä¸šæŒ‚èµ·ï¼Œå¹¶ç½®äºåå° fg å‘½ä»¤ï¼šfg &lt;ä½œä¸šå·&gt;æŠŠåå°ä½œä¸šè°ƒåˆ°å‰å°æ‰§è¡Œ bg å‘½ä»¤ï¼šbg &lt;ä½œä¸šå·&gt;è®©åå°æŒ‚èµ·çš„ä½œä¸šç»§ç»­åœ¨åå°æ‰§è¡Œ jobs å‘½ä»¤ï¼š äº†è§£å½“å‰ä½œä¸šæƒ…å†µ nohup å‘½ä»¤ ç”¨æˆ·é€€å‡ºåä½œä¸šç»§ç»­æ‰§è¡Œ 2ã€æŸ¥çœ‹è¿›ç¨‹ps å‘½ä»¤æŸ¥çœ‹è¿›ç¨‹ï¼Œå¸¸ç”¨æ ¼å¼ï¼š ps -ef ps aux ps -ef | grepgrep: -n, -v, -iand -c.-cæ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶ä¸­åŒ¹é…çš„è¡Œæ•°-iä¸åˆ†å¤§å°å†™-næ˜¾ç¤ºåŒ¹é…è¡Œçš„è¡Œå·-væ˜¾ç¤ºä¸åŒ¹é…çš„è¡Œï¼ˆåŒ¹é…çš„è¡Œä¸æ˜¾ç¤ºï¼‰ä¾‹å¦‚ ps â€“ef|grep -i python|grep â€“v grep 3ã€æœ‰è¿‡æ»¤ä½œç”¨çš„å‘½ä»¤ head â€“n 20 /etc/passwd tail â€“n 20 /etc/passwd tail â€“f /log/xxx.log æŸ¥çœ‹æ­£åœ¨æ”¹å˜çš„æ—¥å¿— more less wc ç»Ÿè®¡è¡Œã€å­—ã€å­—ç¬¦ç­‰ æ—¢æ˜¾ç¤ºç»“æœï¼Œåˆå­˜å…¥æ–‡ä»¶ï¼Œç”¨ tee å®ç° ls /home | tee dir.list- 4ã€å¤‡ä»½ä¸å‹ç¼© tar-c: å»ºç«‹å‹ç¼©æ¡£æ¡ˆ-xï¼šè§£å‹-tï¼šæŸ¥çœ‹å†…å®¹-rï¼šå‘å‹ç¼©å½’æ¡£æ–‡ä»¶æœ«å°¾è¿½åŠ æ–‡ä»¶-uï¼šæ›´æ–°åŸå‹ç¼©åŒ…ä¸­çš„æ–‡ä»¶ è¿™äº”ä¸ªæ˜¯ç‹¬ç«‹çš„å‘½ä»¤ï¼Œå‹ç¼©è§£å‹éƒ½è¦ç”¨åˆ°å…¶ä¸­ä¸€ä¸ªï¼Œå¯ä»¥å’Œåˆ«çš„å‘½ä»¤è¿ç”¨ä½†åªèƒ½ç”¨å…¶ä¸­ä¸€ä¸ªã€‚ä¸‹é¢çš„å‚æ•°æ˜¯æ ¹æ®éœ€è¦åœ¨å‹ç¼©æˆ–è§£å‹æ¡£æ¡ˆæ—¶å¯é€‰çš„ã€‚ -zï¼šæœ‰ gzip å±æ€§çš„-jï¼šæœ‰ bz2 å±æ€§çš„-Zï¼šæœ‰ compress å±æ€§çš„-vï¼šæ˜¾ç¤ºæ‰€æœ‰è¿‡ç¨‹-Oï¼šå°†æ–‡ä»¶è§£å¼€åˆ°æ ‡å‡†è¾“å‡º ä¸‹é¢çš„å‚æ•°-f æ˜¯å¿…é¡»çš„ -f: ä½¿ç”¨æ¡£æ¡ˆåå­—ï¼Œåˆ‡è®°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œåé¢åªèƒ½æ¥æ¡£æ¡ˆåã€‚ gzip gunzip unzip 5ã€ç½‘ç»œå‘½ä»¤ ping å‘½ä»¤ping[é€‰é¡¹] ç›®çš„åœ° ifconfig ç”¨æ¥é…ç½®ä¸€ä¸ªç½‘ç»œæ¥å£ 123456789* ç¤ºä¾‹ï¼š## æ˜¾ç¤ºæ‰€æœ‰å½“å‰æ´»åŠ¨çš„ç½‘ç»œæ¥å£çš„æƒ…å†µã€‚ifconfig## æ˜¾ç¤ºæŒ‡å®šç½‘ç»œæ¥å£eth0çš„æƒ…å†µã€‚ifconfig eth0## é…ç½®ä¸€ä¸ªä»¥å¤ªç½‘æ¥å£ï¼Œä»¥ç»™å®šIPåœ°å€å®šä¹‰è¿™ä¸ªç½‘ç»œæ¥å£çš„åœ°å€ã€‚åŒæ—¶ï¼Œifconfigå‘½ä»¤è‡ªåŠ¨åœ°åˆ›å»ºä¸€ä¸ªæ ‡å‡†çš„å¹¿æ’­åœ°å€å’Œå­ç½‘æ©ç ã€‚ifconfig eth0 211.68.38.133## æŒ‡å®šä»¥å¤ªç½‘å¡eth0çš„IPåœ°å€ä¸º211.68.38.133ï¼Œå¹¿æ’­åœ°å€ä¸º211.68.38.255,å­ç½‘æ©ç ä¸º255.255.255.0ã€‚ifconfig eth0 211.68.38.133 broadcast 211.68.38.255 netmask 255.255.255.0 netstat å‘½ä»¤ ç»Ÿè®¡ TCP/IP ç½‘ç»œåè®®çš„è¿æ¥ã€‚netstat æ˜¾ç¤ºå½“å‰å·²ç»åˆ›å»ºçš„è¿æ¥netstat -nr å°†æ˜¾ç¤ºè·¯ç”±è¡¨ route å‘½ä»¤route å‘½ä»¤ä¸ºæ•°æ®ä¼ é€’æ‰€éœ€çš„ç½‘ç»œè¿æ¥é…ç½®è·¯ç”±ä¿¡æ¯ã€‚]]></content>
      <tags>
        <tag>Unix</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[èŠä¸€èŠJavaWebé¡¹ç›®åç«¯å’Œå‰ç«¯çš„äº¤äº’]]></title>
    <url>%2Fblog%2Fposts%2F52136%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘åœ¨åšå­¦æ ¡è€å¸ˆçš„ä¸€ä¸ªé’¢ç®¡ç§Ÿèµç½‘ç«™çš„é¡¹ç›®ï¼Œæˆ‘è´Ÿè´£å‰ç«¯çš„å¼€å‘ã€‚å†åŠ ä¸ŠæœŸä¸­è€ƒè¯•å’Œå„ç§å„æ ·çš„ä½œä¸šåšå®¢ä¹Ÿæ˜¯å¥½ä¹…æ²¡æœ‰æ›´æ–°äº†ï¼ˆ=Â·=å¥½å§å…¶å®æ˜¯æˆ‘æ‡’ï¼‰è¨€å½’æ­£ä¼ ï¼Œè¿™ä¹Ÿç®—æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å‚åŠ æ­£å¼çš„å¼€å‘é¡¹ç›®ï¼Œå‰å‰ååæ”¹äº†ä¸å°‘æ¬¡ï¼Œä½†ç¡®å®æ˜¯å­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ï¼Œè¿™å’Œè‡ªå·±å¹³æ—¶åœ¨ç½‘ä¸Šçœ‹çœ‹åšå®¢å†™å†™demoå®Œå…¨æ˜¯ä¸ä¸€æ ·çš„ã€‚è¿™ä¸ªé¡¹ç›®çš„åå°æ˜¯å¾ˆæ—©å°±å·²ç»å¼€å‘å¾—å·®ä¸å¤šäº†çš„ã€‚é¡¹ç›®é‡‡å–å‰åç«¯ä»£ç åˆ†ç¦»çš„æ¶æ„ï¼Œå³å‰ç«¯æ˜¯å®Œå…¨çš„htmlæ ¼å¼æ–‡ä»¶ï¼Œå¹¶éjspæ¨¡ç‰ˆæ–‡ä»¶ï¼Œæ•°æ®æ¸²æŸ“ä¸€å¾‹é‡‡ç”¨ajaxæ–¹å¼è¯·æ±‚åç«¯è·å–ã€‚ä»Šå¤©å°±æ¥èŠä¸€èŠJavaWebé¡¹ç›®åç«¯å’Œå‰ç«¯çš„äº¤äº’é—®é¢˜ï¼Œä¸€æ˜¯å¢å¼ºè®°å¿†ï¼ŒäºŒæ¥æœ€è¿‘èº«è¾¹çš„åŒå­¦ä¹Ÿåœ¨å­¦ä¹ JavaWebçš„å¼€å‘ï¼ˆå¥½åƒéƒ½å¾ˆæ‡µé€¼çš„æ ·å­ï¼Œå…¶å®æˆ‘ä¹Ÿåªäº†è§£ä¸€äº›çš®æ¯›ï¼‰ åç«¯Controllerçš„ç¼–å†™ç°åœ¨jave webåç«¯çš„ä¸»æµæ¡†æ¶ä¸ºSSMï¼ˆSpring SpringMVC Mybatisï¼‰æˆ–è€…æ˜¯SpringBoot + Mybatisã€‚å®ƒä»¬éƒ½æ˜¯ä»¥MVCä¸ºåŸºç¡€çš„æ¡†æ¶ï¼Œåœ¨å‰åç«¯ä»£ç åˆ†ç¦»çš„é¡¹ç›®ä¸­ï¼Œç¼–å†™Controllerå±‚ç®€å•ç²—æš´çš„è¯´å°±æ˜¯è®¾è®¡æ¥å£ä»¥ä¾¿å‰ç«¯è°ƒç”¨ã€‚ä¸‹é¢æ˜¯ä¸€æ®µSpringBootä¸­Controllerå±‚çš„ä»£ç ï¼š1234567891011121314@Controller@RequestMapping(&quot;/api&quot;)public class DemoController &#123; @RequestMapping(value=â€œ/getinfoâ€,method=RequestMethod.GET) @ResponseBody private Map&lt;String,Object&gt; getInfo()&#123; Map&lt;String,Object&gt; modelMap = new HashMap&lt;String,Object&gt;(); ... ... ... (è°ƒç”¨serviceå±‚çš„æ¥å£ï¼‰ return modelMap; &#125;&#125; è¿™å°±æ˜¯ä¸€ä¸ªå¯ä»¥é€šè¿‡getæ–¹å¼è¯·æ±‚çš„æ¥å£ï¼Œè¿è¡Œé¡¹ç›®ï¼Œè®¿é—®http://localhost:8080/projectname/api/getinfo ä¾¿å¯ä»¥è·å–jsonæ ¼å¼çš„æ•°æ®ã€‚å¦‚æœæ˜¯postæ–¹å¼çš„è¯·æ±‚ï¼Œé‚£ä¹ˆå°†ä»£ç @RequestMapping(value=â€œ/getinfoâ€,method=RequestMethod.GET)ä¸­çš„GETæ”¹ä¸ºPOSTï¼Œå¹¶ä½¿getInfoæ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•°HttpServletRequest request ï¼Œç„¶ååœ¨æ–¹æ³•å†…å¤„ç†è¯·æ±‚ä½“è·å–éœ€è¦çš„æ•°æ®ä¾¿å¯ï¼ˆå…·ä½“å¤„ç†åœ¨è¿™é‡Œä¸è¯¦è¿°ï¼‰ å‰ç«¯ajaxè°ƒç”¨æ¥å£è¿™é‡Œä¾¿ä¸ä»”ç»†è§£é‡Šäº†ï¼Œç»™å‡ºgetä¸postä¸¤ç§æ–¹å¼çš„ajaxè¯·æ±‚æ¨¡ç‰ˆï¼ˆä½¿ç”¨jqueryï¼‰å…·ä½“çš„å‚æ•°å¤§å®¶å¯ä»¥è‡ªè¡Œè°·æ­Œäº†è§£ã€‚GETæ–¹å¼ï¼š1234$.getJSON(initUrl, function(data) &#123; ... ... &#125;); POSTæ–¹å¼ï¼š12345678910111213141516$.ajax(&#123; url : Url, type : â€˜POSTâ€™, data : formData, contentType : false, processData : false, cache : false, success : function(data) &#123; if (data.success) &#123; $.toast(â€˜æäº¤æˆåŠŸï¼â€™); &#125; else &#123; $.toast(â€˜æäº¤å¤±è´¥ï¼â€™ + data.errMsg); console.log(data.errMsg); &#125; &#125;&#125;);]]></content>
      <tags>
        <tag>Java Web</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å½“ä½ åœ¨åœ°å€æ è¾“å…¥äº†ä¸€è¡Œç½‘å€â€¦â€¦]]></title>
    <url>%2Fblog%2Fposts%2F52053%2F</url>
    <content type="text"><![CDATA[å½“ä½ åœ¨æµè§ˆå™¨çš„åœ°å€æ è¾“å…¥äº†ä¸€è¡Œç½‘å€ï¼Œå¹¶å›è½¦äº†ä¹‹åï¼Œæµè§ˆå™¨åˆ°åº•åšäº†ä»€ä¹ˆå‘¢ï¼Ÿ å…ˆç¬¼ç»Ÿçš„è®²ä¸€ä¸‹ï¼šæµè§ˆå™¨é€šè¿‡ DNS è§£æä½ è¾“å…¥çš„ç½‘å€ï¼ˆ URL ï¼‰æ ¹æ®ç½‘å€ä¸­çš„åŸŸåï¼ˆDomainï¼‰éƒ¨åˆ†ä¹Ÿå°±æ˜¯www.xxxxx.comè·å–åŸŸåå¯¹åº”çš„IPåœ°å€ï¼Œç„¶åé€šè¿‡åŸºäº TCP/IP åè®®çš„ http åè®®å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å“åº”è¯·æ±‚è¿”å›æ•°æ®ï¼Œæµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æå¹¶ æ¸²æŸ“ åˆ°é¡µé¢ã€‚ æˆ‘ä»¬æ€»ç»“å‡ºå‡ ä¸ªå…³é”®è¯ï¼š DNSè§£æ URL TCP/IP HTTPåè®® HTTPè¯·æ±‚å‘èµ·å’Œå“åº” é¡µé¢æ¸²æŸ“çš„è¿‡ç¨‹ DNSè§£æDNS:Domain Name Serverï¼ŒåŸŸåæœåŠ¡å™¨ã€‚æ˜¯è¿›è¡ŒåŸŸå(domain name)å’Œä¸ä¹‹ç›¸å¯¹åº”çš„IPåœ°å€ (IP address)è½¬æ¢çš„æœåŠ¡å™¨ã€‚DNSä¸­ä¿å­˜äº†ä¸€å¼ åŸŸå(domain name)å’Œä¸ä¹‹ç›¸å¯¹åº”çš„IPåœ°å€ (IP address)çš„è¡¨ï¼Œä»¥è§£ææ¶ˆæ¯çš„åŸŸåã€‚IPåœ°å€å…¶å®å°±æ˜¯ä¸€ä¸²ä¹±ä¸ƒå…«ç³Ÿçš„æ•°æ®ç”¨æˆ·å¾ˆéš¾è®°ä½ï¼Œä½†æ˜¯åŸŸåå°±ä¸ä¸€æ ·äº†ï¼Œæ¯”å¦‚è°·æ­Œçš„google.comï¼Œç™¾åº¦çš„baidu.com ç®€å•æ˜“è®°ã€‚æ‰€ä»¥ä¸ºäº†å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œå°±éœ€è¦ç”¨åŸŸåå»æ˜ å°„IPåœ°å€ã€‚å› æ­¤ï¼Œå½“ç”¨æˆ·åœ¨æµè§ˆå™¨è¾“å…¥https://www.baidu.com å›è½¦æ—¶ï¼Œå®ƒç»å†äº†ä»¥ä¸‹æ­¥éª¤ï¼š 1.æµè§ˆå™¨æ ¹æ®åœ°å€å»æœ¬èº«ç¼“å­˜ä¸­æŸ¥æ‰¾dnsè§£æè®°å½•ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ç›´æ¥è¿”å›IPåœ°å€ï¼Œå¦åˆ™æµè§ˆå™¨ä¼šæŸ¥æ‰¾æ“ä½œç³»ç»Ÿä¸­ï¼ˆhostsæ–‡ä»¶ï¼‰æ˜¯å¦æœ‰è¯¥åŸŸåçš„dnsè§£æè®°å½•ï¼Œå¦‚æœæœ‰åˆ™è¿”å›ã€‚2.å¦‚æœæµè§ˆå™¨ç¼“å­˜å’Œæ“ä½œç³»ç»Ÿhostsä¸­å‡æ— è¯¥åŸŸåçš„dnsè§£æè®°å½•ï¼Œæˆ–è€…å·²ç»è¿‡æœŸï¼Œæ­¤æ—¶å°±ä¼šå‘åŸŸåæœåŠ¡å™¨å‘èµ·è¯·æ±‚æ¥è§£æè¿™ä¸ªåŸŸåã€‚3.è¯·æ±‚ä¼šå…ˆåˆ°LDNSï¼ˆæœ¬åœ°åŸŸåæœåŠ¡å™¨ï¼‰ï¼Œè®©å®ƒæ¥å°è¯•è§£æè¿™ä¸ªåŸŸåï¼Œå¦‚æœLDNSä¹Ÿè§£æä¸äº†ï¼Œåˆ™ç›´æ¥åˆ°æ ¹åŸŸåè§£æå™¨è¯·æ±‚è§£æ4.æ ¹åŸŸåæœåŠ¡å™¨ç»™LDNSè¿”å›ä¸€ä¸ªæ‰€æŸ¥è¯¢ä½™çš„ä¸»åŸŸåæœåŠ¡å™¨ï¼ˆgTLDServerï¼‰åœ°å€ã€‚5.æ­¤æ—¶LDNSå†å‘ä¸Šä¸€æ­¥è¿”å›çš„gTLDæœåŠ¡å™¨å‘èµ·è§£æè¯·æ±‚ã€‚6.gTLDæœåŠ¡å™¨æ¥æ”¶åˆ°è§£æè¯·æ±‚åæŸ¥æ‰¾å¹¶è¿”å›æ­¤åŸŸåå¯¹åº”çš„Name ServeråŸŸåæœåŠ¡å™¨çš„åœ°å€ï¼Œè¿™ä¸ªName Serveré€šå¸¸å°±æ˜¯ä½ æ³¨å†Œçš„åŸŸåæœåŠ¡å™¨ï¼ˆæ¯”å¦‚é˜¿é‡Œdnsã€è…¾è®¯dnsç­‰ï¼‰7.Name ServeråŸŸåæœåŠ¡å™¨ä¼šæŸ¥è¯¢å­˜å‚¨çš„åŸŸåå’ŒIPçš„æ˜ å°„å…³ç³»è¡¨ï¼Œæ­£å¸¸æƒ…å†µä¸‹éƒ½æ ¹æ®åŸŸåå¾—åˆ°ç›®æ ‡IPè®°å½•ï¼Œè¿åŒä¸€ä¸ªTTLå€¼è¿”å›ç»™DNS ServeråŸŸåæœåŠ¡å™¨8.è¿”å›è¯¥åŸŸåå¯¹åº”çš„IPå’ŒTTLå€¼ï¼ŒLocal DNS Serverä¼šç¼“å­˜è¿™ä¸ªåŸŸåå’ŒIPçš„å¯¹åº”å…³ç³»ï¼Œç¼“å­˜çš„æ—¶é—´æœ‰TTLå€¼æ§åˆ¶ã€‚9.æŠŠè§£æçš„ç»“æœè¿”å›ç»™ç”¨æˆ·ï¼Œç”¨æˆ·æ ¹æ®TTLå€¼ç¼“å­˜åœ¨æœ¬åœ°ç³»ç»Ÿç¼“å­˜ä¸­ï¼ŒåŸŸåè§£æè¿‡ç¨‹ç»“æŸã€‚ URLURLï¼šUniform Resource Locator ç»Ÿä¸€èµ„æºå®šä½ç¬¦ã€‚è¯´ç™½äº†å°±æ˜¯ç½‘ç»œä¸Šç”¨æ¥æ ‡è¯†å…·ä½“èµ„æºçš„ä¸€ä¸ªåœ°å€ï¼ŒåŒ…å«äº†ç”¨æˆ·æŸ¥æ‰¾è¯¥èµ„æºçš„ä¿¡æ¯ï¼ŒHTTPä½¿ç”¨å®ƒæ¥ä¼ è¾“æ•°æ®å’Œå»ºç«‹è¿æ¥ã€‚ä¸€ä¸ªURLæœ‰ä»¥ä¸‹ç»„æˆéƒ¨åˆ†ï¼š 1. åè®® 2. æœåŠ¡å™¨åœ°å€ï¼ˆåŸŸåæˆ–IP+ç«¯å£ï¼‰ 3. è·¯å¾„ 4. æ–‡ä»¶å TCP/IPåè®®TCPï¼šTransmission Control Protocolï¼Œ ä¼ è¾“æ§åˆ¶åè®®ï¼Œæ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šä¿¡åè®®ã€‚åŒæ–¹å»ºç«‹TCPè¿æ¥éœ€è¦ç»å†ä¸‰æ¬¡æ¡æ‰‹ï¼š 1.å®¢æˆ·ç«¯å‘é€synåŒ…(syn=j)åˆ°æœåŠ¡å™¨ï¼Œå¹¶è¿›å…¥SYN_SENDçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ã€‚2.æœåŠ¡å™¨æ”¶åˆ°synåŒ…ï¼Œå¿…é¡»ç¡®è®¤å®¢æˆ·çš„SYNï¼ˆack=j+1ï¼‰ï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿå‘é€ä¸€ä¸ªSYNåŒ…ï¼ˆsyn=kï¼‰ï¼Œå³SYN+ACKåŒ…ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥SYN_RECVçŠ¶æ€ã€‚3.å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYNï¼‹ACKåŒ…ï¼Œå‘æœåŠ¡å™¨å‘é€ç¡®è®¤åŒ…ACK(ack=k+1)ï¼Œæ­¤åŒ…å‘é€å®Œæ¯•ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹ã€‚ ä¸Šé¢å‡ ä¸ªçŠ¶æ€ç çš„è§£é‡Šï¼š 1.SYN:synchronous å»ºç«‹è”æœº2.ACK:acknowledgement ç¡®è®¤3.SYN_SENT:è¯·æ±‚è¿æ¥4.SYN_RECV:æœåŠ¡ç«¯è¢«åŠ¨æ‰“å¼€å,æ¥æ”¶åˆ°äº†å®¢æˆ·ç«¯çš„SYNå¹¶ä¸”å‘é€äº†ACKæ—¶çš„çŠ¶æ€ã€‚å†è¿›ä¸€æ­¥æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„ACKå°±è¿›å…¥ESTABLISHEDçŠ¶æ€ã€‚TCPè¿æ¥æ—¶å¹¶ä¸æºå¸¦æ•°æ® HTTPåè®®HTTPåè®®ï¼šHypertext Transfer Protocol ä¹Ÿå«è¶…æ–‡æœ¬ä¼ é€åè®® ï¼Œå®ƒæ˜¯ä¸€ç§åŸºäºTCP/IPåè®®æ ˆã€åœ¨è¡¨ç¤ºå±‚å’Œåº”ç”¨å±‚ä¸Šçš„åè®®ï¼ˆTCPåœ¨ä¼ è¾“å±‚çš„åè®®ï¼‰ï¼Œé€šä¿—ä¸€ç‚¹è¯´å°±æ˜¯TCP/IPæ˜¯ä½äºä¼ è¾“å±‚ä¸Šçš„ä¸€ç§åè®®ï¼Œç”¨äºåœ¨ç½‘ç»œä¸­ä¼ è¾“æ•°æ®ï¼›HTTPåè®®æ˜¯åº”ç”¨å±‚åè®®ï¼ŒåŸºäºTCPåè®®ï¼Œç”¨äºåŒ…è£…æ•°æ®ï¼Œç¨‹åºä½¿ç”¨å®ƒè¿›è¡Œé€šä¿¡ï¼Œå¯ä»¥ç®€å•é«˜æ•ˆçš„å¤„ç†é€šä¿¡ä¸­æ•°æ®çš„ä¼ è¾“å’Œè¯†åˆ«å¤„ç†ã€‚]]></content>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSSå¸ƒå±€ç¬”è®°]]></title>
    <url>%2Fblog%2Fposts%2F48507%2F</url>
    <content type="text"><![CDATA[ä¸€ã€ç›’æ¨¡å‹ ie ç›’æ¨¡å‹ç®—ä¸Š borderã€padding åŠè‡ªèº«ï¼ˆä¸ç®— marginï¼‰ï¼Œæ ‡å‡†çš„åªç®—ä¸Šè‡ªèº«çª—ä½“çš„å¤§å° css è®¾ç½®æ–¹æ³•å¦‚ä¸‹ï¼š 1234/* æ ‡å‡†æ¨¡å‹ */box-sizing:content-box; /*IEæ¨¡å‹*/box-sizing:border-box; marginã€borderã€paddingã€content ç”±å¤–åˆ°é‡Œ æœ€å¸¸ç”¨çš„è·å¾—å®½é«˜çš„æ–¹å¼dom.offsetWidth/offsetHeight å„ç§è·å¾—å®½é«˜çš„æ–¹å¼ è·å–å±å¹•çš„é«˜åº¦å’Œå®½åº¦ï¼ˆå±å¹•åˆ†è¾¨ç‡ï¼‰ï¼šwindow.screen.height/width è·å–å±å¹•å·¥ä½œåŒºåŸŸçš„é«˜åº¦å’Œå®½åº¦ï¼ˆå»æ‰çŠ¶æ€æ ï¼‰window.screen.availHeight/availWidth ç½‘é¡µå…¨æ–‡çš„é«˜åº¦å’Œå®½åº¦ï¼šdocument.body.scrollHeight/Width æ»šåŠ¨æ¡å·ä¸Šå»çš„é«˜åº¦å’Œå‘å³å·çš„å®½åº¦ï¼šdocument.body.scrollTop/scrollLeft ç½‘é¡µå¯è§åŒºåŸŸçš„é«˜åº¦å’Œå®½åº¦ï¼ˆä¸åŠ è¾¹çº¿ï¼‰ï¼šdocument.body.clientHeight/clientWidth ç½‘é¡µå¯è§åŒºåŸŸçš„é«˜åº¦å’Œå®½åº¦ï¼ˆåŠ è¾¹çº¿ï¼‰ï¼šdocument.body.offsetHeight/offsetWidth äºŒã€å±…ä¸­æ–¹å¼ æ°´å¹³å±…ä¸­å†…è”å…ƒç´ ï¼šinline, å†…è”å— inline-block, å†…è”è¡¨ inline-table, inline-flex å…ƒç´ åŠ img,span,button ç­‰text-align:center;ä¸å®šå®½å—å…ƒç´ å±…ä¸­ï¼šmargin:0 auto;//ä¸”éœ€è¦è®¾ç½®çˆ¶çº§å®½åº¦é€šè¿‡ç»™çˆ¶å…ƒç´ è®¾ç½® floatï¼Œç„¶åç»™çˆ¶å…ƒç´ è®¾ç½® position:relative å’Œ left:50%ï¼Œå­å…ƒç´ è®¾ç½® position:relative å’Œ left: -50% æ¥å®ç°æ°´å¹³å±…ä¸­ã€‚ 123456789.wrap&#123; float:left; position:relative; left:50%; clear:both;&#125;.wrap-center&#123; left:-50%;&#125; å‚ç›´å±…ä¸­å•è¡Œå†…è”(inline-)å…ƒç´ å‚ç›´å±…ä¸­ é€šè¿‡è®¾ç½®å†…è”å…ƒç´ çš„é«˜åº¦(height)å’Œè¡Œé«˜(line-height)ç›¸ç­‰ï¼Œä»è€Œä½¿å…ƒç´ å‚ç›´å±…ä¸­ã€‚ 12height: 120px;line-height: 120px; åˆ©ç”¨è¡¨å¸ƒå±€ 12345678.father &#123; display: table;&#125;.children &#123; display: table-cell; vertical-align: middle; text-align: center;&#125; flex å¸ƒå±€ 12345.center-flex &#123; display: flex; flex-direction: column;//ä¸Šä¸‹æ’åˆ— justify-content: center;&#125; ç»å¯¹å¸ƒå±€æ–¹å¼å·²çŸ¥é«˜åº¦ 123456789.parent &#123; position: relative;&#125;.child &#123; position: absolute; top: 50%; height: 100px; margin-top: -50px;&#125; æœªçŸ¥é«˜åº¦ 12345678.parent &#123; position: relative;&#125;.child &#123; position: absolute; top: 50%; transform: translateY(-50%);&#125; å‚ç›´æ°´å¹³å±…ä¸­flex æ–¹å¼ 12345.parent &#123; display: flex; justify-content: center; align-items: center;&#125; grid æ–¹å¼ 1234567.parent &#123; height: 140px; display: grid;&#125;.child &#123; margin: auto;&#125;]]></content>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexoä¸ªäººåšå®¢éƒ¨ç½²ç§˜ç±]]></title>
    <url>%2Fblog%2Fposts%2F31659%2F</url>
    <content type="text"><![CDATA[æ‘˜è¦Hexo æ˜¯ç”¨ Node.js å¼€å‘çš„ä¸€ä¸ªé™æ€ç«™ç‚¹ç”Ÿæˆå™¨ï¼ˆStatic Site Generatorï¼‰ï¼Œæ”¯æŒ Markdown è¯­æ³•å†™ä½œï¼Œæœ‰ç€å¼ºå¤§çš„æ’ä»¶ç³»ç»Ÿï¼Œè€Œä¸”æ€§èƒ½ä¼˜å¼‚ã€‚æœ¬æ–‡å°†è®°å½•å¦‚ä½•å°†hexoåœ¨æœ¬åœ°æ­å»ºçš„åšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘çš„Ubuntu16.04æœåŠ¡å™¨ä¸Šã€‚ï¼ˆé€šè¿‡äº‘æœåŠ¡å™¨ä¸Šçš„ç§æœ‰ Git ä»“åº“éƒ¨ç½²åˆ° Web æœåŠ¡å™¨ç›®å½•ä¸‹ï¼‰ æœåŠ¡ç«¯é…ç½®åœ¨äº‘æœåŠ¡å™¨ä¸Šå®‰è£… Git å’Œ Nginx ä¸¤ä¸ªå¿…å¤‡çš„è½¯ä»¶åŒ…ã€‚Git ç”¨äºç‰ˆæœ¬ç®¡ç†å’Œéƒ¨ç½²ï¼ŒNginx ç”¨äºé™æ€åšå®¢æ‰˜ç®¡ã€‚12sudo apt-get updatesudo apt-get install git nginx Git é…ç½®åœ¨ /var/repo/ ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º hexo_static çš„è£¸ä»“åº“ï¼ˆbare repoï¼‰ã€‚å¦‚æœæ²¡æœ‰ /var/repo ç›®å½•ï¼Œéœ€è¦å…ˆåˆ›å»ºï¼›ç„¶åä¿®æ”¹ç›®å½•çš„æ‰€æœ‰æƒå’Œç”¨æˆ·æƒé™ï¼Œä¹‹å ubuntu ç”¨æˆ·éƒ½å…·å¤‡/var/repo ç›®å½•ä¸‹æ‰€æœ‰æ–°ç”Ÿæˆçš„ç›®å½•å’Œæ–‡ä»¶çš„æƒé™ã€‚123sudo mkdir /var/repo/sudo chown -R $USER:$USER /var/repo/sudo chmod -R 755 /var/repo/ åˆå§‹åŒ–gitä»“åº“12cd /var/repo/git init --bare hexo_static.git é…ç½® Nginx æ‰˜ç®¡æ–‡ä»¶ç›®å½•æ¥ä¸‹æ¥ï¼Œåˆ›å»º /var/www/hexo ç›®å½•ï¼Œç”¨äº Nginx æ‰˜ç®¡ï¼Œå¹¶ä¿®æ”¹æƒé™ã€‚123sudo mkdir -p /var/www/hexosudo chown -R $USER:$USER /var/www/hexosudo chmod -R 755 /var/www/hexo ä¿®æ”¹ Nginx çš„ default è®¾ç½®ï¼š1sudo vim /etc/nginx/sites-available/default å°†å…¶ä¸­çš„ root æŒ‡ä»¤æŒ‡å‘ /var/www/hexo ç›®å½•123456789... server &#123; listen 80 default_server; listen [::]:80 default_server ipv6only=on; root /var/www/hexo; # éœ€è¦ä¿®æ”¹çš„éƒ¨åˆ† index index.html index.htm;... ä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶ã€‚å¦‚æœä»¥åè´­ä¹°å¹¶å¤‡æ¡ˆåŸŸåä¹‹åï¼Œå¯ä»¥å†å°†é…ç½®ä¸­çš„ default_server ä¿®æ”¹ä¸ºä½ çš„åŸŸåã€‚æœ€åï¼Œé‡å¯ Nginx æœåŠ¡ï¼Œä½¿å¾—æ”¹åŠ¨ç”Ÿæ•ˆã€‚ åˆ›å»ºGité’©å­æ¥ä¸‹æ¥ï¼Œåœ¨æœåŠ¡å™¨ä¸Šçš„è£¸ä»“åº“ hexo_static åˆ›å»ºä¸€ä¸ªé’©å­ï¼Œåœ¨æ»¡è¶³ç‰¹å®šæ¡ä»¶æ—¶å°†é™æ€ HTML æ–‡ä»¶ä¼ é€åˆ° Web æœåŠ¡å™¨çš„ç›®å½•ä¸‹ï¼Œå³ /var/www/hexoã€‚åœ¨è‡ªåŠ¨ç”Ÿæˆçš„ hooks ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„é’©å­æ–‡ä»¶ï¼š1vim /var/repo/hexo_static.git/hooks/post-receive åœ¨è¯¥æ–‡ä»¶ä¸­æ·»åŠ ä¸¤è¡Œä»£ç ï¼ŒæŒ‡å®š Git çš„å·¥ä½œæ ‘ï¼ˆæºä»£ç ï¼‰å’Œ Git ç›®å½•ï¼ˆé…ç½®æ–‡ä»¶ç­‰ï¼‰ã€‚12#!/bin/bashgit --work-tree=/var/www/hexo --git-dir=/var/repo/hexo_static.git checkout -f ä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶ï¼Œå¹¶è®©è¯¥æ–‡ä»¶å˜ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ã€‚1chmod +x /var/repo/hexo_static.git/hooks/post-receive å½“å½“å½“ï¼ï¼ï¼åˆ°è¿™é‡ŒæœåŠ¡å™¨çš„é…ç½®å°±å®Œæˆå•¦ï¼ ä¸‹é¢æ¥é…ç½®_config.ymlä¸­çš„deployé€‰é¡¹ deployé…ç½®é¦–å…ˆä¿®æ”¹URLä¸ºè‡ªå·±çš„åŸŸåæˆ–è€…å…¬ç½‘ipåœ°å€ï¼Œæ¯”å¦‚æˆ‘çš„å°±æ˜¯www.jinminrui.cnç„¶åä¿®æ”¹deploy1234deploy: type: git repo: root@47.100.221.250ï¼ˆäº‘æœåŠ¡å™¨çš„IPåœ°å€ï¼‰:/var/repo/hexo_static branch: master æœ€åï¼ä¸€é”®éƒ¨ç½²åˆ°ä½ï¼hexo generate &amp;&amp; hexo deploy]]></content>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Gitå­¦ä¹ ç¬”è®°]]></title>
    <url>%2Fblog%2Fposts%2F8520%2F</url>
    <content type="text"><![CDATA[#git#subversionâ€”â€”é›†ä¸­å‹ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ gitâ€”â€”åˆ†æ•£å‹ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ Git åŸºæœ¬å‘½ä»¤1ã€git init â€”â€” åˆå§‹åŒ–ä»“åº“2ã€git status â€”â€” æŸ¥çœ‹ä»“åº“çŠ¶æ€3ã€git add â€”â€” å‘æš‚å­˜åŒºä¸­æ·»åŠ æ–‡ä»¶4ã€git commit â€”â€” ä¿å­˜ä»“åº“çš„å†å²è®°å½•5ã€git logâ€”â€”æŸ¥çœ‹æäº¤æ—¥å¿—6ã€git diffâ€”â€”æŸ¥çœ‹æ›´æ”¹å‰åçš„å·®åˆ«7ã€git checkout -b [name] â€”â€” ä»¥å½“å‰ master åˆ†æ”¯åˆ›å»ºæ–°çš„åˆ†æ”¯ Pull RequestPull Request æ˜¯è‡ªå·±ä¿®æ”¹æºä»£ç åï¼Œè¯·æ±‚å¯¹æ–¹ä»“åº“é‡‡çº³è¯¥ä¿®æ”¹æ—¶é‡‡å–çš„ä¸€ç§è¡Œä¸ºã€‚]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue-RouteråŸºç¡€]]></title>
    <url>%2Fblog%2Fposts%2F64586%2F</url>
    <content type="text"><![CDATA[Vue-Routerè·¯ç”±ä¸­æœ‰ä¸‰ä¸ªåŸºæœ¬çš„æ¦‚å¿µ route, routes, routerã€‚ 1ã€ routeï¼Œå®ƒæ˜¯ä¸€æ¡è·¯ç”±ï¼Œç”±è¿™ä¸ªè‹±æ–‡å•è¯ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼Œå®ƒæ˜¯å•æ•°ï¼Œ Home æŒ‰é’® =&gt; home å†…å®¹ï¼Œ è¿™æ˜¯ä¸€æ¡ route, about æŒ‰é’® =&gt; about å†…å®¹ï¼Œ è¿™æ˜¯å¦ä¸€æ¡è·¯ç”±ã€‚ 2ã€ routes æ˜¯ä¸€ç»„è·¯ç”±ï¼ŒæŠŠä¸Šé¢çš„æ¯ä¸€æ¡è·¯ç”±ç»„åˆèµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªæ•°ç»„ã€‚[{home æŒ‰é’® =&gt;home å†…å®¹ }ï¼Œ { about æŒ‰é’® =&gt; about å†…å®¹}] 3ã€router æ˜¯ä¸€ä¸ªæœºåˆ¶ï¼Œç›¸å½“äºä¸€ä¸ªç®¡ç†è€…ï¼Œå®ƒæ¥ç®¡ç†è·¯ç”±ã€‚å› ä¸º routes åªæ˜¯å®šä¹‰äº†ä¸€ç»„è·¯ç”±ï¼Œå®ƒæ”¾åœ¨å“ªé‡Œæ˜¯é™æ­¢çš„ï¼Œå½“çœŸæ­£æ¥äº†è¯·æ±‚ï¼Œæ€ä¹ˆåŠï¼Ÿ å°±æ˜¯å½“ç”¨æˆ·ç‚¹å‡» home æŒ‰é’®çš„æ—¶å€™ï¼Œæ€ä¹ˆåŠï¼Ÿè¿™æ—¶ router å°±èµ·ä½œç”¨äº†ï¼Œå®ƒåˆ° routes ä¸­å»æŸ¥æ‰¾ï¼Œå»æ‰¾åˆ°å¯¹åº”çš„ home å†…å®¹ï¼Œæ‰€ä»¥é¡µé¢ä¸­å°±æ˜¾ç¤ºäº† home å†…å®¹ã€‚ 4ã€å®¢æˆ·ç«¯ä¸­çš„è·¯ç”±ï¼Œå®é™…ä¸Šå°±æ˜¯ dom å…ƒç´ çš„æ˜¾ç¤ºå’Œéšè—ã€‚å½“é¡µé¢ä¸­æ˜¾ç¤º home å†…å®¹çš„æ—¶å€™ï¼Œabout ä¸­çš„å†…å®¹å…¨éƒ¨éšè—ï¼Œåä¹‹ä¹Ÿæ˜¯ä¸€æ ·ã€‚å®¢æˆ·ç«¯è·¯ç”±æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼šåŸºäº hash å’ŒåŸºäº html5 history api. vue-router ä¸­ï¼Œé¦–å…ˆåœ¨ routes æ•°ç»„ä¸­å®šä¹‰æ‰€éœ€è¦çš„ routeã€‚ ç„¶ååˆ›å»º router å¯¹è·¯ç”±è¿›è¡Œç®¡ç†ï¼Œå®ƒæ˜¯ç”±æ„é€ å‡½æ•° new vueRouter() åˆ›å»ºï¼Œæ¥å— routes å‚æ•° æœ€åå°† router å®ä¾‹æ³¨å…¥åˆ° vue æ ¹å®ä¾‹ä¸­,å°±å¯ä»¥ä½¿ç”¨è·¯ç”±äº† æ‰§è¡Œè¿‡ç¨‹ï¼šå½“ç”¨æˆ·ç‚¹å‡» router-link æ ‡ç­¾æ—¶ï¼Œä¼šå»å¯»æ‰¾å®ƒçš„ to å±æ€§ï¼Œ å®ƒçš„ to å±æ€§å’Œ js ä¸­é…ç½®çš„è·¯å¾„{ path: â€˜/homeâ€™, component: Home} path ä¸€ä¸€å¯¹åº”ï¼Œä»è€Œæ‰¾åˆ°äº†åŒ¹é…çš„ç»„ä»¶ï¼Œ æœ€åæŠŠç»„ä»¶æ¸²æŸ“åˆ° æ ‡ç­¾æ‰€åœ¨çš„åœ°æ–¹ã€‚æ‰€æœ‰çš„è¿™äº›å®ç°æ‰æ˜¯åŸºäº hash å®ç°çš„ã€‚ ç¼–ç¨‹å¼å¯¼èˆªï¼šè¿™ä¸»è¦åº”ç”¨åˆ°æŒ‰é’®ç‚¹å‡»ä¸Šã€‚å½“ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™ï¼Œè·³è½¬å¦ä¸€ä¸ªç»„ä»¶, è¿™åªèƒ½ç”¨ä»£ç ï¼Œè°ƒç”¨`rourter.push()` æ–¹æ³•ã€‚ å½“ä»¬æŠŠrouter æ³¨å…¥åˆ°æ ¹å®ä¾‹ä¸­åï¼Œç»„ä»¶ä¸­é€šè¿‡ this.$router å¯ä»¥è·å–åˆ°router, æ‰€ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ this.$router.push(&quot;homeâ€)å°±å¯ä»¥è·³è½¬åˆ° home ç•Œé¢]]></content>
      <tags>
        <tag>Vue.js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºVueç”Ÿå‘½å‘¨æœŸ]]></title>
    <url>%2Fblog%2Fposts%2F9284%2F</url>
    <content type="text"><![CDATA[vue æä¾›äº†å¦‚ä¸‹çš„é’©å­å‡½æ•°ä¾›æˆ‘ä»¬åœ¨ vue ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒæ—¶åˆ»è°ƒç”¨ï¼š beforeCreate created beforeMount mounted beforeUpdate updated beforeDestroy destroyed 1ã€åœ¨ beforeCreate å’Œ created é’©å­å‡½æ•°ä¹‹é—´çš„ç”Ÿå‘½å‘¨æœŸåœ¨è¿™ä¸ªç”Ÿå‘½å‘¨æœŸä¹‹é—´ï¼Œè¿›è¡Œåˆå§‹åŒ–äº‹ä»¶ï¼Œè¿›è¡Œæ•°æ®çš„è§‚æµ‹ï¼Œå¯ä»¥çœ‹åˆ°åœ¨ created çš„æ—¶å€™æ•°æ®å·²ç»å’Œ data å±æ€§è¿›è¡Œç»‘å®šï¼ˆæ”¾åœ¨ data ä¸­çš„å±æ€§å½“å€¼å‘ç”Ÿæ”¹å˜çš„åŒæ—¶ï¼Œè§†å›¾ä¹Ÿä¼šæ”¹å˜ï¼‰ã€‚~æ³¨æ„çœ‹ä¸‹ï¼šæ­¤æ—¶è¿˜æ˜¯æ²¡æœ‰ el é€‰é¡¹~ 2ã€created é’©å­å‡½æ•°å’Œ beforeMount é—´çš„ç”Ÿå‘½å‘¨æœŸ é¦–å…ˆä¼šåˆ¤æ–­å¯¹è±¡æ˜¯å¦æœ‰ el é€‰é¡¹ã€‚å¦‚æœæœ‰çš„è¯å°±ç»§ç»­å‘ä¸‹ç¼–è¯‘ï¼Œå¦‚æœæ²¡æœ‰ el é€‰é¡¹ï¼Œåˆ™åœæ­¢ç¼–è¯‘ï¼Œä¹Ÿå°±æ„å‘³ç€åœæ­¢äº†ç”Ÿå‘½å‘¨æœŸï¼Œç›´åˆ°åœ¨è¯¥ vue å®ä¾‹ä¸Šè°ƒç”¨ vm.\$mount(el)ã€‚template å‚æ•°å¯¹ç”Ÿå‘½å‘¨æœŸçš„å½±å“ï¼šï¼ˆ1ï¼‰å¦‚æœ vue å®ä¾‹å¯¹è±¡ä¸­æœ‰ template å‚æ•°é€‰é¡¹ï¼Œåˆ™å°†å…¶ä½œä¸ºæ¨¡æ¿ç¼–è¯‘æˆ render å‡½æ•°ã€‚ï¼ˆ2ï¼‰å¦‚æœæ²¡æœ‰ template é€‰é¡¹ï¼Œåˆ™å°†å¤–éƒ¨ HTML ä½œä¸ºæ¨¡æ¿ç¼–è¯‘ã€‚ï¼ˆ3ï¼‰å¯ä»¥çœ‹åˆ° template ä¸­çš„æ¨¡æ¿ä¼˜å…ˆçº§è¦é«˜äº outer HTML çš„ä¼˜å…ˆçº§ã€‚åœ¨ vue å¯¹è±¡ä¸­è¿˜æœ‰ä¸€ä¸ª render å‡½æ•°ï¼Œå®ƒæ˜¯ä»¥ createElement ä½œä¸ºå‚æ•°ï¼Œç„¶ååšæ¸²æŸ“æ“ä½œï¼Œè€Œä¸”æˆ‘ä»¬å¯ä»¥ç›´æ¥åµŒå…¥ JSX. 123456new Vue(&#123; el: &apos;#app&apos;, render: function(createElement) &#123; return createElement(&apos;h1&apos;, &apos;this is createElement&apos;) &#125;&#125;) ç»¼åˆæ’åä¼˜å…ˆçº§ï¼šrender å‡½æ•°é€‰é¡¹ &gt; template é€‰é¡¹ &gt; outer HTML. 3ã€beforeMount å’Œ mounted é’©å­å‡½æ•°é—´çš„ç”Ÿå‘½å‘¨æœŸæ­¤æ—¶æ˜¯ç»™ vue å®ä¾‹å¯¹è±¡æ·»åŠ \$el æˆå‘˜ï¼Œå¹¶ä¸”æ›¿æ¢æ‰æŒ‚åœ¨çš„ DOM å…ƒç´ ã€‚ 4ã€mountedåœ¨ mounted ä¹‹å‰ h1 ä¸­è¿˜æ˜¯é€šè¿‡è¿›è¡Œå ä½çš„ï¼Œå› ä¸ºæ­¤æ—¶è¿˜æœ‰æŒ‚åœ¨åˆ°é¡µé¢ä¸Šï¼Œè¿˜æ˜¯ JavaScript ä¸­çš„è™šæ‹Ÿ DOM å½¢å¼å­˜åœ¨çš„ã€‚åœ¨ mounted ä¹‹åå¯ä»¥çœ‹åˆ° h1 ä¸­çš„å†…å®¹å‘ç”Ÿäº†å˜åŒ–ã€‚ 5ã€beforeUpdate é’©å­å‡½æ•°å’Œ updated é’©å­å‡½æ•°é—´çš„ç”Ÿå‘½å‘¨æœŸå½“ vue å‘ç° data ä¸­çš„æ•°æ®å‘ç”Ÿäº†æ”¹å˜ï¼Œä¼šè§¦å‘å¯¹åº”ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ï¼Œå…ˆåè°ƒç”¨ beforeUpdate å’Œ updated é’©å­å‡½æ•°ã€‚åœ¨ beforeUpdate,å¯ä»¥ç›‘å¬åˆ° data çš„å˜åŒ–ä½†æ˜¯ view å±‚æ²¡æœ‰è¢«é‡æ–°æ¸²æŸ“ï¼Œview å±‚çš„æ•°æ®æ²¡æœ‰å˜åŒ–ã€‚ç­‰åˆ° updated çš„æ—¶å€™ view å±‚æ‰è¢«é‡æ–°æ¸²æŸ“ï¼Œæ•°æ®æ›´æ–°ã€‚]]></content>
      <tags>
        <tag>Vue.js</tag>
      </tags>
  </entry>
</search>
